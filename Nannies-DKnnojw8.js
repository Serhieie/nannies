import{c as w,a as c,j as t,n as f,b as g,d as M,u as p,e as m,f as _,g as A,h as k,B as h,r as x,F as P,i as N,k as S,s as O,R,l as D,m as U,o as E,p as H,M as v,q as z}from"./index-C7YDBf-L.js";const y=(e,s)=>{switch(s){case"A to Z":return[...e].sort((a,r)=>a.name.localeCompare(r.name));case"Z to A":return[...e].sort((a,r)=>r.name.localeCompare(a.name));case"Less than 10$":return e.filter(a=>a.price_per_hour<10).sort((a,r)=>a.price_per_hour-r.price_per_hour);case"Greater than 10$":return e.filter(a=>a.price_per_hour>10).sort((a,r)=>r.price_per_hour-a.price_per_hour);case"Popular":return e.filter(a=>a.rating).sort((a,r)=>r.rating-a.rating);case"Not popular":return e.filter(a=>a.rating).sort((a,r)=>a.rating-r.rating);case"Show all":default:return e}},B=e=>e.nannies.nannies,Z=e=>e.nannies.favorites,d=e=>e.filters.filter,G=w([B,d],(e,s)=>y(e,s)),T=w([Z,d],(e,s)=>y(e,s)),W=()=>{const{nannies:e,isLoading:s,error:a,status:r,activeNannie:i,favorites:n}=c(u=>u.nannies),l=c(T),o=c(G);return{nannies:e,isLoading:s,error:a,status:r,activeNannie:i,favorites:n,filteredFavorites:l,filteredNannies:o}},Y=e=>{function s(r){const i=new Date(r),n=new Date;let l=n.getFullYear()-i.getFullYear();const o=n.getMonth()-i.getMonth();return(o<0||o===0&&n.getDate()<i.getDate())&&l--,l.toString()}function a(r){return r.replace(/\b\w/g,i=>i.toUpperCase())}return[{title:"Age: ",value:s(e.birthday)},{title:"Experience: ",value:e.experience},{title:"Kids age: ",value:e.kids_age},{title:"Characters: ",value:a(e.characters.join(", "))},{title:"Education: ",value:e.education}]},q=e=>[{title:"Location",value:e.location,icon:"pin"},{title:"Rating:",value:e.rating.toString(),icon:"star"},{title:"Price / 1 hour:",value:`$${e.price_per_hour.toString()}`,icon:""}],K=({label:e})=>t.jsx("div",{className:"inline-block rounded-[30px] bg-skin-background-label px-4 py-2",children:t.jsxs("span",{className:"text-skin-secondary xs:text-sm sm:text-base",children:[e.title," ",t.jsx("span",{className:"text-skin-base",children:e.value})]})}),J=({labels:e})=>t.jsx("ul",{className:"flex flex-wrap gap-2",children:e.map(s=>t.jsx(K,{label:s},f()))}),Q=({labels:e})=>t.jsx("ul",{className:"flex flex-wrap gap-1",children:e.map((s,a)=>t.jsxs("li",{className:"flex gap-1 xs:flex-col md:flex-row",children:[t.jsxs("span",{className:"flex items-center gap-1 leading-[150%] xs:text-sm md:text-base",children:[s.title!=="Price / 1 hour:"&&t.jsx("svg",{className:`mb-1 flex-shrink-0 transition-colors duration-300 ${s.title==="Rating:"?"fill-skin-rating":"fill-transparent stroke-skin-base-text"}`,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:t.jsx("use",{xlinkHref:`${g}#icon-${s.icon}`})}),s.title!=="Location"&&s.title,t.jsxs("span",{className:`${s.title==="Price / 1 hour:"?"text-skin-salary":"text-skin-base xs:text-sm md:text-base"}`,children:[" ",` ${s.value}`]})]}),(a===0||a===1)&&t.jsx("div",{className:"mx-4 bg-skin-grey opacity-20 xs:h-[1px] xs:w-[100%] md:h-[94%] md:w-[1px]"})]},s.title))}),F=({nanny:e})=>{const{favorites:s}=W(),{isLoggedIn:a}=M(),r=s.some(l=>e.id===l.id),i=p(),n=l=>{i(r?a?_(l):m(!0):a?A(l):m(!0))};return t.jsx("button",{className:"self-start xs:absolute xs:right-5 xs:top-5 sm:relative sm:right-0 sm:top-0",onClick:()=>n(e.id),type:"button",children:t.jsx("svg",{className:`${r&&a?"fill-skin-primary stroke-skin-primary":"fill-transparent stroke-skin-base-text"} transition-colors duration-300`,xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",children:t.jsx("use",{xlinkHref:`${g}#icon-hearth`})})})},b=({nanny:e})=>{const s=q(e),{isDesktop:a}=k();return t.jsxs("div",{className:"flex w-full flex-wrap items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"flex flex-col text-skin-secondary",children:"nanny"}),t.jsx("h2",{children:e.name})]}),t.jsxs("div",{className:"flex items-center gap-12",children:[t.jsx(Q,{labels:s}),a&&t.jsx(F,{nanny:e})]})]})},V=({handleClick:e,about:s,isReadMoreOpen:a})=>t.jsxs("div",{className:"flex flex-col gap-[14px]",children:[t.jsx("p",{className:"text-base font-normal text-skin-secondary",children:s}),!a&&t.jsx("button",{className:"text-start underline",onClick:e,type:"button",children:"Read More"})]}),X=({review:e})=>{const s=e.reviewer[0].toUpperCase();return t.jsxs("li",{className:"flex flex-col flex-wrap gap-4",children:[t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-full bg-skin-background bg-opacity-20",children:t.jsx("span",{className:"mt-1 text-skin-theme",children:s})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-skin-base",children:e.reviewer}),t.jsxs("span",{className:"flex gap-2",children:[t.jsx("svg",{className:"fill-skin-rating",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:t.jsx("use",{xlinkHref:`${g}#icon-star`})}),e.rating.toFixed(1)]})]})]}),t.jsx("p",{className:"font-normal text-skin-secondary xs:text-sm sm:text-base",children:e.comment})]})},ee=({reviews:e})=>t.jsx("ul",{className:"flex flex-col xs:gap-[8px] md:gap-[14px] xl:gap-[25px]",children:e.map(s=>t.jsx(X,{review:s},s.reviewer))}),te=({nanny:e,openIsAppointmentOpen:s})=>t.jsxs("div",{children:[t.jsx(ee,{reviews:e.reviews}),t.jsx(h,{className:"mt-12 max-w-[215px] border border-transparent text-skin-inverted hover:border-skin-primary hover:border-opacity-40",type:"button",text:"Make an appointment",onClick:s})]}),se=({nanny:e})=>{const[s,a]=x.useState(!1),{isDesktop:r}=k(),i=p(),n=Y(e),l=()=>{a(!0)},o=()=>{i(N(!0))};return t.jsx(t.Fragment,{children:t.jsxs("li",{className:"relative flex flex-col gap-6 rounded-[30px] bg-skin-background-fullWhite p-6 xl:flex-row",children:[t.jsxs("div",{className:"flex gap-4 xs:flex-col sm:flex-row",children:[t.jsx("div",{className:"flex h-[120px] w-[120px] flex-shrink-0 items-center justify-center rounded-[30px] border-2 border-skin-primary border-opacity-20 p-3",children:t.jsx(P,{width:"96px",imageSrc:e.avatar_url,avaClass:"rounded-[15px] "})}),!r&&t.jsx(b,{nanny:e}),!r&&t.jsx(F,{nanny:e})]}),t.jsxs("div",{className:"flex flex-col gap-6",children:[r&&t.jsx(b,{nanny:e}),t.jsx(J,{labels:n}),t.jsx(V,{isReadMoreOpen:s,handleClick:l,about:e.about}),s&&t.jsx(te,{openIsAppointmentOpen:o,nanny:e})]})]})})},ae=({nannies:e})=>t.jsx("ul",{className:"mt-10 flex min-h-[calc(100dvh-260px)] w-full flex-col gap-8",children:e==null?void 0:e.map(s=>t.jsx(se,{nanny:s},f()))}),re=[{title:"A to Z"},{title:"Z to A"},{title:"Less than 10$"},{title:"Greater than 10$"},{title:"Popular"},{title:"Not popular"},{title:"Show all"}],ie=({isFiltersOpen:e})=>{const s=p(),a=c(d),r=i=>{s(O(i))};return t.jsx("div",{className:S("absolute left-0 top-[112%] z-40 flex h-[244px] w-[226px] flex-col justify-center gap-3 rounded-[14px] bg-skin-background-white px-4 py-[14px] text-sm text-skin-base shadow-lg transition-all duration-300",{"invisible scale-75 opacity-0":!e,"visible z-40 scale-100 opacity-100":e}),children:re.map(i=>t.jsx("span",{className:`${a===i.title?"text-skin-base":"text-skin-secondary"} cursor-pointer text-lg font-normal leading-[111%] transition-colors duration-300 ease-in-out hover:text-skin-theme`,onClick:()=>r(i.title),children:i.title},f()))})},ne=()=>{const[e,s]=x.useState(!1),a=c(d),r=()=>{s(i=>!i)};return t.jsxs("div",{className:"relative w-56 select-none",children:[t.jsxs("span",{onClick:r,className:"flex h-12 w-56 cursor-pointer items-center justify-between rounded-[14px] bg-skin-background px-[18px] py-[12px] font-normal text-skin-inverted",children:[a,t.jsx(R,{className:`${e?"rotate-180":"rotate-0"} transition-all duration-300`,size:24})]}),t.jsx(ie,{isFiltersOpen:e})]})},le=({children:e,className:s=""})=>t.jsx("div",{className:`mx-auto w-full xs:min-w-[300px] xs:px-2 sm:max-w-[700px] sm:px-4 md:max-w-[980px] lg:max-w-[1040px] lg:px-0 xl:max-w-[1184px] ${s} `,children:e}),ce=({nannies:e})=>{const[s,a]=x.useState(3),{isLoginPopUpOpen:r,isAppointmentOpen:i}=D(),n=p(),l=U(),u=E().pathname==="/favorites";x.useEffect(()=>{n(H(s))},[s]);const L=()=>{s<=e.length&&a($=>$+3)},j=()=>{n(m(!1))},C=()=>{j(),l("/"),setTimeout(()=>{n(z(!0))},300)},I=()=>{n(N(!1))};return console.log(e),t.jsxs(le,{children:[t.jsxs("div",{className:"mb-24 mt-16 min-h-[100dvh]",children:[t.jsx(ne,{}),t.jsx(ae,{nannies:e}),!u&&t.jsx(h,{className:"mx-auto mt-16 max-w-[160px] text-skin-inverted",text:"Load More",type:"button",onClick:L})]}),t.jsx(v,{title:"Hello",textClassName:"xs:text-lg xl:text-xl w-96",text:"If you want to use favorites, you should be logged in",onClose:j,isOpen:r,children:t.jsx(h,{className:"border border-transparent text-skin-inverted hover:border-skin-primary",onClick:C,type:"button",text:"To Log In"})}),t.jsx(v,{title:"Make an appointment with a babysitter",text:"Arranging a meeting with a caregiver for your child is the first step to creating a safe and comfortable environment. Fill out the form below so we can match you with the perfect care partner.",isOpen:i,onClose:I})]})};export{ce as N,d as s,W as u};
