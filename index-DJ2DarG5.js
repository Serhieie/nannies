const __vite__fileDeps=["NanniesPage-BqqmR4FK.js","Nannies-CWUKxUFn.js","Nannies-bIkKzpZj.css","Favorites-KOrLv-Q7.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var xb=Object.defineProperty;var kb=(t,e,n)=>e in t?xb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Id=(t,e,n)=>(kb(t,typeof e!="symbol"?e+"":e,n),n);function Rb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function js(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ob(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var G0={exports:{}},Ec={},K0={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ia=Symbol.for("react.element"),Nb=Symbol.for("react.portal"),Pb=Symbol.for("react.fragment"),Ab=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),Lb=Symbol.for("react.provider"),Mb=Symbol.for("react.context"),Fb=Symbol.for("react.forward_ref"),Ub=Symbol.for("react.suspense"),jb=Symbol.for("react.memo"),$b=Symbol.for("react.lazy"),c_=Symbol.iterator;function Vb(t){return t===null||typeof t!="object"?null:(t=c_&&t[c_]||t["@@iterator"],typeof t=="function"?t:null)}var Y0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q0=Object.assign,X0={};function $s(t,e,n){this.props=t,this.context=e,this.refs=X0,this.updater=n||Y0}$s.prototype.isReactComponent={};$s.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$s.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J0(){}J0.prototype=$s.prototype;function wp(t,e,n){this.props=t,this.context=e,this.refs=X0,this.updater=n||Y0}var Ep=wp.prototype=new J0;Ep.constructor=wp;Q0(Ep,$s.prototype);Ep.isPureReactComponent=!0;var d_=Array.isArray,Z0=Object.prototype.hasOwnProperty,Sp={current:null},ew={key:!0,ref:!0,__self:!0,__source:!0};function tw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Z0.call(e,r)&&!ew.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ia,type:t,key:s,ref:o,props:i,_owner:Sp.current}}function zb(t,e){return{$$typeof:Ia,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ia}function Bb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var f_=/\/+/g;function bd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bb(""+t.key):e.toString(36)}function kl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ia:case Nb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bd(o,0):r,d_(i)?(n="",t!=null&&(n=t.replace(f_,"$&/")+"/"),kl(i,e,n,"",function(u){return u})):i!=null&&(Cp(i)&&(i=zb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(f_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",d_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+bd(s,a);o+=kl(s,e,n,l,i)}else if(l=Vb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+bd(s,a++),o+=kl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xa(t,e,n){if(t==null)return t;var r=[],i=0;return kl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Wb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},Rl={transition:null},Hb={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Rl,ReactCurrentOwner:Sp};function nw(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Xa,forEach:function(t,e,n){Xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xa(t,function(){e++}),e},toArray:function(t){return Xa(t,function(e){return e})||[]},only:function(t){if(!Cp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=$s;se.Fragment=Pb;se.Profiler=Db;se.PureComponent=wp;se.StrictMode=Ab;se.Suspense=Ub;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hb;se.act=nw;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Q0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Z0.call(e,l)&&!ew.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ia,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:Mb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lb,_context:t},t.Consumer=t};se.createElement=tw;se.createFactory=function(t){var e=tw.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:Fb,render:t}};se.isValidElement=Cp;se.lazy=function(t){return{$$typeof:$b,_payload:{_status:-1,_result:t},_init:Wb}};se.memo=function(t,e){return{$$typeof:jb,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Rl.transition;Rl.transition={};try{t()}finally{Rl.transition=e}};se.unstable_act=nw;se.useCallback=function(t,e){return gt.current.useCallback(t,e)};se.useContext=function(t){return gt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};se.useEffect=function(t,e){return gt.current.useEffect(t,e)};se.useId=function(){return gt.current.useId()};se.useImperativeHandle=function(t,e,n){return gt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return gt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return gt.current.useReducer(t,e,n)};se.useRef=function(t){return gt.current.useRef(t)};se.useState=function(t){return gt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return gt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return gt.current.useTransition()};se.version="18.3.1";K0.exports=se;var k=K0.exports;const q=js(k),Pf=Rb({__proto__:null,default:q},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb=k,Gb=Symbol.for("react.element"),Kb=Symbol.for("react.fragment"),Yb=Object.prototype.hasOwnProperty,Qb=qb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xb={key:!0,ref:!0,__self:!0,__source:!0};function rw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Yb.call(e,r)&&!Xb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Gb,type:t,key:s,ref:o,props:i,_owner:Qb.current}}Ec.Fragment=Kb;Ec.jsx=rw;Ec.jsxs=rw;G0.exports=Ec;var b=G0.exports,Af={},iw={exports:{}},Wt={},sw={exports:{}},ow={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,$){var B=R.length;R.push($);e:for(;0<B;){var Y=B-1>>>1,te=R[Y];if(0<i(te,$))R[Y]=$,R[B]=te,B=Y;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],B=R.pop();if(B!==$){R[0]=B;e:for(var Y=0,te=R.length,me=te>>>1;Y<me;){var ge=2*(Y+1)-1,He=R[ge],De=ge+1,lt=R[De];if(0>i(He,B))De<te&&0>i(lt,He)?(R[Y]=lt,R[De]=B,Y=De):(R[Y]=He,R[ge]=B,Y=ge);else if(De<te&&0>i(lt,B))R[Y]=lt,R[De]=B,Y=De;else break e}}return $}function i(R,$){var B=R.sortIndex-$.sortIndex;return B!==0?B:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,m=!1,g=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(R){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=R)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function y(R){if(v=!1,p(R),!g)if(n(l)!==null)g=!0,ee(S);else{var $=n(u);$!==null&&T(y,$.startTime-R)}}function S(R,$){g=!1,v&&(v=!1,_(C),C=-1),m=!0;var B=f;try{for(p($),d=n(l);d!==null&&(!(d.expirationTime>$)||R&&!K());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var te=Y(d.expirationTime<=$);$=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),p($)}else r(l);d=n(l)}if(d!==null)var me=!0;else{var ge=n(u);ge!==null&&T(y,ge.startTime-$),me=!1}return me}finally{d=null,f=B,m=!1}}var x=!1,N=null,C=-1,A=5,F=-1;function K(){return!(t.unstable_now()-F<A)}function H(){if(N!==null){var R=t.unstable_now();F=R;var $=!0;try{$=N(!0,R)}finally{$?Q():(x=!1,N=null)}}else x=!1}var Q;if(typeof h=="function")Q=function(){h(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=H,Q=function(){z.postMessage(null)}}else Q=function(){E(H,0)};function ee(R){N=R,x||(x=!0,Q())}function T(R,$){C=E(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,ee(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var B=f;f=$;try{return R()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=f;f=R;try{return $()}finally{f=B}},t.unstable_scheduleCallback=function(R,$,B){var Y=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,R={id:c++,callback:$,priorityLevel:R,startTime:B,expirationTime:te,sortIndex:-1},B>Y?(R.sortIndex=B,e(u,R),n(l)===null&&R===n(u)&&(v?(_(C),C=-1):v=!0,T(y,B-Y))):(R.sortIndex=te,e(l,R),g||m||(g=!0,ee(S))),R},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(R){var $=f;return function(){var B=f;f=$;try{return R.apply(this,arguments)}finally{f=B}}}})(ow);sw.exports=ow;var Jb=sw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb=k,Vt=Jb;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aw=new Set,Bo={};function Li(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(Bo[t]=e,t=0;t<e.length;t++)aw.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=Object.prototype.hasOwnProperty,ex=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h_={},p_={};function tx(t){return Df.call(p_,t)?!0:Df.call(h_,t)?!1:ex.test(t)?p_[t]=!0:(h_[t]=!0,!1)}function nx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rx(t,e,n,r){if(e===null||typeof e>"u"||nx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tp=/[\-:]([a-z])/g;function Ip(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tp,Ip);et[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tp,Ip);et[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tp,Ip);et[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function bp(t,e,n,r){var i=et.hasOwnProperty(e)?et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rx(e,n,i,r)&&(n=null),r||i===null?tx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var or=Zb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),xp=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),lw=Symbol.for("react.provider"),uw=Symbol.for("react.context"),kp=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Rp=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),cw=Symbol.for("react.offscreen"),m_=Symbol.iterator;function eo(t){return t===null||typeof t!="object"?null:(t=m_&&t[m_]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,xd;function mo(t){if(xd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xd=e&&e[1]||""}return`
`+xd+t}var kd=!1;function Rd(t,e){if(!t||kd)return"";kd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{kd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mo(t):""}function ix(t){switch(t.tag){case 5:return mo(t.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return t=Rd(t.type,!1),t;case 11:return t=Rd(t.type.render,!1),t;case 1:return t=Rd(t.type,!0),t;default:return""}}function Uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yi:return"Fragment";case Ki:return"Portal";case Lf:return"Profiler";case xp:return"StrictMode";case Mf:return"Suspense";case Ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uw:return(t.displayName||"Context")+".Consumer";case lw:return(t._context.displayName||"Context")+".Provider";case kp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rp:return e=t.displayName||null,e!==null?e:Uf(t.type)||"Memo";case mr:e=t._payload,t=t._init;try{return Uf(t(e))}catch{}}return null}function sx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(e);case 8:return e===xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ox(t){var e=dw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Za(t){t._valueTracker||(t._valueTracker=ox(t))}function fw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jf(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hw(t,e){e=e.checked,e!=null&&bp(t,"checked",e,!1)}function $f(t,e){hw(t,e);var n=zr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vf(t,e.type,zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function __(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vf(t,e,n){(e!=="number"||iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var go=Array.isArray;function ds(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(go(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zr(n)}}function pw(t,e){var n=zr(e.value),r=zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function v_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var el,gw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=el.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ax=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(t){ax.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),So[e]=So[t]})});function _w(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||So.hasOwnProperty(t)&&So[t]?(""+e).trim():e+"px"}function yw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_w(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lx=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(t,e){if(e){if(lx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Hf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=null;function Op(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gf=null,fs=null,hs=null;function w_(t){if(t=ka(t)){if(typeof Gf!="function")throw Error(P(280));var e=t.stateNode;e&&(e=bc(e),Gf(t.stateNode,t.type,e))}}function vw(t){fs?hs?hs.push(t):hs=[t]:fs=t}function ww(){if(fs){var t=fs,e=hs;if(hs=fs=null,w_(t),e)for(t=0;t<e.length;t++)w_(e[t])}}function Ew(t,e){return t(e)}function Sw(){}var Od=!1;function Cw(t,e,n){if(Od)return t(e,n);Od=!0;try{return Ew(t,e,n)}finally{Od=!1,(fs!==null||hs!==null)&&(Sw(),ww())}}function Ho(t,e){var n=t.stateNode;if(n===null)return null;var r=bc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Kf=!1;if(Jn)try{var to={};Object.defineProperty(to,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Kf=!1}function ux(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Co=!1,su=null,ou=!1,Yf=null,cx={onError:function(t){Co=!0,su=t}};function dx(t,e,n,r,i,s,o,a,l){Co=!1,su=null,ux.apply(cx,arguments)}function fx(t,e,n,r,i,s,o,a,l){if(dx.apply(this,arguments),Co){if(Co){var u=su;Co=!1,su=null}else throw Error(P(198));ou||(ou=!0,Yf=u)}}function Mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function E_(t){if(Mi(t)!==t)throw Error(P(188))}function hx(t){var e=t.alternate;if(!e){if(e=Mi(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return E_(i),t;if(s===r)return E_(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Iw(t){return t=hx(t),t!==null?bw(t):null}function bw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bw(t);if(e!==null)return e;t=t.sibling}return null}var xw=Vt.unstable_scheduleCallback,S_=Vt.unstable_cancelCallback,px=Vt.unstable_shouldYield,mx=Vt.unstable_requestPaint,Le=Vt.unstable_now,gx=Vt.unstable_getCurrentPriorityLevel,Np=Vt.unstable_ImmediatePriority,kw=Vt.unstable_UserBlockingPriority,au=Vt.unstable_NormalPriority,_x=Vt.unstable_LowPriority,Rw=Vt.unstable_IdlePriority,Sc=null,On=null;function yx(t){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Sc,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Ex,vx=Math.log,wx=Math.LN2;function Ex(t){return t>>>=0,t===0?32:31-(vx(t)/wx|0)|0}var tl=64,nl=4194304;function _o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=_o(a):(s&=o,s!==0&&(r=_o(s)))}else o=n&~i,o!==0?r=_o(o):s!==0&&(r=_o(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pn(e),i=1<<n,r|=t[n],e&=~i;return r}function Sx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Sx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ow(){var t=tl;return tl<<=1,!(tl&4194240)&&(tl=64),t}function Nd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ba(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function Tx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function Nw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pw,Ap,Aw,Dw,Lw,Xf=!1,rl=[],kr=null,Rr=null,Or=null,qo=new Map,Go=new Map,_r=[],Ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C_(t,e){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(e.pointerId)}}function no(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ka(e),e!==null&&Ap(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bx(t,e,n,r,i){switch(e){case"focusin":return kr=no(kr,t,e,n,r,i),!0;case"dragenter":return Rr=no(Rr,t,e,n,r,i),!0;case"mouseover":return Or=no(Or,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qo.set(s,no(qo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Go.set(s,no(Go.get(s)||null,t,e,n,r,i)),!0}return!1}function Mw(t){var e=li(t.target);if(e!==null){var n=Mi(e);if(n!==null){if(e=n.tag,e===13){if(e=Tw(n),e!==null){t.blockedOn=e,Lw(t.priority,function(){Aw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ol(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qf=r,n.target.dispatchEvent(r),qf=null}else return e=ka(n),e!==null&&Ap(e),t.blockedOn=n,!1;e.shift()}return!0}function T_(t,e,n){Ol(t)&&n.delete(e)}function xx(){Xf=!1,kr!==null&&Ol(kr)&&(kr=null),Rr!==null&&Ol(Rr)&&(Rr=null),Or!==null&&Ol(Or)&&(Or=null),qo.forEach(T_),Go.forEach(T_)}function ro(t,e){t.blockedOn===e&&(t.blockedOn=null,Xf||(Xf=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,xx)))}function Ko(t){function e(i){return ro(i,t)}if(0<rl.length){ro(rl[0],t);for(var n=1;n<rl.length;n++){var r=rl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kr!==null&&ro(kr,t),Rr!==null&&ro(Rr,t),Or!==null&&ro(Or,t),qo.forEach(e),Go.forEach(e),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)Mw(n),n.blockedOn===null&&_r.shift()}var ps=or.ReactCurrentBatchConfig,uu=!0;function kx(t,e,n,r){var i=pe,s=ps.transition;ps.transition=null;try{pe=1,Dp(t,e,n,r)}finally{pe=i,ps.transition=s}}function Rx(t,e,n,r){var i=pe,s=ps.transition;ps.transition=null;try{pe=4,Dp(t,e,n,r)}finally{pe=i,ps.transition=s}}function Dp(t,e,n,r){if(uu){var i=Jf(t,e,n,r);if(i===null)Vd(t,e,r,cu,n),C_(t,r);else if(bx(i,t,e,n,r))r.stopPropagation();else if(C_(t,r),e&4&&-1<Ix.indexOf(t)){for(;i!==null;){var s=ka(i);if(s!==null&&Pw(s),s=Jf(t,e,n,r),s===null&&Vd(t,e,r,cu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vd(t,e,r,null,n)}}var cu=null;function Jf(t,e,n,r){if(cu=null,t=Op(r),t=li(t),t!==null)if(e=Mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cu=t,null}function Fw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gx()){case Np:return 1;case kw:return 4;case au:case _x:return 16;case Rw:return 536870912;default:return 16}default:return 16}}var Cr=null,Lp=null,Nl=null;function Uw(){if(Nl)return Nl;var t,e=Lp,n=e.length,r,i="value"in Cr?Cr.value:Cr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nl=i.slice(t,1<r?1-r:void 0)}function Pl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function il(){return!0}function I_(){return!1}function Ht(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?il:I_,this.isPropagationStopped=I_,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),e}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mp=Ht(Vs),xa=ke({},Vs,{view:0,detail:0}),Ox=Ht(xa),Pd,Ad,io,Cc=ke({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==io&&(io&&t.type==="mousemove"?(Pd=t.screenX-io.screenX,Ad=t.screenY-io.screenY):Ad=Pd=0,io=t),Pd)},movementY:function(t){return"movementY"in t?t.movementY:Ad}}),b_=Ht(Cc),Nx=ke({},Cc,{dataTransfer:0}),Px=Ht(Nx),Ax=ke({},xa,{relatedTarget:0}),Dd=Ht(Ax),Dx=ke({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Lx=Ht(Dx),Mx=ke({},Vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fx=Ht(Mx),Ux=ke({},Vs,{data:0}),x_=Ht(Ux),jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vx[t])?!!e[t]:!1}function Fp(){return zx}var Bx=ke({},xa,{key:function(t){if(t.key){var e=jx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$x[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fp,charCode:function(t){return t.type==="keypress"?Pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wx=Ht(Bx),Hx=ke({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k_=Ht(Hx),qx=ke({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fp}),Gx=Ht(qx),Kx=ke({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yx=Ht(Kx),Qx=ke({},Cc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xx=Ht(Qx),Jx=[9,13,27,32],Up=Jn&&"CompositionEvent"in window,To=null;Jn&&"documentMode"in document&&(To=document.documentMode);var Zx=Jn&&"TextEvent"in window&&!To,jw=Jn&&(!Up||To&&8<To&&11>=To),R_=" ",O_=!1;function $w(t,e){switch(t){case"keyup":return Jx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qi=!1;function e1(t,e){switch(t){case"compositionend":return Vw(e);case"keypress":return e.which!==32?null:(O_=!0,R_);case"textInput":return t=e.data,t===R_&&O_?null:t;default:return null}}function t1(t,e){if(Qi)return t==="compositionend"||!Up&&$w(t,e)?(t=Uw(),Nl=Lp=Cr=null,Qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jw&&e.locale!=="ko"?null:e.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!n1[t.type]:e==="textarea"}function zw(t,e,n,r){vw(r),e=du(e,"onChange"),0<e.length&&(n=new Mp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Io=null,Yo=null;function r1(t){Zw(t,0)}function Tc(t){var e=Zi(t);if(fw(e))return t}function i1(t,e){if(t==="change")return e}var Bw=!1;if(Jn){var Ld;if(Jn){var Md="oninput"in document;if(!Md){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),Md=typeof P_.oninput=="function"}Ld=Md}else Ld=!1;Bw=Ld&&(!document.documentMode||9<document.documentMode)}function A_(){Io&&(Io.detachEvent("onpropertychange",Ww),Yo=Io=null)}function Ww(t){if(t.propertyName==="value"&&Tc(Yo)){var e=[];zw(e,Yo,t,Op(t)),Cw(r1,e)}}function s1(t,e,n){t==="focusin"?(A_(),Io=e,Yo=n,Io.attachEvent("onpropertychange",Ww)):t==="focusout"&&A_()}function o1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(Yo)}function a1(t,e){if(t==="click")return Tc(e)}function l1(t,e){if(t==="input"||t==="change")return Tc(e)}function u1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:u1;function Qo(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Df.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function D_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L_(t,e){var n=D_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=D_(n)}}function Hw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qw(){for(var t=window,e=iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=iu(t.document)}return e}function jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function c1(t){var e=qw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hw(n.ownerDocument.documentElement,n)){if(r!==null&&jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=L_(n,s);var o=L_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d1=Jn&&"documentMode"in document&&11>=document.documentMode,Xi=null,Zf=null,bo=null,eh=!1;function M_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eh||Xi==null||Xi!==iu(r)||(r=Xi,"selectionStart"in r&&jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bo&&Qo(bo,r)||(bo=r,r=du(Zf,"onSelect"),0<r.length&&(e=new Mp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xi)))}function sl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},Fd={},Gw={};Jn&&(Gw=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function Ic(t){if(Fd[t])return Fd[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gw)return Fd[t]=e[n];return t}var Kw=Ic("animationend"),Yw=Ic("animationiteration"),Qw=Ic("animationstart"),Xw=Ic("transitionend"),Jw=new Map,F_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(t,e){Jw.set(t,e),Li(e,[t])}for(var Ud=0;Ud<F_.length;Ud++){var jd=F_[Ud],f1=jd.toLowerCase(),h1=jd[0].toUpperCase()+jd.slice(1);Qr(f1,"on"+h1)}Qr(Kw,"onAnimationEnd");Qr(Yw,"onAnimationIteration");Qr(Qw,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(Xw,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function U_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fx(r,e,void 0,t),t.currentTarget=null}function Zw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;U_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;U_(i,a,u),s=l}}}if(ou)throw t=Yf,ou=!1,Yf=null,t}function Ee(t,e){var n=e[sh];n===void 0&&(n=e[sh]=new Set);var r=t+"__bubble";n.has(r)||(eE(e,t,2,!1),n.add(r))}function $d(t,e,n){var r=0;e&&(r|=4),eE(n,t,r,e)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Xo(t){if(!t[ol]){t[ol]=!0,aw.forEach(function(n){n!=="selectionchange"&&(p1.has(n)||$d(n,!1,t),$d(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ol]||(e[ol]=!0,$d("selectionchange",!1,e))}}function eE(t,e,n,r){switch(Fw(e)){case 1:var i=kx;break;case 4:i=Rx;break;default:i=Dp}n=i.bind(null,e,n,t),i=void 0,!Kf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=li(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Cw(function(){var u=s,c=Op(n),d=[];e:{var f=Jw.get(t);if(f!==void 0){var m=Mp,g=t;switch(t){case"keypress":if(Pl(n)===0)break e;case"keydown":case"keyup":m=Wx;break;case"focusin":g="focus",m=Dd;break;case"focusout":g="blur",m=Dd;break;case"beforeblur":case"afterblur":m=Dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=b_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Gx;break;case Kw:case Yw:case Qw:m=Lx;break;case Xw:m=Yx;break;case"scroll":m=Ox;break;case"wheel":m=Xx;break;case"copy":case"cut":case"paste":m=Fx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=k_}var v=(e&4)!==0,E=!v&&t==="scroll",_=v?f!==null?f+"Capture":null:f;v=[];for(var h=u,p;h!==null;){p=h;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,_!==null&&(y=Ho(h,_),y!=null&&v.push(Jo(h,y,p)))),E)break;h=h.return}0<v.length&&(f=new m(f,g,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==qf&&(g=n.relatedTarget||n.fromElement)&&(li(g)||g[Zn]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?li(g):null,g!==null&&(E=Mi(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=b_,y="onMouseLeave",_="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(v=k_,y="onPointerLeave",_="onPointerEnter",h="pointer"),E=m==null?f:Zi(m),p=g==null?f:Zi(g),f=new v(y,h+"leave",m,n,c),f.target=E,f.relatedTarget=p,y=null,li(c)===u&&(v=new v(_,h+"enter",g,n,c),v.target=p,v.relatedTarget=E,y=v),E=y,m&&g)t:{for(v=m,_=g,h=0,p=v;p;p=Bi(p))h++;for(p=0,y=_;y;y=Bi(y))p++;for(;0<h-p;)v=Bi(v),h--;for(;0<p-h;)_=Bi(_),p--;for(;h--;){if(v===_||_!==null&&v===_.alternate)break t;v=Bi(v),_=Bi(_)}v=null}else v=null;m!==null&&j_(d,f,m,v,!1),g!==null&&E!==null&&j_(d,E,g,v,!0)}}e:{if(f=u?Zi(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=i1;else if(N_(f))if(Bw)S=l1;else{S=o1;var x=s1}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=a1);if(S&&(S=S(t,u))){zw(d,S,n,c);break e}x&&x(t,f,u),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&Vf(f,"number",f.value)}switch(x=u?Zi(u):window,t){case"focusin":(N_(x)||x.contentEditable==="true")&&(Xi=x,Zf=u,bo=null);break;case"focusout":bo=Zf=Xi=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,M_(d,n,c);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":M_(d,n,c)}var N;if(Up)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Qi?$w(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(jw&&n.locale!=="ko"&&(Qi||C!=="onCompositionStart"?C==="onCompositionEnd"&&Qi&&(N=Uw()):(Cr=c,Lp="value"in Cr?Cr.value:Cr.textContent,Qi=!0)),x=du(u,C),0<x.length&&(C=new x_(C,t,null,n,c),d.push({event:C,listeners:x}),N?C.data=N:(N=Vw(n),N!==null&&(C.data=N)))),(N=Zx?e1(t,n):t1(t,n))&&(u=du(u,"onBeforeInput"),0<u.length&&(c=new x_("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=N))}Zw(d,e)})}function Jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function du(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ho(t,n),s!=null&&r.unshift(Jo(t,s,i)),s=Ho(t,e),s!=null&&r.push(Jo(t,s,i))),t=t.return}return r}function Bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function j_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ho(n,s),l!=null&&o.unshift(Jo(n,l,a))):i||(l=Ho(n,s),l!=null&&o.push(Jo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var m1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function $_(t){return(typeof t=="string"?t:""+t).replace(m1,`
`).replace(g1,"")}function al(t,e,n){if(e=$_(e),$_(t)!==e&&n)throw Error(P(425))}function fu(){}var th=null,nh=null;function rh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ih=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(v1)}:ih;function v1(t){setTimeout(function(){throw t})}function zd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ko(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ko(e)}function Nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),bn="__reactFiber$"+zs,Zo="__reactProps$"+zs,Zn="__reactContainer$"+zs,sh="__reactEvents$"+zs,w1="__reactListeners$"+zs,E1="__reactHandles$"+zs;function li(t){var e=t[bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z_(t);t!==null;){if(n=t[bn])return n;t=z_(t)}return e}t=n,n=t.parentNode}return null}function ka(t){return t=t[bn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function bc(t){return t[Zo]||null}var oh=[],es=-1;function Xr(t){return{current:t}}function Ce(t){0>es||(t.current=oh[es],oh[es]=null,es--)}function we(t,e){es++,oh[es]=t.current,t.current=e}var Br={},ot=Xr(Br),It=Xr(!1),Si=Br;function Cs(t,e){var n=t.type.contextTypes;if(!n)return Br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function hu(){Ce(It),Ce(ot)}function B_(t,e,n){if(ot.current!==Br)throw Error(P(168));we(ot,e),we(It,n)}function tE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,sx(t)||"Unknown",i));return ke({},n,r)}function pu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Br,Si=ot.current,we(ot,t),we(It,It.current),!0}function W_(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=tE(t,e,Si),r.__reactInternalMemoizedMergedChildContext=t,Ce(It),Ce(ot),we(ot,t)):Ce(It),we(It,n)}var Vn=null,xc=!1,Bd=!1;function nE(t){Vn===null?Vn=[t]:Vn.push(t)}function S1(t){xc=!0,nE(t)}function Jr(){if(!Bd&&Vn!==null){Bd=!0;var t=0,e=pe;try{var n=Vn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vn=null,xc=!1}catch(i){throw Vn!==null&&(Vn=Vn.slice(t+1)),xw(Np,Jr),i}finally{pe=e,Bd=!1}}return null}var ts=[],ns=0,mu=null,gu=0,Kt=[],Yt=0,Ci=null,Bn=1,Wn="";function ni(t,e){ts[ns++]=gu,ts[ns++]=mu,mu=t,gu=e}function rE(t,e,n){Kt[Yt++]=Bn,Kt[Yt++]=Wn,Kt[Yt++]=Ci,Ci=t;var r=Bn;t=Wn;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var s=32-pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bn=1<<32-pn(e)+i|n<<i|r,Wn=s+t}else Bn=1<<s|n<<i|r,Wn=t}function $p(t){t.return!==null&&(ni(t,1),rE(t,1,0))}function Vp(t){for(;t===mu;)mu=ts[--ns],ts[ns]=null,gu=ts[--ns],ts[ns]=null;for(;t===Ci;)Ci=Kt[--Yt],Kt[Yt]=null,Wn=Kt[--Yt],Kt[Yt]=null,Bn=Kt[--Yt],Kt[Yt]=null}var jt=null,Lt=null,Te=!1,on=null;function iE(t,e){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Lt=Nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ci!==null?{id:Bn,overflow:Wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,Lt=null,!0):!1;default:return!1}}function ah(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lh(t){if(Te){var e=Lt;if(e){var n=e;if(!H_(t,e)){if(ah(t))throw Error(P(418));e=Nr(n.nextSibling);var r=jt;e&&H_(t,e)?iE(r,n):(t.flags=t.flags&-4097|2,Te=!1,jt=t)}}else{if(ah(t))throw Error(P(418));t.flags=t.flags&-4097|2,Te=!1,jt=t}}}function q_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function ll(t){if(t!==jt)return!1;if(!Te)return q_(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rh(t.type,t.memoizedProps)),e&&(e=Lt)){if(ah(t))throw sE(),Error(P(418));for(;e;)iE(t,e),e=Nr(e.nextSibling)}if(q_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=Nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=jt?Nr(t.stateNode.nextSibling):null;return!0}function sE(){for(var t=Lt;t;)t=Nr(t.nextSibling)}function Ts(){Lt=jt=null,Te=!1}function zp(t){on===null?on=[t]:on.push(t)}var C1=or.ReactCurrentBatchConfig;function so(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function ul(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G_(t){var e=t._init;return e(t._payload)}function oE(t){function e(_,h){if(t){var p=_.deletions;p===null?(_.deletions=[h],_.flags|=16):p.push(h)}}function n(_,h){if(!t)return null;for(;h!==null;)e(_,h),h=h.sibling;return null}function r(_,h){for(_=new Map;h!==null;)h.key!==null?_.set(h.key,h):_.set(h.index,h),h=h.sibling;return _}function i(_,h){return _=Lr(_,h),_.index=0,_.sibling=null,_}function s(_,h,p){return _.index=p,t?(p=_.alternate,p!==null?(p=p.index,p<h?(_.flags|=2,h):p):(_.flags|=2,h)):(_.flags|=1048576,h)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,h,p,y){return h===null||h.tag!==6?(h=Qd(p,_.mode,y),h.return=_,h):(h=i(h,p),h.return=_,h)}function l(_,h,p,y){var S=p.type;return S===Yi?c(_,h,p.props.children,y,p.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mr&&G_(S)===h.type)?(y=i(h,p.props),y.ref=so(_,h,p),y.return=_,y):(y=jl(p.type,p.key,p.props,null,_.mode,y),y.ref=so(_,h,p),y.return=_,y)}function u(_,h,p,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Xd(p,_.mode,y),h.return=_,h):(h=i(h,p.children||[]),h.return=_,h)}function c(_,h,p,y,S){return h===null||h.tag!==7?(h=gi(p,_.mode,y,S),h.return=_,h):(h=i(h,p),h.return=_,h)}function d(_,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Qd(""+h,_.mode,p),h.return=_,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ja:return p=jl(h.type,h.key,h.props,null,_.mode,p),p.ref=so(_,null,h),p.return=_,p;case Ki:return h=Xd(h,_.mode,p),h.return=_,h;case mr:var y=h._init;return d(_,y(h._payload),p)}if(go(h)||eo(h))return h=gi(h,_.mode,p,null),h.return=_,h;ul(_,h)}return null}function f(_,h,p,y){var S=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:a(_,h,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ja:return p.key===S?l(_,h,p,y):null;case Ki:return p.key===S?u(_,h,p,y):null;case mr:return S=p._init,f(_,h,S(p._payload),y)}if(go(p)||eo(p))return S!==null?null:c(_,h,p,y,null);ul(_,p)}return null}function m(_,h,p,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return _=_.get(p)||null,a(h,_,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ja:return _=_.get(y.key===null?p:y.key)||null,l(h,_,y,S);case Ki:return _=_.get(y.key===null?p:y.key)||null,u(h,_,y,S);case mr:var x=y._init;return m(_,h,p,x(y._payload),S)}if(go(y)||eo(y))return _=_.get(p)||null,c(h,_,y,S,null);ul(h,y)}return null}function g(_,h,p,y){for(var S=null,x=null,N=h,C=h=0,A=null;N!==null&&C<p.length;C++){N.index>C?(A=N,N=null):A=N.sibling;var F=f(_,N,p[C],y);if(F===null){N===null&&(N=A);break}t&&N&&F.alternate===null&&e(_,N),h=s(F,h,C),x===null?S=F:x.sibling=F,x=F,N=A}if(C===p.length)return n(_,N),Te&&ni(_,C),S;if(N===null){for(;C<p.length;C++)N=d(_,p[C],y),N!==null&&(h=s(N,h,C),x===null?S=N:x.sibling=N,x=N);return Te&&ni(_,C),S}for(N=r(_,N);C<p.length;C++)A=m(N,_,C,p[C],y),A!==null&&(t&&A.alternate!==null&&N.delete(A.key===null?C:A.key),h=s(A,h,C),x===null?S=A:x.sibling=A,x=A);return t&&N.forEach(function(K){return e(_,K)}),Te&&ni(_,C),S}function v(_,h,p,y){var S=eo(p);if(typeof S!="function")throw Error(P(150));if(p=S.call(p),p==null)throw Error(P(151));for(var x=S=null,N=h,C=h=0,A=null,F=p.next();N!==null&&!F.done;C++,F=p.next()){N.index>C?(A=N,N=null):A=N.sibling;var K=f(_,N,F.value,y);if(K===null){N===null&&(N=A);break}t&&N&&K.alternate===null&&e(_,N),h=s(K,h,C),x===null?S=K:x.sibling=K,x=K,N=A}if(F.done)return n(_,N),Te&&ni(_,C),S;if(N===null){for(;!F.done;C++,F=p.next())F=d(_,F.value,y),F!==null&&(h=s(F,h,C),x===null?S=F:x.sibling=F,x=F);return Te&&ni(_,C),S}for(N=r(_,N);!F.done;C++,F=p.next())F=m(N,_,C,F.value,y),F!==null&&(t&&F.alternate!==null&&N.delete(F.key===null?C:F.key),h=s(F,h,C),x===null?S=F:x.sibling=F,x=F);return t&&N.forEach(function(H){return e(_,H)}),Te&&ni(_,C),S}function E(_,h,p,y){if(typeof p=="object"&&p!==null&&p.type===Yi&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ja:e:{for(var S=p.key,x=h;x!==null;){if(x.key===S){if(S=p.type,S===Yi){if(x.tag===7){n(_,x.sibling),h=i(x,p.props.children),h.return=_,_=h;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mr&&G_(S)===x.type){n(_,x.sibling),h=i(x,p.props),h.ref=so(_,x,p),h.return=_,_=h;break e}n(_,x);break}else e(_,x);x=x.sibling}p.type===Yi?(h=gi(p.props.children,_.mode,y,p.key),h.return=_,_=h):(y=jl(p.type,p.key,p.props,null,_.mode,y),y.ref=so(_,h,p),y.return=_,_=y)}return o(_);case Ki:e:{for(x=p.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(_,h.sibling),h=i(h,p.children||[]),h.return=_,_=h;break e}else{n(_,h);break}else e(_,h);h=h.sibling}h=Xd(p,_.mode,y),h.return=_,_=h}return o(_);case mr:return x=p._init,E(_,h,x(p._payload),y)}if(go(p))return g(_,h,p,y);if(eo(p))return v(_,h,p,y);ul(_,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(n(_,h.sibling),h=i(h,p),h.return=_,_=h):(n(_,h),h=Qd(p,_.mode,y),h.return=_,_=h),o(_)):n(_,h)}return E}var Is=oE(!0),aE=oE(!1),_u=Xr(null),yu=null,rs=null,Bp=null;function Wp(){Bp=rs=yu=null}function Hp(t){var e=_u.current;Ce(_u),t._currentValue=e}function uh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ms(t,e){yu=t,Bp=rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Zt(t){var e=t._currentValue;if(Bp!==t)if(t={context:t,memoizedValue:e,next:null},rs===null){if(yu===null)throw Error(P(308));rs=t,yu.dependencies={lanes:0,firstContext:t}}else rs=rs.next=t;return e}var ui=null;function qp(t){ui===null?ui=[t]:ui.push(t)}function lE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qp(e)):(n.next=i.next,i.next=n),e.interleaved=n,er(t,r)}function er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gr=!1;function Gp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,er(t,n)}return i=r.interleaved,i===null?(e.next=e,qp(r)):(e.next=i.next,i.next=e),r.interleaved=e,er(t,n)}function Al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}function K_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vu(t,e,n,r){var i=t.updateQueue;gr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=ke({},d,f);break e;case 2:gr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ii|=o,t.lanes=o,t.memoizedState=d}}function Y_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Ra={},Nn=Xr(Ra),ea=Xr(Ra),ta=Xr(Ra);function ci(t){if(t===Ra)throw Error(P(174));return t}function Kp(t,e){switch(we(ta,e),we(ea,t),we(Nn,Ra),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bf(e,t)}Ce(Nn),we(Nn,e)}function bs(){Ce(Nn),Ce(ea),Ce(ta)}function cE(t){ci(ta.current);var e=ci(Nn.current),n=Bf(e,t.type);e!==n&&(we(ea,t),we(Nn,n))}function Yp(t){ea.current===t&&(Ce(Nn),Ce(ea))}var Ie=Xr(0);function wu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wd=[];function Qp(){for(var t=0;t<Wd.length;t++)Wd[t]._workInProgressVersionPrimary=null;Wd.length=0}var Dl=or.ReactCurrentDispatcher,Hd=or.ReactCurrentBatchConfig,Ti=0,be=null,$e=null,Ge=null,Eu=!1,xo=!1,na=0,T1=0;function tt(){throw Error(P(321))}function Xp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function Jp(t,e,n,r,i,s){if(Ti=s,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dl.current=t===null||t.memoizedState===null?k1:R1,t=n(r,i),xo){s=0;do{if(xo=!1,na=0,25<=s)throw Error(P(301));s+=1,Ge=$e=null,e.updateQueue=null,Dl.current=O1,t=n(r,i)}while(xo)}if(Dl.current=Su,e=$e!==null&&$e.next!==null,Ti=0,Ge=$e=be=null,Eu=!1,e)throw Error(P(300));return t}function Zp(){var t=na!==0;return na=0,t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?be.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function en(){if($e===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=Ge===null?be.memoizedState:Ge.next;if(e!==null)Ge=e,$e=t;else{if(t===null)throw Error(P(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ge===null?be.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function ra(t,e){return typeof e=="function"?e(t):e}function qd(t){var e=en(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=$e,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ti&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,be.lanes|=c,Ii|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,yn(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,be.lanes|=s,Ii|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gd(t){var e=en(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yn(s,e.memoizedState)||(Ct=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dE(){}function fE(t,e){var n=be,r=en(),i=e(),s=!yn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ct=!0),r=r.queue,em(mE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,ia(9,pE.bind(null,n,r,i,e),void 0,null),Qe===null)throw Error(P(349));Ti&30||hE(n,e,i)}return i}function hE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pE(t,e,n,r){e.value=n,e.getSnapshot=r,gE(e)&&_E(t)}function mE(t,e,n){return n(function(){gE(e)&&_E(t)})}function gE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function _E(t){var e=er(t,1);e!==null&&mn(e,t,1,-1)}function Q_(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},e.queue=t,t=t.dispatch=x1.bind(null,be,t),[e.memoizedState,t]}function ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yE(){return en().memoizedState}function Ll(t,e,n,r){var i=Tn();be.flags|=t,i.memoizedState=ia(1|e,n,void 0,r===void 0?null:r)}function kc(t,e,n,r){var i=en();r=r===void 0?null:r;var s=void 0;if($e!==null){var o=$e.memoizedState;if(s=o.destroy,r!==null&&Xp(r,o.deps)){i.memoizedState=ia(e,n,s,r);return}}be.flags|=t,i.memoizedState=ia(1|e,n,s,r)}function X_(t,e){return Ll(8390656,8,t,e)}function em(t,e){return kc(2048,8,t,e)}function vE(t,e){return kc(4,2,t,e)}function wE(t,e){return kc(4,4,t,e)}function EE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SE(t,e,n){return n=n!=null?n.concat([t]):null,kc(4,4,EE.bind(null,e,t),n)}function tm(){}function CE(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TE(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IE(t,e,n){return Ti&21?(yn(n,e)||(n=Ow(),be.lanes|=n,Ii|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function I1(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Hd.transition;Hd.transition={};try{t(!1),e()}finally{pe=n,Hd.transition=r}}function bE(){return en().memoizedState}function b1(t,e,n){var r=Dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xE(t))kE(e,n);else if(n=lE(t,e,n,r),n!==null){var i=mt();mn(n,t,r,i),RE(n,e,r)}}function x1(t,e,n){var r=Dr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xE(t))kE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,yn(a,o)){var l=e.interleaved;l===null?(i.next=i,qp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lE(t,e,i,r),n!==null&&(i=mt(),mn(n,t,r,i),RE(n,e,r))}}function xE(t){var e=t.alternate;return t===be||e!==null&&e===be}function kE(t,e){xo=Eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}var Su={readContext:Zt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},k1={readContext:Zt,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:Zt,useEffect:X_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ll(4194308,4,EE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ll(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ll(4,2,t,e)},useMemo:function(t,e){var n=Tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b1.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=Tn();return t={current:t},e.memoizedState=t},useState:Q_,useDebugValue:tm,useDeferredValue:function(t){return Tn().memoizedState=t},useTransition:function(){var t=Q_(!1),e=t[0];return t=I1.bind(null,t[1]),Tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,i=Tn();if(Te){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Qe===null)throw Error(P(349));Ti&30||hE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,X_(mE.bind(null,r,s,t),[t]),r.flags|=2048,ia(9,pE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tn(),e=Qe.identifierPrefix;if(Te){var n=Wn,r=Bn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=T1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R1={readContext:Zt,useCallback:CE,useContext:Zt,useEffect:em,useImperativeHandle:SE,useInsertionEffect:vE,useLayoutEffect:wE,useMemo:TE,useReducer:qd,useRef:yE,useState:function(){return qd(ra)},useDebugValue:tm,useDeferredValue:function(t){var e=en();return IE(e,$e.memoizedState,t)},useTransition:function(){var t=qd(ra)[0],e=en().memoizedState;return[t,e]},useMutableSource:dE,useSyncExternalStore:fE,useId:bE,unstable_isNewReconciler:!1},O1={readContext:Zt,useCallback:CE,useContext:Zt,useEffect:em,useImperativeHandle:SE,useInsertionEffect:vE,useLayoutEffect:wE,useMemo:TE,useReducer:Gd,useRef:yE,useState:function(){return Gd(ra)},useDebugValue:tm,useDeferredValue:function(t){var e=en();return $e===null?e.memoizedState=t:IE(e,$e.memoizedState,t)},useTransition:function(){var t=Gd(ra)[0],e=en().memoizedState;return[t,e]},useMutableSource:dE,useSyncExternalStore:fE,useId:bE,unstable_isNewReconciler:!1};function nn(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ch(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rc={isMounted:function(t){return(t=t._reactInternals)?Mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mt(),i=Dr(t),s=Yn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pr(t,s,i),e!==null&&(mn(e,t,i,r),Al(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mt(),i=Dr(t),s=Yn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pr(t,s,i),e!==null&&(mn(e,t,i,r),Al(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mt(),r=Dr(t),i=Yn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pr(t,i,r),e!==null&&(mn(e,t,r,n),Al(e,t,r))}};function J_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qo(n,r)||!Qo(i,s):!0}function OE(t,e,n){var r=!1,i=Br,s=e.contextType;return typeof s=="object"&&s!==null?s=Zt(s):(i=bt(e)?Si:ot.current,r=e.contextTypes,s=(r=r!=null)?Cs(t,i):Br),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Z_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rc.enqueueReplaceState(e,e.state,null)}function dh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zt(s):(s=bt(e)?Si:ot.current,i.context=Cs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ch(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rc.enqueueReplaceState(i,i.state,null),vu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xs(t,e){try{var n="",r=e;do n+=ix(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Kd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var N1=typeof WeakMap=="function"?WeakMap:Map;function NE(t,e,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tu||(Tu=!0,Sh=r),fh(t,e)},n}function PE(t,e,n){n=Yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fh(t,e),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ey(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new N1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=H1.bind(null,t,e,n),e.then(t,t))}function ty(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ny(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yn(-1,1),e.tag=2,Pr(n,e,1))),n.lanes|=1),t)}var P1=or.ReactCurrentOwner,Ct=!1;function dt(t,e,n,r){e.child=t===null?aE(e,null,n,r):Is(e,t.child,n,r)}function ry(t,e,n,r,i){n=n.render;var s=e.ref;return ms(e,i),r=Jp(t,e,n,r,s,i),n=Zp(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tr(t,e,i)):(Te&&n&&$p(e),e.flags|=1,dt(t,e,r,i),e.child)}function iy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!um(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,AE(t,e,s,r,i)):(t=jl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qo,n(o,r)&&t.ref===e.ref)return tr(t,e,i)}return e.flags|=1,t=Lr(s,r),t.ref=e.ref,t.return=e,e.child=t}function AE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qo(s,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,tr(t,e,i)}return hh(t,e,n,r,i)}function DE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(ss,At),At|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(ss,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(ss,At),At|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(ss,At),At|=r;return dt(t,e,i,n),e.child}function LE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hh(t,e,n,r,i){var s=bt(n)?Si:ot.current;return s=Cs(e,s),ms(e,i),n=Jp(t,e,n,r,s,i),r=Zp(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tr(t,e,i)):(Te&&r&&$p(e),e.flags|=1,dt(t,e,n,i),e.child)}function sy(t,e,n,r,i){if(bt(n)){var s=!0;pu(e)}else s=!1;if(ms(e,i),e.stateNode===null)Ml(t,e),OE(e,n,r),dh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zt(u):(u=bt(n)?Si:ot.current,u=Cs(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Z_(e,o,r,u),gr=!1;var f=e.memoizedState;o.state=f,vu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||It.current||gr?(typeof c=="function"&&(ch(e,n,c,r),l=e.memoizedState),(a=gr||J_(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zt(l):(l=bt(n)?Si:ot.current,l=Cs(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Z_(e,o,r,l),gr=!1,f=e.memoizedState,o.state=f,vu(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||It.current||gr?(typeof m=="function"&&(ch(e,n,m,r),g=e.memoizedState),(u=gr||J_(e,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ph(t,e,n,r,s,i)}function ph(t,e,n,r,i,s){LE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&W_(e,n,!1),tr(t,e,s);r=e.stateNode,P1.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Is(e,t.child,null,s),e.child=Is(e,null,a,s)):dt(t,e,a,s),e.memoizedState=r.state,i&&W_(e,n,!0),e.child}function ME(t){var e=t.stateNode;e.pendingContext?B_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&B_(t,e.context,!1),Kp(t,e.containerInfo)}function oy(t,e,n,r,i){return Ts(),zp(i),e.flags|=256,dt(t,e,n,r),e.child}var mh={dehydrated:null,treeContext:null,retryLane:0};function gh(t){return{baseLanes:t,cachePool:null,transitions:null}}function FE(t,e,n){var r=e.pendingProps,i=Ie.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(Ie,i&1),t===null)return lh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pc(o,r,0,null),t=gi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gh(n),e.memoizedState=mh,t):nm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return A1(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Lr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Lr(a,s):(s=gi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?gh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=mh,r}return s=t.child,t=s.sibling,r=Lr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nm(t,e){return e=Pc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cl(t,e,n,r){return r!==null&&zp(r),Is(e,t.child,null,n),t=nm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Kd(Error(P(422))),cl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pc({mode:"visible",children:r.children},i,0,null),s=gi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Is(e,t.child,null,o),e.child.memoizedState=gh(o),e.memoizedState=mh,s);if(!(e.mode&1))return cl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=Kd(s,r,void 0),cl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ct||a){if(r=Qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,er(t,i),mn(r,t,i,-1))}return lm(),r=Kd(Error(P(421))),cl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=q1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Lt=Nr(i.nextSibling),jt=e,Te=!0,on=null,t!==null&&(Kt[Yt++]=Bn,Kt[Yt++]=Wn,Kt[Yt++]=Ci,Bn=t.id,Wn=t.overflow,Ci=e),e=nm(e,r.children),e.flags|=4096,e)}function ay(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uh(t.return,e,n)}function Yd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function UE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ay(t,n,e);else if(t.tag===19)ay(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Ie,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yd(e,!0,n,null,s);break;case"together":Yd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ml(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ii|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function D1(t,e,n){switch(e.tag){case 3:ME(e),Ts();break;case 5:cE(e);break;case 1:bt(e.type)&&pu(e);break;case 4:Kp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(_u,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?FE(t,e,n):(we(Ie,Ie.current&1),t=tr(t,e,n),t!==null?t.sibling:null);we(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,DE(t,e,n)}return tr(t,e,n)}var jE,_h,$E,VE;jE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_h=function(){};$E=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ci(Nn.current);var s=null;switch(n){case"input":i=jf(t,i),r=jf(t,r),s=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),s=[];break;case"textarea":i=zf(t,i),r=zf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fu)}Wf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ee("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};VE=function(t,e,n,r){n!==r&&(e.flags|=4)};function oo(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function L1(t,e,n){var r=e.pendingProps;switch(Vp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return bt(e.type)&&hu(),nt(e),null;case 3:return r=e.stateNode,bs(),Ce(It),Ce(ot),Qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ll(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Ih(on),on=null))),_h(t,e),nt(e),null;case 5:Yp(e);var i=ci(ta.current);if(n=e.type,t!==null&&e.stateNode!=null)$E(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return nt(e),null}if(t=ci(Nn.current),ll(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[bn]=e,r[Zo]=s,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<yo.length;i++)Ee(yo[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":g_(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":y_(r,s),Ee("invalid",r)}Wf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&al(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&al(r.textContent,a,t),i=["children",""+a]):Bo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Za(r),__(r,s,!0);break;case"textarea":Za(r),v_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bn]=e,t[Zo]=r,jE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Hf(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<yo.length;i++)Ee(yo[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":g_(t,r),i=jf(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":y_(t,r),i=zf(t,r),Ee("invalid",t);break;default:i=r}Wf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?yw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wo(t,l):typeof l=="number"&&Wo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",t):l!=null&&bp(t,s,l,o))}switch(n){case"input":Za(t),__(t,r,!1);break;case"textarea":Za(t),v_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ds(t,!!r.multiple,s,!1):r.defaultValue!=null&&ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)VE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=ci(ta.current),ci(Nn.current),ll(e)){if(r=e.stateNode,n=e.memoizedProps,r[bn]=e,(s=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&al(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bn]=e,e.stateNode=r}return nt(e),null;case 13:if(Ce(Ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Lt!==null&&e.mode&1&&!(e.flags&128))sE(),Ts(),e.flags|=98560,s=!1;else if(s=ll(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[bn]=e}else Ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),s=!1}else on!==null&&(Ih(on),on=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?Be===0&&(Be=3):lm())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return bs(),_h(t,e),t===null&&Xo(e.stateNode.containerInfo),nt(e),null;case 10:return Hp(e.type._context),nt(e),null;case 17:return bt(e.type)&&hu(),nt(e),null;case 19:if(Ce(Ie),s=e.memoizedState,s===null)return nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)oo(s,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wu(t),o!==null){for(e.flags|=128,oo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Ie,Ie.current&1|2),e.child}t=t.sibling}s.tail!==null&&Le()>ks&&(e.flags|=128,r=!0,oo(s,!1),e.lanes=4194304)}else{if(!r)if(t=wu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return nt(e),null}else 2*Le()-s.renderingStartTime>ks&&n!==1073741824&&(e.flags|=128,r=!0,oo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Le(),e.sibling=null,n=Ie.current,we(Ie,r?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return am(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?At&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function M1(t,e){switch(Vp(e),e.tag){case 1:return bt(e.type)&&hu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bs(),Ce(It),Ce(ot),Qp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yp(e),null;case 13:if(Ce(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Ie),null;case 4:return bs(),null;case 10:return Hp(e.type._context),null;case 22:case 23:return am(),null;case 24:return null;default:return null}}var dl=!1,it=!1,F1=typeof WeakSet=="function"?WeakSet:Set,W=null;function is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function yh(t,e,n){try{n()}catch(r){Re(t,e,r)}}var ly=!1;function U1(t,e){if(th=uu,t=qw(),jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:t,selectionRange:n},uu=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,E=g.memoizedState,_=e.stateNode,h=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:nn(e.type,v),E);_.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(y){Re(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return g=ly,ly=!1,g}function ko(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yh(e,n,s)}i=i.next}while(i!==r)}}function Oc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zE(t){var e=t.alternate;e!==null&&(t.alternate=null,zE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bn],delete e[Zo],delete e[sh],delete e[w1],delete e[E1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BE(t){return t.tag===5||t.tag===3||t.tag===4}function uy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fu));else if(r!==4&&(t=t.child,t!==null))for(wh(t,e,n),t=t.sibling;t!==null;)wh(t,e,n),t=t.sibling}function Eh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Eh(t,e,n),t=t.sibling;t!==null;)Eh(t,e,n),t=t.sibling}var Je=null,sn=!1;function hr(t,e,n){for(n=n.child;n!==null;)WE(t,e,n),n=n.sibling}function WE(t,e,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:it||is(n,e);case 6:var r=Je,i=sn;Je=null,hr(t,e,n),Je=r,sn=i,Je!==null&&(sn?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(sn?(t=Je,n=n.stateNode,t.nodeType===8?zd(t.parentNode,n):t.nodeType===1&&zd(t,n),Ko(t)):zd(Je,n.stateNode));break;case 4:r=Je,i=sn,Je=n.stateNode.containerInfo,sn=!0,hr(t,e,n),Je=r,sn=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yh(n,e,o),i=i.next}while(i!==r)}hr(t,e,n);break;case 1:if(!it&&(is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,e,a)}hr(t,e,n);break;case 21:hr(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,hr(t,e,n),it=r):hr(t,e,n);break;default:hr(t,e,n)}}function cy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new F1),e.forEach(function(r){var i=G1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,sn=!1;break e;case 3:Je=a.stateNode.containerInfo,sn=!0;break e;case 4:Je=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(Je===null)throw Error(P(160));WE(s,o,i),Je=null,sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Re(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HE(e,t),e=e.sibling}function HE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),Cn(t),r&4){try{ko(3,t,t.return),Oc(3,t)}catch(v){Re(t,t.return,v)}try{ko(5,t,t.return)}catch(v){Re(t,t.return,v)}}break;case 1:tn(e,t),Cn(t),r&512&&n!==null&&is(n,n.return);break;case 5:if(tn(e,t),Cn(t),r&512&&n!==null&&is(n,n.return),t.flags&32){var i=t.stateNode;try{Wo(i,"")}catch(v){Re(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&hw(i,s),Hf(a,o);var u=Hf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?yw(i,d):c==="dangerouslySetInnerHTML"?gw(i,d):c==="children"?Wo(i,d):bp(i,c,d,u)}switch(a){case"input":$f(i,s);break;case"textarea":pw(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ds(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?ds(i,!!s.multiple,s.defaultValue,!0):ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zo]=s}catch(v){Re(t,t.return,v)}}break;case 6:if(tn(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Re(t,t.return,v)}}break;case 3:if(tn(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(e.containerInfo)}catch(v){Re(t,t.return,v)}break;case 4:tn(e,t),Cn(t);break;case 13:tn(e,t),Cn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sm=Le())),r&4&&cy(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(it=(u=it)||c,tn(e,t),it=u):tn(e,t),Cn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,m=f.child,f.tag){case 0:case 11:case 14:case 15:ko(4,f,f.return);break;case 1:is(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Re(r,n,v)}}break;case 5:is(f,f.return);break;case 22:if(f.memoizedState!==null){fy(d);continue}}m!==null?(m.return=f,W=m):fy(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_w("display",o))}catch(v){Re(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Re(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tn(e,t),Cn(t),r&4&&cy(t);break;case 21:break;default:tn(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BE(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wo(i,""),r.flags&=-33);var s=uy(t);Eh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=uy(t);wh(t,a,o);break;default:throw Error(P(161))}}catch(l){Re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j1(t,e,n){W=t,qE(t)}function qE(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||it;a=dl;var u=it;if(dl=o,(it=l)&&!u)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?hy(i):l!==null?(l.return=o,W=l):hy(i);for(;s!==null;)W=s,qE(s),s=s.sibling;W=i,dl=a,it=u}dy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):dy(t)}}function dy(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||Oc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Y_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Y_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ko(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}it||e.flags&512&&vh(e)}catch(f){Re(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function fy(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function hy(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oc(4,e)}catch(l){Re(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Re(e,i,l)}}var s=e.return;try{vh(e)}catch(l){Re(e,s,l)}break;case 5:var o=e.return;try{vh(e)}catch(l){Re(e,o,l)}}}catch(l){Re(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var $1=Math.ceil,Cu=or.ReactCurrentDispatcher,rm=or.ReactCurrentOwner,Xt=or.ReactCurrentBatchConfig,ue=0,Qe=null,Ue=null,Ze=0,At=0,ss=Xr(0),Be=0,sa=null,Ii=0,Nc=0,im=0,Ro=null,Et=null,sm=0,ks=1/0,$n=null,Tu=!1,Sh=null,Ar=null,fl=!1,Tr=null,Iu=0,Oo=0,Ch=null,Fl=-1,Ul=0;function mt(){return ue&6?Le():Fl!==-1?Fl:Fl=Le()}function Dr(t){return t.mode&1?ue&2&&Ze!==0?Ze&-Ze:C1.transition!==null?(Ul===0&&(Ul=Ow()),Ul):(t=pe,t!==0||(t=window.event,t=t===void 0?16:Fw(t.type)),t):1}function mn(t,e,n,r){if(50<Oo)throw Oo=0,Ch=null,Error(P(185));ba(t,n,r),(!(ue&2)||t!==Qe)&&(t===Qe&&(!(ue&2)&&(Nc|=n),Be===4&&yr(t,Ze)),xt(t,r),n===1&&ue===0&&!(e.mode&1)&&(ks=Le()+500,xc&&Jr()))}function xt(t,e){var n=t.callbackNode;Cx(t,e);var r=lu(t,t===Qe?Ze:0);if(r===0)n!==null&&S_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&S_(n),e===1)t.tag===0?S1(py.bind(null,t)):nE(py.bind(null,t)),y1(function(){!(ue&6)&&Jr()}),n=null;else{switch(Nw(r)){case 1:n=Np;break;case 4:n=kw;break;case 16:n=au;break;case 536870912:n=Rw;break;default:n=au}n=eS(n,GE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function GE(t,e){if(Fl=-1,Ul=0,ue&6)throw Error(P(327));var n=t.callbackNode;if(gs()&&t.callbackNode!==n)return null;var r=lu(t,t===Qe?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bu(t,r);else{e=r;var i=ue;ue|=2;var s=YE();(Qe!==t||Ze!==e)&&($n=null,ks=Le()+500,mi(t,e));do try{B1();break}catch(a){KE(t,a)}while(!0);Wp(),Cu.current=s,ue=i,Ue!==null?e=0:(Qe=null,Ze=0,e=Be)}if(e!==0){if(e===2&&(i=Qf(t),i!==0&&(r=i,e=Th(t,i))),e===1)throw n=sa,mi(t,0),yr(t,r),xt(t,Le()),n;if(e===6)yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!V1(i)&&(e=bu(t,r),e===2&&(s=Qf(t),s!==0&&(r=s,e=Th(t,s))),e===1))throw n=sa,mi(t,0),yr(t,r),xt(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:ri(t,Et,$n);break;case 3:if(yr(t,r),(r&130023424)===r&&(e=sm+500-Le(),10<e)){if(lu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ih(ri.bind(null,t,Et,$n),e);break}ri(t,Et,$n);break;case 4:if(yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$1(r/1960))-r,10<r){t.timeoutHandle=ih(ri.bind(null,t,Et,$n),r);break}ri(t,Et,$n);break;case 5:ri(t,Et,$n);break;default:throw Error(P(329))}}}return xt(t,Le()),t.callbackNode===n?GE.bind(null,t):null}function Th(t,e){var n=Ro;return t.current.memoizedState.isDehydrated&&(mi(t,e).flags|=256),t=bu(t,e),t!==2&&(e=Et,Et=n,e!==null&&Ih(e)),t}function Ih(t){Et===null?Et=t:Et.push.apply(Et,t)}function V1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yr(t,e){for(e&=~im,e&=~Nc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),r=1<<n;t[n]=-1,e&=~r}}function py(t){if(ue&6)throw Error(P(327));gs();var e=lu(t,0);if(!(e&1))return xt(t,Le()),null;var n=bu(t,e);if(t.tag!==0&&n===2){var r=Qf(t);r!==0&&(e=r,n=Th(t,r))}if(n===1)throw n=sa,mi(t,0),yr(t,e),xt(t,Le()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ri(t,Et,$n),xt(t,Le()),null}function om(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(ks=Le()+500,xc&&Jr())}}function bi(t){Tr!==null&&Tr.tag===0&&!(ue&6)&&gs();var e=ue;ue|=1;var n=Xt.transition,r=pe;try{if(Xt.transition=null,pe=1,t)return t()}finally{pe=r,Xt.transition=n,ue=e,!(ue&6)&&Jr()}}function am(){At=ss.current,Ce(ss)}function mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_1(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(Vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hu();break;case 3:bs(),Ce(It),Ce(ot),Qp();break;case 5:Yp(r);break;case 4:bs();break;case 13:Ce(Ie);break;case 19:Ce(Ie);break;case 10:Hp(r.type._context);break;case 22:case 23:am()}n=n.return}if(Qe=t,Ue=t=Lr(t.current,null),Ze=At=e,Be=0,sa=null,im=Nc=Ii=0,Et=Ro=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ui=null}return t}function KE(t,e){do{var n=Ue;try{if(Wp(),Dl.current=Su,Eu){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Eu=!1}if(Ti=0,Ge=$e=be=null,xo=!1,na=0,rm.current=null,n===null||n.return===null){Be=1,sa=e,Ue=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=ty(o);if(m!==null){m.flags&=-257,ny(m,o,a,s,e),m.mode&1&&ey(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){ey(s,u,e),lm();break e}l=Error(P(426))}}else if(Te&&a.mode&1){var E=ty(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),ny(E,o,a,s,e),zp(xs(l,a));break e}}s=l=xs(l,a),Be!==4&&(Be=2),Ro===null?Ro=[s]:Ro.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=NE(s,l,e);K_(s,_);break e;case 1:a=l;var h=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ar===null||!Ar.has(p)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=PE(s,a,e);K_(s,y);break e}}s=s.return}while(s!==null)}XE(n)}catch(S){e=S,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function YE(){var t=Cu.current;return Cu.current=Su,t===null?Su:t}function lm(){(Be===0||Be===3||Be===2)&&(Be=4),Qe===null||!(Ii&268435455)&&!(Nc&268435455)||yr(Qe,Ze)}function bu(t,e){var n=ue;ue|=2;var r=YE();(Qe!==t||Ze!==e)&&($n=null,mi(t,e));do try{z1();break}catch(i){KE(t,i)}while(!0);if(Wp(),ue=n,Cu.current=r,Ue!==null)throw Error(P(261));return Qe=null,Ze=0,Be}function z1(){for(;Ue!==null;)QE(Ue)}function B1(){for(;Ue!==null&&!px();)QE(Ue)}function QE(t){var e=ZE(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?XE(t):Ue=e,rm.current=null}function XE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M1(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Ue=null;return}}else if(n=L1(n,e,At),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);Be===0&&(Be=5)}function ri(t,e,n){var r=pe,i=Xt.transition;try{Xt.transition=null,pe=1,W1(t,e,n,r)}finally{Xt.transition=i,pe=r}return null}function W1(t,e,n,r){do gs();while(Tr!==null);if(ue&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Tx(t,s),t===Qe&&(Ue=Qe=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fl||(fl=!0,eS(au,function(){return gs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xt.transition,Xt.transition=null;var o=pe;pe=1;var a=ue;ue|=4,rm.current=null,U1(t,n),HE(n,t),c1(nh),uu=!!th,nh=th=null,t.current=n,j1(n),mx(),ue=a,pe=o,Xt.transition=s}else t.current=n;if(fl&&(fl=!1,Tr=t,Iu=i),s=t.pendingLanes,s===0&&(Ar=null),yx(n.stateNode),xt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tu)throw Tu=!1,t=Sh,Sh=null,t;return Iu&1&&t.tag!==0&&gs(),s=t.pendingLanes,s&1?t===Ch?Oo++:(Oo=0,Ch=t):Oo=0,Jr(),null}function gs(){if(Tr!==null){var t=Nw(Iu),e=Xt.transition,n=pe;try{if(Xt.transition=null,pe=16>t?16:t,Tr===null)var r=!1;else{if(t=Tr,Tr=null,Iu=0,ue&6)throw Error(P(331));var i=ue;for(ue|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:ko(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,m=c.return;if(zE(c),c===u){W=null;break}if(f!==null){f.return=m,W=f;break}W=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ko(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,W=_;break e}W=s.return}}var h=t.current;for(W=h;W!==null;){o=W;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,W=p;else e:for(o=h;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oc(9,a)}}catch(S){Re(a,a.return,S)}if(a===o){W=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,W=y;break e}W=a.return}}if(ue=i,Jr(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Sc,t)}catch{}r=!0}return r}finally{pe=n,Xt.transition=e}}return!1}function my(t,e,n){e=xs(n,e),e=NE(t,e,1),t=Pr(t,e,1),e=mt(),t!==null&&(ba(t,1,e),xt(t,e))}function Re(t,e,n){if(t.tag===3)my(t,t,n);else for(;e!==null;){if(e.tag===3){my(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){t=xs(n,t),t=PE(e,t,1),e=Pr(e,t,1),t=mt(),e!==null&&(ba(e,1,t),xt(e,t));break}}e=e.return}}function H1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(Ze&n)===n&&(Be===4||Be===3&&(Ze&130023424)===Ze&&500>Le()-sm?mi(t,0):im|=n),xt(t,e)}function JE(t,e){e===0&&(t.mode&1?(e=nl,nl<<=1,!(nl&130023424)&&(nl=4194304)):e=1);var n=mt();t=er(t,e),t!==null&&(ba(t,e,n),xt(t,n))}function q1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JE(t,n)}function G1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),JE(t,n)}var ZE;ZE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,D1(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,Te&&e.flags&1048576&&rE(e,gu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ml(t,e),t=e.pendingProps;var i=Cs(e,ot.current);ms(e,n),i=Jp(null,e,r,t,i,n);var s=Zp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(s=!0,pu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gp(e),i.updater=Rc,e.stateNode=i,i._reactInternals=e,dh(e,r,t,n),e=ph(null,e,r,!0,s,n)):(e.tag=0,Te&&s&&$p(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ml(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Y1(r),t=nn(r,t),i){case 0:e=hh(null,e,r,t,n);break e;case 1:e=sy(null,e,r,t,n);break e;case 11:e=ry(null,e,r,t,n);break e;case 14:e=iy(null,e,r,nn(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),hh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),sy(t,e,r,i,n);case 3:e:{if(ME(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uE(t,e),vu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xs(Error(P(423)),e),e=oy(t,e,r,n,i);break e}else if(r!==i){i=xs(Error(P(424)),e),e=oy(t,e,r,n,i);break e}else for(Lt=Nr(e.stateNode.containerInfo.firstChild),jt=e,Te=!0,on=null,n=aE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ts(),r===i){e=tr(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return cE(e),t===null&&lh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rh(r,i)?o=null:s!==null&&rh(r,s)&&(e.flags|=32),LE(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&lh(e),null;case 13:return FE(t,e,n);case 4:return Kp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Is(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),ry(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(_u,r._currentValue),r._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===i.children&&!It.current){e=tr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Yn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),uh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),uh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ms(e,n),i=Zt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=nn(r,e.pendingProps),i=nn(r.type,i),iy(t,e,r,i,n);case 15:return AE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),Ml(t,e),e.tag=1,bt(r)?(t=!0,pu(e)):t=!1,ms(e,n),OE(e,r,i),dh(e,r,i,n),ph(null,e,r,!0,t,n);case 19:return UE(t,e,n);case 22:return DE(t,e,n)}throw Error(P(156,e.tag))};function eS(t,e){return xw(t,e)}function K1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,r){return new K1(t,e,n,r)}function um(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y1(t){if(typeof t=="function")return um(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kp)return 11;if(t===Rp)return 14}return 2}function Lr(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")um(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yi:return gi(n.children,i,s,e);case xp:o=8,i|=8;break;case Lf:return t=Qt(12,n,e,i|2),t.elementType=Lf,t.lanes=s,t;case Mf:return t=Qt(13,n,e,i),t.elementType=Mf,t.lanes=s,t;case Ff:return t=Qt(19,n,e,i),t.elementType=Ff,t.lanes=s,t;case cw:return Pc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lw:o=10;break e;case uw:o=9;break e;case kp:o=11;break e;case Rp:o=14;break e;case mr:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Qt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gi(t,e,n,r){return t=Qt(7,t,r,e),t.lanes=n,t}function Pc(t,e,n,r){return t=Qt(22,t,r,e),t.elementType=cw,t.lanes=n,t.stateNode={isHidden:!1},t}function Qd(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function Xd(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nd(0),this.expirationTimes=Nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cm(t,e,n,r,i,s,o,a,l){return t=new Q1(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(s),t}function X1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tS(t){if(!t)return Br;t=t._reactInternals;e:{if(Mi(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(bt(n))return tE(t,n,e)}return e}function nS(t,e,n,r,i,s,o,a,l){return t=cm(n,r,!0,t,i,s,o,a,l),t.context=tS(null),n=t.current,r=mt(),i=Dr(n),s=Yn(r,i),s.callback=e??null,Pr(n,s,i),t.current.lanes=i,ba(t,i,r),xt(t,r),t}function Ac(t,e,n,r){var i=e.current,s=mt(),o=Dr(i);return n=tS(n),e.context===null?e.context=n:e.pendingContext=n,e=Yn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pr(i,e,o),t!==null&&(mn(t,i,o,s),Al(t,i,o)),o}function xu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dm(t,e){gy(t,e),(t=t.alternate)&&gy(t,e)}function J1(){return null}var rS=typeof reportError=="function"?reportError:function(t){console.error(t)};function fm(t){this._internalRoot=t}Dc.prototype.render=fm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Ac(t,e,null,null)};Dc.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){Ac(null,t,null,null)}),e[Zn]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_r.length&&e!==0&&e<_r[n].priority;n++);_r.splice(n,0,t),n===0&&Mw(t)}};function hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _y(){}function Z1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=xu(o);s.call(u)}}var o=nS(e,r,t,0,null,!1,!1,"",_y);return t._reactRootContainer=o,t[Zn]=o.current,Xo(t.nodeType===8?t.parentNode:t),bi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=xu(l);a.call(u)}}var l=cm(t,0,!1,null,null,!1,!1,"",_y);return t._reactRootContainer=l,t[Zn]=l.current,Xo(t.nodeType===8?t.parentNode:t),bi(function(){Ac(e,l,n,r)}),l}function Mc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xu(o);a.call(l)}}Ac(e,o,t,i)}else o=Z1(n,e,t,i,r);return xu(o)}Pw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_o(e.pendingLanes);n!==0&&(Pp(e,n|1),xt(e,Le()),!(ue&6)&&(ks=Le()+500,Jr()))}break;case 13:bi(function(){var r=er(t,1);if(r!==null){var i=mt();mn(r,t,1,i)}}),dm(t,1)}};Ap=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var n=mt();mn(e,t,134217728,n)}dm(t,134217728)}};Aw=function(t){if(t.tag===13){var e=Dr(t),n=er(t,e);if(n!==null){var r=mt();mn(n,t,e,r)}dm(t,e)}};Dw=function(){return pe};Lw=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Gf=function(t,e,n){switch(e){case"input":if($f(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bc(r);if(!i)throw Error(P(90));fw(r),$f(r,i)}}}break;case"textarea":pw(t,n);break;case"select":e=n.value,e!=null&&ds(t,!!n.multiple,e,!1)}};Ew=om;Sw=bi;var ek={usingClientEntryPoint:!1,Events:[ka,Zi,bc,vw,ww,om]},ao={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tk={bundleType:ao.bundleType,version:ao.version,rendererPackageName:ao.rendererPackageName,rendererConfig:ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Iw(t),t===null?null:t.stateNode},findFiberByHostInstance:ao.findFiberByHostInstance||J1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Sc=hl.inject(tk),On=hl}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(e))throw Error(P(200));return X1(t,e,null,n)};Wt.createRoot=function(t,e){if(!hm(t))throw Error(P(299));var n=!1,r="",i=rS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cm(t,1,!1,null,null,n,!1,r,i),t[Zn]=e.current,Xo(t.nodeType===8?t.parentNode:t),new fm(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Iw(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return bi(t)};Wt.hydrate=function(t,e,n){if(!Lc(e))throw Error(P(200));return Mc(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!hm(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nS(e,null,t,1,n??null,i,!1,s,o),t[Zn]=e.current,Xo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dc(e)};Wt.render=function(t,e,n){if(!Lc(e))throw Error(P(200));return Mc(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!Lc(t))throw Error(P(40));return t._reactRootContainer?(bi(function(){Mc(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};Wt.unstable_batchedUpdates=om;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lc(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Mc(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function iS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iS)}catch(t){console.error(t)}}iS(),iw.exports=Wt;var pm=iw.exports;const UV=js(pm);var yy=pm;Af.createRoot=yy.createRoot,Af.hydrateRoot=yy.hydrateRoot;var sS={exports:{}},oS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=k;function nk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rk=typeof Object.is=="function"?Object.is:nk,ik=Oa.useSyncExternalStore,sk=Oa.useRef,ok=Oa.useEffect,ak=Oa.useMemo,lk=Oa.useDebugValue;oS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=sk(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ak(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,rk(c,m))return g;var v=r(m);return i!==void 0&&i(g,v)?g:(c=m,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=ik(t,s[0],s[1]);return ok(function(){o.hasValue=!0,o.value=a},[a]),lk(a),a};sS.exports=oS;var uk=sS.exports,Mt="default"in Pf?q:Pf,vy=Symbol.for("react-redux-context"),wy=typeof globalThis<"u"?globalThis:{};function ck(){if(!Mt.createContext)return{};const t=wy[vy]??(wy[vy]=new Map);let e=t.get(Mt.createContext);return e||(e=Mt.createContext(null),t.set(Mt.createContext,e)),e}var Wr=ck(),dk=()=>{throw new Error("uSES not initialized!")};function mm(t=Wr){return function(){return Mt.useContext(t)}}var aS=mm(),lS=dk,fk=t=>{lS=t},hk=(t,e)=>t===e;function pk(t=Wr){const e=t===Wr?aS:mm(t),n=(r,i={})=>{const{equalityFn:s=hk,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e();Mt.useRef(!0);const f=Mt.useCallback({[r.name](g){return r(g)}}[r.name],[r,c,o.stabilityCheck]),m=lS(l.addNestedSub,a.getState,u||a.getState,f,s);return Mt.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var qt=pk();function mk(t){t()}function gk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){mk(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Ey={notify(){},get:()=>[]};function _k(t,e){let n,r=Ey,i=0,s=!1;function o(v){c();const E=r.subscribe(v);let _=!1;return()=>{_||(_=!0,E(),d())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return s}function c(){i++,n||(n=t.subscribe(l),r=gk())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ey)}function f(){s||(s=!0,c())}function m(){s&&(s=!1,d())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return g}var yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vk=typeof navigator<"u"&&navigator.product==="ReactNative",wk=yk||vk?Mt.useLayoutEffect:Mt.useEffect;function Ek({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Mt.useMemo(()=>{const u=_k(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=Mt.useMemo(()=>t.getState(),[t]);wk(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Wr;return Mt.createElement(l.Provider,{value:o},n)}var Sk=Ek;function uS(t=Wr){const e=t===Wr?aS:mm(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var Ck=uS();function Tk(t=Wr){const e=t===Wr?Ck:uS(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Fi=Tk();fk(uk.useSyncExternalStoreWithSelector);function $l(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$l=function(n){return typeof n}:$l=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$l(t)}function Ik(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xk(t,e,n){return e&&bk(t.prototype,e),t}function kk(t,e){return e&&($l(e)==="object"||typeof e=="function")?e:Vl(t)}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bh(t)}function Vl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xh(t,e)}function xh(t,e){return xh=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},xh(t,e)}function zl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cS=function(t){Rk(e,t);function e(){var n,r;Ik(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=kk(this,(n=bh(e)).call.apply(n,[this].concat(s))),zl(Vl(r),"state",{bootstrapped:!1}),zl(Vl(r),"_unsubscribe",void 0),zl(Vl(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return xk(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(k.PureComponent);zl(cS,"defaultProps",{children:null,loading:null});function Xe(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ok=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sy=Ok,Jd=()=>Math.random().toString(36).substring(7).split("").join("."),Nk={INIT:`@@redux/INIT${Jd()}`,REPLACE:`@@redux/REPLACE${Jd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jd()}`},ku=Nk;function gm(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _m(t,e,n){if(typeof t!="function")throw new Error(Xe(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xe(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xe(1));return n(_m)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((E,_)=>{o.set(_,E)}))}function c(){if(l)throw new Error(Xe(3));return i}function d(E){if(typeof E!="function")throw new Error(Xe(4));if(l)throw new Error(Xe(5));let _=!0;u();const h=a++;return o.set(h,E),function(){if(_){if(l)throw new Error(Xe(6));_=!1,u(),o.delete(h),s=null}}}function f(E){if(!gm(E))throw new Error(Xe(7));if(typeof E.type>"u")throw new Error(Xe(8));if(typeof E.type!="string")throw new Error(Xe(17));if(l)throw new Error(Xe(9));try{l=!0,i=r(i,E)}finally{l=!1}return(s=o).forEach(h=>{h()}),E}function m(E){if(typeof E!="function")throw new Error(Xe(10));r=E,f({type:ku.REPLACE})}function g(){const E=d;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Xe(11));function h(){const y=_;y.next&&y.next(c())}return h(),{unsubscribe:E(h)}},[Sy](){return this}}}return f({type:ku.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:m,[Sy]:g}}function Pk(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ku.INIT})>"u")throw new Error(Xe(12));if(typeof n(void 0,{type:ku.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xe(13))})}function dS(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Pk(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],m=o[d],g=f(m,a);if(typeof g>"u")throw a&&a.type,new Error(Xe(14));u[d]=g,l=l||g!==m}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Ru(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Ak(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Xe(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=Ru(...a)(i.dispatch),{...i,dispatch:s}}}function Dk(t){return gm(t)&&"type"in t&&typeof t.type=="string"}var fS=Symbol.for("immer-nothing"),Cy=Symbol.for("immer-draftable"),zt=Symbol.for("immer-state");function ln(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Rs=Object.getPrototypeOf;function Hr(t){return!!t&&!!t[zt]}function nr(t){var e;return t?hS(t)||Array.isArray(t)||!!t[Cy]||!!((e=t.constructor)!=null&&e[Cy])||Uc(t)||jc(t):!1}var Lk=Object.prototype.constructor.toString();function hS(t){if(!t||typeof t!="object")return!1;const e=Rs(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Lk}function Ou(t,e){Fc(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Fc(t){const e=t[zt];return e?e.type_:Array.isArray(t)?1:Uc(t)?2:jc(t)?3:0}function kh(t,e){return Fc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function pS(t,e,n){const r=Fc(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Mk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Uc(t){return t instanceof Map}function jc(t){return t instanceof Set}function ii(t){return t.copy_||t.base_}function Rh(t,e){if(Uc(t))return new Map(t);if(jc(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=hS(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[zt];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Rs(t),r)}else{const r=Rs(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function ym(t,e=!1){return $c(t)||Hr(t)||!nr(t)||(Fc(t)>1&&(t.set=t.add=t.clear=t.delete=Fk),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>ym(r,!0))),t}function Fk(){ln(2)}function $c(t){return Object.isFrozen(t)}var Uk={};function xi(t){const e=Uk[t];return e||ln(0,t),e}var oa;function mS(){return oa}function jk(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ty(t,e){e&&(xi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Oh(t){Nh(t),t.drafts_.forEach($k),t.drafts_=null}function Nh(t){t===oa&&(oa=t.parent_)}function Iy(t){return oa=jk(oa,t)}function $k(t){const e=t[zt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function by(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[zt].modified_&&(Oh(e),ln(4)),nr(t)&&(t=Nu(e,t),e.parent_||Pu(e,t)),e.patches_&&xi("Patches").generateReplacementPatches_(n[zt].base_,t,e.patches_,e.inversePatches_)):t=Nu(e,n,[]),Oh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==fS?t:void 0}function Nu(t,e,n){if($c(e))return e;const r=e[zt];if(!r)return Ou(e,(i,s)=>xy(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Pu(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Ou(s,(a,l)=>xy(t,r,i,a,l,n,o)),Pu(t,i,!1),n&&t.patches_&&xi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function xy(t,e,n,r,i,s,o){if(Hr(i)){const a=s&&e&&e.type_!==3&&!kh(e.assigned_,r)?s.concat(r):void 0,l=Nu(t,i,a);if(pS(n,r,l),Hr(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(nr(i)&&!$c(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Nu(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Pu(t,i)}}function Pu(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ym(e,n)}function Vk(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:mS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=vm;n&&(i=[r],s=aa);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var vm={get(t,e){if(e===zt)return t;const n=ii(t);if(!kh(n,e))return zk(t,n,e);const r=n[e];return t.finalized_||!nr(r)?r:r===Zd(t.base_,e)?(ef(t),t.copy_[e]=Ah(r,t)):r},has(t,e){return e in ii(t)},ownKeys(t){return Reflect.ownKeys(ii(t))},set(t,e,n){const r=gS(ii(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Zd(ii(t),e),s=i==null?void 0:i[zt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Mk(n,i)&&(n!==void 0||kh(t.base_,e)))return!0;ef(t),Ph(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Zd(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ef(t),Ph(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ii(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ln(11)},getPrototypeOf(t){return Rs(t.base_)},setPrototypeOf(){ln(12)}},aa={};Ou(vm,(t,e)=>{aa[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});aa.deleteProperty=function(t,e){return aa.set.call(this,t,e,void 0)};aa.set=function(t,e,n){return vm.set.call(this,t[0],e,n,t[0])};function Zd(t,e){const n=t[zt];return(n?ii(n):t)[e]}function zk(t,e,n){var i;const r=gS(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function gS(t,e){if(!(e in t))return;let n=Rs(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Rs(n)}}function Ph(t){t.modified_||(t.modified_=!0,t.parent_&&Ph(t.parent_))}function ef(t){t.copy_||(t.copy_=Rh(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Bk=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&ln(6),r!==void 0&&typeof r!="function"&&ln(7);let i;if(nr(e)){const s=Iy(this),o=Ah(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Oh(s):Nh(s)}return Ty(s,r),by(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===fS&&(i=void 0),this.autoFreeze_&&ym(i,!0),r){const s=[],o=[];xi("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else ln(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){nr(t)||ln(8),Hr(t)&&(t=_S(t));const e=Iy(this),n=Ah(t,void 0);return n[zt].isManual_=!0,Nh(e),n}finishDraft(t,e){const n=t&&t[zt];(!n||!n.isManual_)&&ln(9);const{scope_:r}=n;return Ty(r,e),by(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=xi("Patches").applyPatches_;return Hr(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Ah(t,e){const n=Uc(t)?xi("MapSet").proxyMap_(t,e):jc(t)?xi("MapSet").proxySet_(t,e):Vk(t,e);return(e?e.scope_:mS()).drafts_.push(n),n}function _S(t){return Hr(t)||ln(10,t),yS(t)}function yS(t){if(!nr(t)||$c(t))return t;const e=t[zt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Rh(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Rh(t,!0);return Ou(n,(r,i)=>{pS(n,r,yS(i))}),e&&(e.finalized_=!1),n}var Bt=new Bk,vS=Bt.produce;Bt.produceWithPatches.bind(Bt);Bt.setAutoFreeze.bind(Bt);Bt.setUseStrictShallowCopy.bind(Bt);Bt.applyPatches.bind(Bt);Bt.createDraft.bind(Bt);Bt.finishDraft.bind(Bt);function Wk(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Hk(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function qk(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var ky=t=>Array.isArray(t)?t:[t];function Gk(t){const e=Array.isArray(t[0])?t[0]:t;return qk(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Kk(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Yk=class{constructor(t){this.value=t}deref(){return this.value}},Qk=typeof WeakRef<"u"?WeakRef:Yk,Xk=0,Ry=1;function pl(){return{s:Xk,v:void 0,o:null,p:null}}function wm(t,e={}){let n=pl();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=n;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=a.o;v===null&&(a.o=v=new WeakMap);const E=v.get(g);E===void 0?(a=pl(),v.set(g,a)):a=E}else{let v=a.p;v===null&&(a.p=v=new Map);const E=v.get(g);E===void 0?(a=pl(),v.set(g,a)):a=E}}const u=a;let c;if(a.s===Ry)c=a.v;else if(c=t.apply(null,arguments),s++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Qk(c):c}return u.s=Ry,u.v=c,c}return o.clearCache=()=>{n=pl(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function wS(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Wk(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:m=wm,argsMemoizeOptions:g=[],devModeChecks:v={}}=c,E=ky(f),_=ky(g),h=Gk(i),p=d(function(){return s++,u.apply(null,arguments)},...E),y=m(function(){o++;const x=Kk(h,arguments);return a=p.apply(null,x),a},..._);return Object.assign(y,{resultFunc:u,memoizedResultFunc:p,dependencies:h,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Jk=wS(wm),Zk=Object.assign((t,e=Jk)=>{Hk(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>Zk});function ES(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var eR=ES(),tR=ES,nR=(...t)=>{const e=wS(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(Hr(o)?_S(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};nR(wm);var rR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ru:Ru.apply(null,arguments)},iR=t=>t&&typeof t.match=="function";function $t(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(kt(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Dk(r)&&r.type===t,n}var SS=class vo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,vo.prototype)}static get[Symbol.species](){return vo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new vo(...e[0].concat(this)):new vo(...e.concat(this))}};function Oy(t){return nr(t)?vS(t,()=>{}):t}function Ny(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(kt(10));const r=n.insert(e,t);return t.set(e,r),r}function sR(t){return typeof t=="boolean"}var oR=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new SS;return n&&(sR(n)?o.push(eR):o.push(tR(n.extraArgument))),o},aR="RTK_autoBatch",CS=t=>e=>{setTimeout(e,t)},lR=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CS(10),uR=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?lR:t.type==="callback"?t.queueNotification:CS(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[aR]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},cR=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new SS(t);return r&&i.push(uR(typeof r=="object"?r:void 0)),i},dR=!0;function fR(t){const e=oR(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(gm(n))a=dS(n);else throw new Error(kt(1));let l;typeof r=="function"?l=r(e):l=e();let u=Ru;i&&(u=rR({trace:!dR,...typeof i=="object"&&i}));const c=Ak(...l),d=cR(c);let f=typeof o=="function"?o(d):d();const m=u(...f);return _m(a,s,m)}function TS(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(kt(28));if(a in e)throw new Error(kt(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function hR(t){return typeof t=="function"}function pR(t,e){let[n,r,i]=TS(e),s;if(hR(t))s=()=>Oy(t());else{const a=Oy(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Hr(c)){const m=d(c,l);return m===void 0?c:m}else{if(nr(c))return vS(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw new Error(kt(9))}return f}}return c},a)}return o.getInitialState=s,o}var mR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Em=(t=21)=>{let e="",n=t;for(;n--;)e+=mR[Math.random()*64|0];return e},gR=(t,e)=>iR(t)?t.match(e):t(e);function _R(...t){return e=>t.some(n=>gR(n,e))}var yR=["name","message","stack","code"],tf=class{constructor(t,e){Id(this,"_type");this.payload=t,this.meta=e}},Py=class{constructor(t,e){Id(this,"_type");this.payload=t,this.meta=e}},vR=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of yR)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Na=(()=>{function t(e,n,r){const i=$t(e+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),s=$t(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),o=$t(e+"/rejected",(l,u,c,d,f)=>({payload:d,error:(r&&r.serializeError||vR)(l||"Rejected"),meta:{...f||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(u,c,d)=>{const f=r!=null&&r.idGenerator?r.idGenerator(l):Em(),m=new AbortController;let g,v;function E(h){v=h,m.abort()}const _=async function(){var y,S;let h;try{let x=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,l,{getState:c,extra:d});if(ER(x)&&(x=await x),x===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const N=new Promise((C,A)=>{g=()=>{A({name:"AbortError",message:v||"Aborted"})},m.signal.addEventListener("abort",g)});u(s(f,l,(S=r==null?void 0:r.getPendingMeta)==null?void 0:S.call(r,{requestId:f,arg:l},{getState:c,extra:d}))),h=await Promise.race([N,Promise.resolve(n(l,{dispatch:u,getState:c,extra:d,requestId:f,signal:m.signal,abort:E,rejectWithValue:(C,A)=>new tf(C,A),fulfillWithValue:(C,A)=>new Py(C,A)})).then(C=>{if(C instanceof tf)throw C;return C instanceof Py?i(C.payload,f,l,C.meta):i(C,f,l)})])}catch(x){h=x instanceof tf?o(null,f,l,x.payload,x.meta):o(x,f,l)}finally{g&&m.signal.removeEventListener("abort",g)}return r&&!r.dispatchConditionRejection&&o.match(h)&&h.meta.condition||u(h),h}();return Object.assign(_,{abort:E,requestId:f,arg:l,unwrap(){return _.then(wR)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:_R(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function wR(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function ER(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var SR=Symbol.for("rtk-slice-createasyncthunk");function CR(t,e){return`${t}/${e}`}function TR({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[SR];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(kt(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(bR()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(p,y){const S=typeof p=="string"?p:p.type;if(!S)throw new Error(kt(12));if(S in u.sliceCaseReducersByType)throw new Error(kt(13));return u.sliceCaseReducersByType[S]=y,c},addMatcher(p,y){return u.sliceMatchers.push({matcher:p,reducer:y}),c},exposeAction(p,y){return u.actionCreators[p]=y,c},exposeCaseReducer(p,y){return u.sliceCaseReducersByName[p]=y,c}};l.forEach(p=>{const y=a[p],S={reducerName:p,type:CR(s,p),createNotation:typeof i.reducers=="function"};kR(y)?OR(S,y,c,e):xR(S,y,c)});function d(){const[p={},y=[],S=void 0]=typeof i.extraReducers=="function"?TS(i.extraReducers):[i.extraReducers],x={...p,...u.sliceCaseReducersByType};return pR(i.initialState,N=>{for(let C in x)N.addCase(C,x[C]);for(let C of u.sliceMatchers)N.addMatcher(C.matcher,C.reducer);for(let C of y)N.addMatcher(C.matcher,C.reducer);S&&N.addDefaultCase(S)})}const f=p=>p,m=new Map;let g;function v(p,y){return g||(g=d()),g(p,y)}function E(){return g||(g=d()),g.getInitialState()}function _(p,y=!1){function S(N){let C=N[p];return typeof C>"u"&&y&&(C=E()),C}function x(N=f){const C=Ny(m,y,{insert:()=>new WeakMap});return Ny(C,N,{insert:()=>{const A={};for(const[F,K]of Object.entries(i.selectors??{}))A[F]=IR(K,N,E,y);return A}})}return{reducerPath:p,getSelectors:x,get selectors(){return x(S)},selectSlice:S}}const h={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,..._(o),injectInto(p,{reducerPath:y,...S}={}){const x=y??o;return p.inject({reducerPath:x,reducer:v},S),{...h,..._(x,!0)}}};return h}}function IR(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var Vc=TR();function bR(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function xR({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!RR(r))throw new Error(kt(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?$t(t,o):$t(t))}function kR(t){return t._reducerDefinitionType==="asyncThunk"}function RR(t){return t._reducerDefinitionType==="reducerWithPrepare"}function OR({type:t,reducerName:e},n,r,i){if(!i)throw new Error(kt(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(t,s,c);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:o||ml,pending:a||ml,rejected:l||ml,settled:u||ml})}function ml(){}var NR=(t,e)=>{if(typeof t!="function")throw new Error(kt(32))},Sm="listenerMiddleware",PR=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=$t(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(kt(21));return NR(s),{predicate:i,type:e,effect:s}},AR=Object.assign(t=>{const{type:e,predicate:n,effect:r}=PR(t);return{id:Em(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(kt(22))}}},{withTypes:()=>AR}),DR=Object.assign($t(`${Sm}/add`),{withTypes:()=>DR});$t(`${Sm}/removeAll`);var LR=Object.assign($t(`${Sm}/remove`),{withTypes:()=>LR});function kt(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var MR=$t("__rtkq/focused"),FR=$t("__rtkq/unfocused"),UR=$t("__rtkq/online"),jR=$t("__rtkq/offline"),nf=!1;function $R(t,e){function n(){const r=()=>t(MR()),i=()=>t(FR()),s=()=>t(UR()),o=()=>t(jR()),a=()=>{window.document.visibilityState==="visible"?r():i()};return nf||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),nf=!0),()=>{window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",a),window.removeEventListener("online",s),window.removeEventListener("offline",o),nf=!1}}return n()}var Cm="persist:",Tm="persist/FLUSH",zc="persist/REHYDRATE",Im="persist/PAUSE",bm="persist/PERSIST",xm="persist/PURGE",km="persist/REGISTER",VR=-1;function Bl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bl=function(n){return typeof n}:Bl=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bl(t)}function Ay(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ay(n,!0).forEach(function(r){BR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ay(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WR(t,e,n,r){r.debug;var i=zR({},n);return t&&Bl(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function HR(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:Cm).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(S){return S}:typeof t.serialize=="function"?a=t.serialize:a=qR;var l=t.writeFailHandler||null,u={},c={},d=[],f=null,m=null,g=function(S){Object.keys(S).forEach(function(x){_(x)&&u[x]!==S[x]&&d.indexOf(x)===-1&&d.push(x)}),Object.keys(u).forEach(function(x){S[x]===void 0&&_(x)&&d.indexOf(x)===-1&&u[x]!==void 0&&d.push(x)}),f===null&&(f=setInterval(v,i)),u=S};function v(){if(d.length===0){f&&clearInterval(f),f=null;return}var y=d.shift(),S=r.reduce(function(x,N){return N.in(x,y,u)},u[y]);if(S!==void 0)try{c[y]=a(S)}catch(x){console.error("redux-persist/createPersistoid: error serializing state",x)}else delete c[y];d.length===0&&E()}function E(){Object.keys(c).forEach(function(y){u[y]===void 0&&delete c[y]}),m=o.setItem(s,a(c)).catch(h)}function _(y){return!(n&&n.indexOf(y)===-1&&y!=="_persist"||e&&e.indexOf(y)!==-1)}function h(y){l&&l(y)}var p=function(){for(;d.length!==0;)v();return m||Promise.resolve()};return{update:g,flush:p}}function qR(t){return JSON.stringify(t)}function GR(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Cm).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=KR,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function KR(t){return JSON.parse(t)}function YR(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Cm).concat(t.key);return e.removeItem(n,QR)}function QR(t){}function Dy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dy(n,!0).forEach(function(r){XR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dy(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JR(t,e){if(t==null)return{};var n=ZR(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var eO=5e3;function Rm(t,e){var n=t.version!==void 0?t.version:VR;t.debug;var r=t.stateReconciler===void 0?WR:t.stateReconciler,i=t.getStoredState||GR,s=t.timeout!==void 0?t.timeout:eO,o=null,a=!1,l=!0,u=function(d){return d._persist.rehydrated&&o&&!l&&o.update(d),d};return function(c,d){var f=c||{},m=f._persist,g=JR(f,["_persist"]),v=g;if(d.type===bm){var E=!1,_=function(C,A){E||(d.rehydrate(t.key,C,A),E=!0)};if(s&&setTimeout(function(){!E&&_(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=HR(t)),m)return Fn({},e(v,d),{_persist:m});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(N){var C=t.migrate||function(A,F){return Promise.resolve(A)};C(N,n).then(function(A){_(A)},function(A){_(void 0,A)})},function(N){_(void 0,N)}),Fn({},e(v,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===xm)return a=!0,d.result(YR(t)),Fn({},e(v,d),{_persist:m});if(d.type===Tm)return d.result(o&&o.flush()),Fn({},e(v,d),{_persist:m});if(d.type===Im)l=!0;else if(d.type===zc){if(a)return Fn({},v,{_persist:Fn({},m,{rehydrated:!0})});if(d.key===t.key){var h=e(v,d),p=d.payload,y=r!==!1&&p!==void 0?r(p,c,h,t):h,S=Fn({},y,{_persist:Fn({},m,{rehydrated:!0})});return u(S)}}}if(!m)return e(c,d);var x=e(v,d);return x===v?c:u(Fn({},x,{_persist:m}))}}function Ly(t){return rO(t)||nO(t)||tO()}function tO(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nO(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function rO(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function My(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?My(n,!0).forEach(function(r){iO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):My(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var IS={registry:[],bootstrapped:!1},sO=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:IS,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case km:return Dh({},e,{registry:[].concat(Ly(e.registry),[n.key])});case zc:var r=e.registry.indexOf(n.key),i=Ly(e.registry);return i.splice(r,1),Dh({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function oO(t,e,n){var r=_m(sO,IS,void 0),i=function(l){r.dispatch({type:km,key:l})},s=function(l,u,c){var d={type:zc,payload:u,err:c,key:l};t.dispatch(d),r.dispatch(d)},o=Dh({},r,{purge:function(){var l=[];return t.dispatch({type:xm,result:function(c){l.push(c)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:Tm,result:function(c){l.push(c)}}),Promise.all(l)},pause:function(){t.dispatch({type:Im})},persist:function(){t.dispatch({type:bm,register:i,rehydrate:s})}});return o.persist(),o}var Om={},Nm={};Nm.__esModule=!0;Nm.default=uO;function Wl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wl=function(n){return typeof n}:Wl=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wl(t)}function rf(){}var aO={getItem:rf,setItem:rf,removeItem:rf};function lO(t){if((typeof self>"u"?"undefined":Wl(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function uO(t){var e="".concat(t,"Storage");return lO(e)?self[e]:aO}Om.__esModule=!0;Om.default=fO;var cO=dO(Nm);function dO(t){return t&&t.__esModule?t:{default:t}}function fO(t){var e=(0,cO.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var Bc=void 0,hO=pO(Om);function pO(t){return t&&t.__esModule?t:{default:t}}var mO=(0,hO.default)("local");Bc=mO;var Fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(t,e){if(!t)throw Bs(e)},Bs=function(t){return new Error("Firebase Database ("+bS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Pm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new _O;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kS=function(t){const e=xS(t);return Pm.encodeByteArray(e,!0)},Au=function(t){return kS(t).replace(/\./g,"")},Du=function(t){try{return Pm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){return RS(void 0,t)}function RS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vO(n)||(t[n]=RS(t[n],e[n]));return t}function vO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=()=>wO().__FIREBASE_DEFAULTS__,SO=()=>{if(typeof process>"u"||typeof Fy>"u")return;const t=Fy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Du(t[1]);return e&&JSON.parse(e)},Am=()=>{try{return EO()||SO()||CO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>{var e,n;return(n=(e=Am())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Dm=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NS=()=>{var t;return(t=Am())===null||t===void 0?void 0:t.config},PS=t=>{var e;return(e=Am())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Au(JSON.stringify(n)),Au(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function TO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IO(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DS(){return bS.NODE_ADMIN===!0}function bO(){try{return typeof indexedDB=="object"}catch{return!1}}function xO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="FirebaseError";class Ln extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kO,Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pa.prototype.create)}}class Pa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ln(i,a,r)}}function RO(t,e){return t.replace(OO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){return JSON.parse(t)}function Ve(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=la(Du(s[0])||""),n=la(Du(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},NO=function(t){const e=LS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PO=function(t){const e=LS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Os(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lu(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Mu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Uy(s)&&Uy(o)){if(!Mu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Uy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Eo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function DO(t,e){const n=new LO(t,e);return n.subscribe.bind(n)}class LO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sf),i.error===void 0&&(i.error=sf),i.complete===void 0&&(i.complete=sf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sf(){}function Fm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,L(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($O(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jO(t){return t===si?void 0:t}function $O(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const zO={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},BO=de.INFO,WO={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},HO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qc{constructor(e){this.name=e,this._logLevel=BO,this._logHandler=HO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const qO=(t,e)=>e.some(n=>t instanceof n);let jy,$y;function GO(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KO(){return $y||($y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MS=new WeakMap,Mh=new WeakMap,FS=new WeakMap,of=new WeakMap,Um=new WeakMap;function YO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MS.set(n,t)}).catch(()=>{}),Um.set(e,t),e}function QO(t){if(Mh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mh.set(t,e)}let Fh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XO(t){Fh=t(Fh)}function JO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(af(this),e,...n);return FS.set(r,e.sort?e.sort():[e]),Mr(r)}:KO().includes(t)?function(...e){return t.apply(af(this),e),Mr(MS.get(this))}:function(...e){return Mr(t.apply(af(this),e))}}function ZO(t){return typeof t=="function"?JO(t):(t instanceof IDBTransaction&&QO(t),qO(t,GO())?new Proxy(t,Fh):t)}function Mr(t){if(t instanceof IDBRequest)return YO(t);if(of.has(t))return of.get(t);const e=ZO(t);return e!==t&&(of.set(t,e),Um.set(e,t)),e}const af=t=>Um.get(t);function eN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mr(o.result),l.oldVersion,l.newVersion,Mr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tN=["get","getKey","getAll","getAllKeys","count"],nN=["put","add","delete","clear"],lf=new Map;function Vy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lf.get(e))return lf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return lf.set(e,s),s}XO(t=>({...t,get:(e,n,r)=>Vy(e,n)||t.get(e,n,r),has:(e,n)=>!!Vy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uh="@firebase/app",zy="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new qc("@firebase/app"),sN="@firebase/app-compat",oN="@firebase/analytics-compat",aN="@firebase/analytics",lN="@firebase/app-check-compat",uN="@firebase/app-check",cN="@firebase/auth",dN="@firebase/auth-compat",fN="@firebase/database",hN="@firebase/database-compat",pN="@firebase/functions",mN="@firebase/functions-compat",gN="@firebase/installations",_N="@firebase/installations-compat",yN="@firebase/messaging",vN="@firebase/messaging-compat",wN="@firebase/performance",EN="@firebase/performance-compat",SN="@firebase/remote-config",CN="@firebase/remote-config-compat",TN="@firebase/storage",IN="@firebase/storage-compat",bN="@firebase/firestore",xN="@firebase/vertexai-preview",kN="@firebase/firestore-compat",RN="firebase",ON="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",NN={[Uh]:"fire-core",[sN]:"fire-core-compat",[aN]:"fire-analytics",[oN]:"fire-analytics-compat",[uN]:"fire-app-check",[lN]:"fire-app-check-compat",[cN]:"fire-auth",[dN]:"fire-auth-compat",[fN]:"fire-rtdb",[hN]:"fire-rtdb-compat",[pN]:"fire-fn",[mN]:"fire-fn-compat",[gN]:"fire-iid",[_N]:"fire-iid-compat",[yN]:"fire-fcm",[vN]:"fire-fcm-compat",[wN]:"fire-perf",[EN]:"fire-perf-compat",[SN]:"fire-rc",[CN]:"fire-rc-compat",[TN]:"fire-gcs",[IN]:"fire-gcs-compat",[bN]:"fire-fst",[kN]:"fire-fst-compat",[xN]:"fire-vertex","fire-js":"fire-js",[RN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,PN=new Map,$h=new Map;function By(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qr(t){const e=t.name;if($h.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;$h.set(e,t);for(const n of Fu.values())By(n,t);for(const n of PN.values())By(n,t);return!0}function Aa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Pa("app","Firebase",AN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=ON;function US(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=NS()),!n)throw Fr.create("no-options");const s=Fu.get(i);if(s){if(Mu(n,s.options)&&Mu(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new VO(i);for(const l of $h.values())o.addComponent(l);const a=new DN(n,r,o);return Fu.set(i,a),a}function Gc(t=jh){const e=Fu.get(t);if(!e&&t===jh&&NS())return US();if(!e)throw Fr.create("no-app",{appName:t});return e}function Jt(t,e,n){var r;let i=(r=NN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(a.join(" "));return}qr(new rr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="firebase-heartbeat-database",MN=1,ua="firebase-heartbeat-store";let uf=null;function jS(){return uf||(uf=eN(LN,MN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),uf}async function FN(t){try{const n=(await jS()).transaction(ua),r=await n.objectStore(ua).get($S(t));return await n.done,r}catch(e){if(e instanceof Ln)ki.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function Wy(t,e){try{const r=(await jS()).transaction(ua,"readwrite");await r.objectStore(ua).put(e,$S(t)),await r.done}catch(n){if(n instanceof Ln)ki.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function $S(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1024,jN=30*24*60*60*1e3;class $N{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=jN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hy(),{heartbeatsToSend:r,unsentEntries:i}=VN(this._heartbeatsCache.heartbeats),s=Au(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Hy(){return new Date().toISOString().substring(0,10)}function VN(t,e=UN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bO()?xO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qy(t){return Au(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){qr(new rr("platform-logger",e=>new rN(e),"PRIVATE")),qr(new rr("heartbeat",e=>new $N(e),"PRIVATE")),Jt(Uh,zy,t),Jt(Uh,zy,"esm2017"),Jt("fire-js","")}BN("");var WN="firebase",HN="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt(WN,HN,"app");function jm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function VS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qN=VS,zS=new Pa("auth","Firebase",VS()),GN={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new qc("@firebase/auth");function KN(t,...e){Uu.logLevel<=de.WARN&&Uu.warn(`Auth (${Zr}): ${t}`,...e)}function Hl(t,...e){Uu.logLevel<=de.ERROR&&Uu.error(`Auth (${Zr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,...e){throw $m(t,...e)}function Pn(t,...e){return $m(t,...e)}function BS(t,e,n){const r=Object.assign(Object.assign({},qN()),{[e]:n});return new Pa("auth","Firebase",r).create(e,{appName:t.name})}function Qn(t){return BS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zS.create(t,...e)}function J(t,e,...n){if(!t)throw $m(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hl(e),new Error(e)}function ir(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YN(){return Gy()==="http:"||Gy()==="https:"}function Gy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||TO()||"connection"in navigator)?navigator.onLine:!0}function XN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=Mm()||AS()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t,e){ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Da(3e4,6e4);function ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lr(t,e,n,r,i={}){return HS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ws(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),WS.fetch()(qS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function HS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JN),e);try{const i=new tP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BS(t,c,u);vn(t,c)}}catch(i){if(i instanceof Ln)throw i;vn(t,"network-request-failed",{message:String(i)})}}async function La(t,e,n,r,i={}){const s=await lr(t,e,n,r,i);return"mfaPendingCredential"in s&&vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function qS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Vm(t.config,i):`${t.config.apiScheme}://${i}`}function eP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),ZN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pn(t,e,r);return i.customData._tokenResponse=n,i}function Ky(t){return t!==void 0&&t.enterprise!==void 0}class nP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function rP(t,e){return lr(t,"GET","/v2/recaptchaConfig",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e){return lr(t,"POST","/v1/accounts:delete",e)}async function GS(t,e){return lr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sP(t,e=!1){const n=Me(t),r=await n.getIdToken(e),i=zm(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:No(cf(i.auth_time)),issuedAtTime:No(cf(i.iat)),expirationTime:No(cf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cf(t){return Number(t)*1e3}function zm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hl("JWT malformed, contained fewer than 3 sections"),null;try{const i=Du(n);return i?JSON.parse(i):(Hl("Failed to decode base64 JWT payload"),null)}catch(i){return Hl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Yy(t){const e=zm(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ln&&oP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ns(t,GS(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KS(s.providerUserInfo):[],a=uP(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function lP(t){const e=Me(t);await ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KS(t){return t.map(e=>{var{providerId:n}=e,r=jm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e){const n=await HS(t,{},async()=>{const r=Ws({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=qS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dP(t,e){return lr(t,"POST","/v2/accounts:revokeToken",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=Yy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await cP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _s;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _s,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ns(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sP(this,e)}reload(){return lP(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ju(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Qn(this.auth));const e=await this.getIdToken();return await Ns(this,iP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,h=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:p,emailVerified:y,isAnonymous:S,providerData:x,stsTokenManager:N}=n;J(p&&N,e,"internal-error");const C=_s.fromJSON(this.name,N);J(typeof p=="string",e,"internal-error"),pr(d,e.name),pr(f,e.name),J(typeof y=="boolean",e,"internal-error"),J(typeof S=="boolean",e,"internal-error"),pr(m,e.name),pr(g,e.name),pr(v,e.name),pr(E,e.name),pr(_,e.name),pr(h,e.name);const A=new qn({uid:p,auth:e,email:f,emailVerified:y,displayName:d,isAnonymous:S,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:C,createdAt:_,lastLoginAt:h});return x&&Array.isArray(x)&&(A.providerData=x.map(F=>Object.assign({},F))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new _s;i.updateFromServerResponse(n);const s=new qn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ju(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];J(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?KS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new _s;a.updateFromIdToken(r);const l=new qn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;function Gn(t){ir(t instanceof Function,"Expected a class definition");let e=Qy.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YS.type="NONE";const Xy=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t,e,n){return`firebase:${t}:${e}:${n}`}class ys{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ql(this.userKey,i.apiKey,s),this.fullPersistenceKey=ql("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ys(Gn(Xy),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Gn(Xy);const o=ql(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=qn._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ys(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ys(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eC(e))return"Blackberry";if(tC(e))return"Webos";if(Bm(e))return"Safari";if((e.includes("chrome/")||XS(e))&&!e.includes("edge/"))return"Chrome";if(ZS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QS(t=at()){return/firefox\//i.test(t)}function Bm(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XS(t=at()){return/crios\//i.test(t)}function JS(t=at()){return/iemobile/i.test(t)}function ZS(t=at()){return/android/i.test(t)}function eC(t=at()){return/blackberry/i.test(t)}function tC(t=at()){return/webos/i.test(t)}function Kc(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fP(t=at()){var e;return Kc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hP(){return IO()&&document.documentMode===10}function nC(t=at()){return Kc(t)||ZS(t)||tC(t)||eC(t)||/windows phone/i.test(t)||JS(t)}function pP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t,e=[]){let n;switch(t){case"Browser":n=Jy(at());break;case"Worker":n=`${Jy(at())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e={}){return lr(t,"GET","/v2/passwordPolicy",ei(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=6;class yP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_P,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zy(this),this.idTokenSubscription=new Zy(this),this.beforeStateQueue=new mP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ys.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GS(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ju(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Qn(this));const n=e?Me(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Qn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gP(this),n=new yP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await ys.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ui(t){return Me(t)}class Zy{constructor(e){this.auth=e,this.observer=null,this.addObserver=DO(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wP(t){Yc=t}function iC(t){return Yc.loadJS(t)}function EP(){return Yc.recaptchaEnterpriseScript}function SP(){return Yc.gapiScript}function CP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TP="recaptcha-enterprise",IP="NO_RECAPTCHA";class bP{constructor(e){this.type=TP,this.auth=Ui(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{rP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new nP(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Ky(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(IP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Ky(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=EP();l.length!==0&&(l+=a),iC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ev(t,e,n,r=!1){const i=new bP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Bh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ev(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ev(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t,e){const n=Aa(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mu(s,e??{}))return i;vn(i,"already-initialized")}return n.initialize({options:e})}function kP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RP(t,e,n){const r=Ui(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sC(e),{host:o,port:a}=OP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),NP()}function sC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function OP(t){const e=sC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:tv(o)}}}function tv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function PP(t,e){return lr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(t,e){return La(t,"POST","/v1/accounts:signInWithPassword",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e){return La(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))}async function LP(t,e){return La(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Wm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ca(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ca(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bh(e,n,"signInWithPassword",AP);case"emailLink":return DP(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bh(e,r,"signUpPassword",PP);case"emailLink":return LP(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(t,e){return La(t,"POST","/v1/accounts:signInWithIdp",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="http://localhost";class Ri extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=jm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ri(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vs(e,n)}buildRequest(){const e={requestUri:MP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ws(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UP(t){const e=wo(Eo(t)).link,n=e?wo(Eo(e)).deep_link_id:null,r=wo(Eo(t)).deep_link_id;return(r?wo(Eo(r)).link:null)||r||n||e||t}class Hm{constructor(e){var n,r,i,s,o,a;const l=wo(Eo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=FP((i=l.mode)!==null&&i!==void 0?i:null);J(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=UP(e);try{return new Hm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.providerId=Hs.PROVIDER_ID}static credential(e,n){return ca._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hm.parseLink(n);return J(r,"argument-error"),ca._fromEmailAndCode(e,r.code,r.tenantId)}}Hs.PROVIDER_ID="password";Hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends oC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ma{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Ma{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ri._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zn.credential(n,r)}catch{return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com";zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Ma{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Ma{constructor(){super("twitter.com")}static credential(e,n){return Ri._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e){return La(t,"POST","/v1/accounts:signUp",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await qn._fromIdTokenResponse(e,r,i),o=nv(r);return new Oi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nv(r);return new Oi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Ln{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$u.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $u(e,n,r,i)}}function aC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$u._fromErrorAndOperation(t,s,e,r):s})}async function $P(t,e,n=!1){const r=await Ns(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e,n=!1){const{auth:r}=t;if(kn(r.app))return Promise.reject(Qn(r));const i="reauthenticate";try{const s=await Ns(t,aC(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=zm(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Oi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(t,e,n=!1){if(kn(t.app))return Promise.reject(Qn(t));const r="signIn",i=await aC(t,r,e),s=await Oi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function zP(t,e){return lC(Ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t){const e=Ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BP(t,e,n){if(kn(t.app))return Promise.reject(Qn(t));const r=Ui(t),o=await Bh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uC(t),l}),a=await Oi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function WP(t,e,n){return kn(t.app)?Promise.reject(Qn(t)):zP(Me(t),Hs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e){return lr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Me(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ns(r,HP(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function qP(t,e,n,r){return Me(t).onIdTokenChanged(e,n,r)}function GP(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}function KP(t){return Me(t).signOut()}const Vu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vu,"1"),this.storage.removeItem(Vu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(){const t=at();return Bm(t)||Kc(t)}const QP=1e3,XP=10;class fC extends dC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=YP()&&pP(),this.fallbackToPolling=nC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,XP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fC.type="LOCAL";const JP=fC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends dC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hC.type="SESSION";const pC=hC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await ZP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=qm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return window}function tA(t){An().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function nA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iA(){return mC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firebaseLocalStorageDb",sA=1,zu="firebaseLocalStorage",_C="fbase_key";class Fa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(t,e){return t.transaction([zu],e?"readwrite":"readonly").objectStore(zu)}function oA(){const t=indexedDB.deleteDatabase(gC);return new Fa(t).toPromise()}function Wh(){const t=indexedDB.open(gC,sA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zu,{keyPath:_C})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zu)?e(r):(r.close(),await oA(),e(await Wh()))})})}async function rv(t,e,n){const r=Xc(t,!0).put({[_C]:e,value:n});return new Fa(r).toPromise()}async function aA(t,e){const n=Xc(t,!1).get(e),r=await new Fa(n).toPromise();return r===void 0?null:r.value}function iv(t,e){const n=Xc(t,!0).delete(e);return new Fa(n).toPromise()}const lA=800,uA=3;class yC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qc._getInstance(iA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nA(),!this.activeServiceWorker)return;this.sender=new eA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wh();return await rv(e,Vu,"1"),await iv(e,Vu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Xc(i,!1).getAll();return new Fa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yC.type="LOCAL";const cA=yC;new Da(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t,e){return e?Gn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends Wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fA(t){return lC(t.auth,new Gm(t),t.bypassAuthState)}function hA(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),VP(n,new Gm(t),t.bypassAuthState)}async function pA(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),$P(n,new Gm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fA;case"linkViaPopup":case"linkViaRedirect":return pA;case"reauthViaPopup":case"reauthViaRedirect":return hA;default:vn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new Da(2e3,1e4);class os extends vC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mA.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="pendingRedirect",Gl=new Map;class _A extends vC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gl.get(this.auth._key());if(!e){try{const r=await yA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gl.set(this.auth._key(),e)}return this.bypassAuthState||Gl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yA(t,e){const n=EA(e),r=wA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vA(t,e){Gl.set(t._key(),e)}function wA(t){return Gn(t._redirectPersistence)}function EA(t){return ql(gA,t.config.apiKey,t.name)}async function SA(t,e,n=!1){if(kn(t.app))return Promise.reject(Qn(t));const r=Ui(t),i=dA(r,e),o=await new _A(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=10*60*1e3;class TA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CA&&this.cachedEventUids.clear(),this.cachedEventUids.has(sv(e))}saveEventToCache(e){this.cachedEventUids.add(sv(e)),this.lastProcessedEventTime=Date.now()}}function sv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t,e={}){return lr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kA=/^https?/;async function RA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bA(t);for(const n of e)try{if(OA(n))return}catch{}vn(t,"unauthorized-domain")}function OA(t){const e=Vh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!kA.test(n))return!1;if(xA.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=new Da(3e4,6e4);function ov(){const t=An().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PA(t){return new Promise((e,n)=>{var r,i,s;function o(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),n(Pn(t,"network-request-failed"))},timeout:NA.get()})}if(!((i=(r=An().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=An().gapi)===null||s===void 0)&&s.load)o();else{const a=CP("iframefcb");return An()[a]=()=>{gapi.load?o():n(Pn(t,"network-request-failed"))},iC(`${SP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kl=null,e})}let Kl=null;function AA(t){return Kl=Kl||PA(t),Kl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Da(5e3,15e3),LA="__/auth/iframe",MA="emulator/auth/iframe",FA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jA(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vm(e,MA):`https://${t.config.authDomain}/${LA}`,r={apiKey:e.apiKey,appName:t.name,v:Zr},i=UA.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ws(r).slice(1)}`}async function $A(t){const e=await AA(t),n=An().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:jA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),a=An().setTimeout(()=>{s(o)},DA.get());function l(){An().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zA=500,BA=600,WA="_blank",HA="http://localhost";class av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qA(t,e,n,r=zA,i=BA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},VA),{width:r.toString(),height:i.toString(),top:s,left:o}),u=at().toLowerCase();n&&(a=XS(u)?WA:n),QS(u)&&(e=e||HA,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(fP(u)&&a!=="_self")return GA(e||"",a),new av(null);const d=window.open(e||"",a,c);J(d,t,"popup-blocked");try{d.focus()}catch{}return new av(d)}function GA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="__/auth/handler",YA="emulator/auth/handler",QA=encodeURIComponent("fac");async function lv(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zr,eventId:i};if(e instanceof oC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Lh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Ma){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${QA}=${encodeURIComponent(l)}`:"";return`${XA(t)}?${Ws(a).slice(1)}${u}`}function XA({config:t}){return t.emulator?Vm(t,YA):`https://${t.authDomain}/${KA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="webStorageSupport";class JA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pC,this._completeRedirectFn=SA,this._overrideRedirectResult=vA}async _openPopup(e,n,r,i){var s;ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lv(e,n,r,Vh(),i);return qA(e,o,qm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lv(e,n,r,Vh(),i);return tA(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ir(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $A(e),r=new TA(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(df,{type:df},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[df];o!==void 0&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nC()||Bm()||Kc()}}const ZA=JA;var uv="@firebase/auth",cv="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nD(t){qr(new rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rC(t)},u=new vP(r,i,s,l);return kP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qr(new rr("auth-internal",e=>{const n=Ui(e.getProvider("auth").getImmediate());return(r=>new eD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jt(uv,cv,tD(t)),Jt(uv,cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=5*60,iD=PS("authIdTokenMaxAge")||rD;let dv=null;const sD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iD)return;const i=n==null?void 0:n.token;dv!==i&&(dv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oD(t=Gc()){const e=Aa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xP(t,{popupRedirectResolver:ZA,persistence:[cA,JP,pC]}),r=PS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=sD(s.toString());GP(n,o,()=>o(n.currentUser)),qP(n,a=>o(a))}}const i=OS("auth");return i&&RP(n,`http://${i}`),n}function aD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new qc("@firebase/firestore");function lD(t,...e){if(Ps.logLevel<=de.DEBUG){const n=e.map(Km);Ps.debug(`Firestore (${Ua}): ${t}`,...n)}}function uD(t,...e){if(Ps.logLevel<=de.ERROR){const n=e.map(Km);Ps.error(`Firestore (${Ua}): ${t}`,...n)}}function cD(t,...e){if(Ps.logLevel<=de.WARN){const n=e.map(Km);Ps.warn(`Firestore (${Ua}): ${t}`,...n)}}function Km(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+t;throw uD(e),new Error(e)}function SC(t,e){t||EC()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="invalid-argument",fv="failed-precondition";class Dt extends Ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class fD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hD{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(SC(typeof e.accessToken=="string"),new CC(e.accessToken,new wt(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class pD{constructor(e,n,r){this.t=e,this.i=n,this.o=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.u=new Map}l(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.l();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class mD{constructor(e,n,r){this.t=e,this.i=n,this.o=r}getToken(){return Promise.resolve(new pD(this.t,this.i,this.o))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _D{constructor(e){this.h=e,this.appCheck=null,e.onInit(n=>{this.appCheck=n})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(SC(typeof e.token=="string"),new gD(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class Bu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}function yD(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":EC()}function vD(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Dt(an,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yD(t);throw new Dt(an,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hv,ae;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ae=hv||(hv={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;class mv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Dt(an,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Dt(an,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(s,o,a,l){if(o===!0&&l===!0)throw new Dt(an,`${s} and ${a} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Dt(an,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Dt(an,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Dt(an,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class TC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dt(fv,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Dt(fv,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dD;switch(r.type){case"firstParty":return new mD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Dt(an,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pv.get(n);r&&(lD("ComponentProvider","Removing Datastore"),pv.delete(n),r.terminate())}(this),Promise.resolve()}}function ED(t,e){const n=typeof t=="object"?t:Gc(),r=typeof t=="string"?t:"(default)",i=Aa(n,"firestore/lite").getImmediate({identifier:r});if(!i._initialized){const s=Dm("firestore");s&&SD(i,...s)}return i}function SD(t,e,n,r={}){var i;const s=(t=vD(t,TC))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&cD("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=wt.MOCK_USER;else{a=Lm(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Dt(an,"mockUserToken must contain 'sub' or 'user_id' field!");l=new wt(u)}t._authCredentials=new fD(new CC(a,l))}}(function(){(function(n){Ua=n})(`${Zr}_lite`),qr(new rr("firestore/lite",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new TC(new hD(e.getProvider("auth-internal")),new _D(e.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Dt(an,'"projectId" not provided in firebase.initializeApp.');return new Bu(a.options.projectId,l)}(i,n),i);return r&&s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Jt("firestore-lite","4.6.3",""),Jt("firestore-lite","4.6.3","esm2017")})();var gv={};const _v="@firebase/database",yv="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IC="";function CD(t){IC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ve(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:la(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ar(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new TD(e)}}catch{}return new ID},di=bC("localStorage"),bD=bC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new qc("@firebase/database"),xD=function(){let t=1;return function(){return t++}}(),xC=function(t){const e=FO(t),n=new AO;n.update(e);const r=n.digest();return Pm.encodeByteArray(r)},ja=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ja.apply(null,r):typeof r=="object"?e+=Ve(r):e+=r,e+=" "}return e};let Po=null,vv=!0;const kD=function(t,e){L(!e,"Can't turn on custom loggers persistently."),ws.logLevel=de.VERBOSE,Po=ws.log.bind(ws)},st=function(...t){if(vv===!0&&(vv=!1,Po===null&&bD.get("logging_enabled")===!0&&kD()),Po){const e=ja.apply(null,t);Po(e)}},$a=function(t){return function(...e){st(t,...e)}},Hh=function(...t){const e="FIREBASE INTERNAL ERROR: "+ja(...t);ws.error(e)},sr=function(...t){const e=`FIREBASE FATAL ERROR: ${ja(...t)}`;throw ws.error(e),new Error(e)},Rt=function(...t){const e="FIREBASE WARNING: "+ja(...t);ws.warn(e)},RD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},OD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},As="[MIN_NAME]",Ni="[MAX_NAME]",qs=function(t,e){if(t===e)return 0;if(t===As||e===Ni)return-1;if(e===As||t===Ni)return 1;{const n=wv(t),r=wv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ND=function(t,e){return t===e?0:t<e?-1:1},lo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ve(e))},Ym=function(t){if(typeof t!="object"||t===null)return Ve(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ve(e[r]),n+=":",n+=Ym(t[e[r]]);return n+="}",n},RC=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const OC=function(t){L(!kC(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},PD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},AD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function DD(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const LD=new RegExp("^-?(0*)\\d{1,10}$"),MD=-2147483648,FD=2147483647,wv=function(t){if(LD.test(t)){const e=Number(t);if(e>=MD&&e<=FD)return e}return null},Gs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Rt("Exception was thrown by user callback.",n),e},Math.floor(0))}},UD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ao=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(e)}}class Yl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Yl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="5",NC="v",PC="s",AC="r",DC="f",LC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MC="ls",FC="p",qh="ac",UC="websocket",jC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=di.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&di.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function VD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function VC(t,e,n){L(typeof e=="string","typeof type must == string"),L(typeof n=="object","typeof params must == object");let r;if(e===UC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===jC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);VD(t)&&(n.ns=t.namespace);const i=[];return Ot(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.counters_={}}incrementCounter(e,n=1){ar(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff={},hf={};function Xm(t){const e=t.toString();return ff[e]||(ff[e]=new zD),ff[e]}function BD(t,e){const n=t.toString();return hf[n]||(hf[n]=e()),hf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Gs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="start",HD="close",qD="pLPCommand",GD="pRTLPCB",zC="id",BC="pw",WC="ser",KD="cb",YD="seg",QD="ts",XD="d",JD="dframe",HC=1870,qC=30,ZD=HC-qC,eL=25e3,tL=3e4;class as{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$a(e),this.stats_=Xm(n),this.urlFn=l=>(this.appCheckToken&&(l[qh]=this.appCheckToken),VC(n,jC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new WD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tL)),OD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jm((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ev)this.id=a,this.password=l;else if(o===HD)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ev]="t",r[WC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[KD]=this.scriptTagHolder.uniqueCallbackIdentifier),r[NC]=Qm,this.transportSessionId&&(r[PC]=this.transportSessionId),this.lastSessionId&&(r[MC]=this.lastSessionId),this.applicationId&&(r[FC]=this.applicationId),this.appCheckToken&&(r[qh]=this.appCheckToken),typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(r[AC]=DC);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){as.forceAllow_=!0}static forceDisallow(){as.forceDisallow_=!0}static isAvailable(){return as.forceAllow_?!0:!as.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!PD()&&!AD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ve(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kS(n),i=RC(r,ZD);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[JD]="t",r[zC]=e,r[BC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ve(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Jm{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xD(),window[qD+this.uniqueCallbackIdentifier]=e,window[GD+this.uniqueCallbackIdentifier]=n,this.myIFrame=Jm.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){st("frame writing exception"),a.stack&&st(a.stack),st(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||st("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[zC]=this.myID,e[BC]=this.myPW,e[WC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+qC+r.length<=HC;){const o=this.pendingSegs.shift();r=r+"&"+YD+i+"="+o.seg+"&"+QD+i+"="+o.ts+"&"+XD+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(eL)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{st("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=16384,rL=45e3;let Wu=null;typeof MozWebSocket<"u"?Wu=MozWebSocket:typeof WebSocket<"u"&&(Wu=WebSocket);class un{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$a(this.connId),this.stats_=Xm(n),this.connURL=un.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[NC]=Qm,typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(o[AC]=DC),n&&(o[PC]=n),r&&(o[MC]=r),i&&(o[qh]=i),s&&(o[FC]=s),VC(e,UC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,di.set("previous_websocket_failure",!0);try{let r;DS(),this.mySock=new Wu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){un.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Wu!==null&&!un.forceDisallow_}static previouslyFailed(){return di.isInMemoryStorage||di.get("previous_websocket_failure")===!0}markConnectionHealthy(){di.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=la(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(L(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ve(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=RC(n,nL);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(rL))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}un.responsesRequiredToBeHealthy=2;un.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[as,un]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=un&&un.isAvailable();let r=n&&!un.previouslyFailed();if(e.webSocketOnly&&(n||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[un];else{const i=this.transports_=[];for(const s of da.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);da.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}da.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=6e4,sL=5e3,oL=10*1024,aL=100*1024,pf="t",Sv="d",lL="s",Cv="r",uL="e",Tv="o",Iv="a",bv="n",xv="p",cL="h";class dL{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$a("c:"+this.id+":"),this.transportManager_=new da(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ao(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>oL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pf in e){const n=e[pf];n===Iv?this.upgradeIfSecondaryHealthy_():n===Cv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Tv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=lo("t",e),r=lo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:xv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Iv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=lo("t",e),r=lo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=lo(pf,e);if(Sv in e){const r=e[Sv];if(n===cL){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===bv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lL?this.onConnectionShutdown_(r):n===Cv?this.onReset_(r):n===uL?Hh("Server Error: "+r):n===Tv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qm!==r&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ao(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(iL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ao(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:xv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(di.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.allowedEvents_=e,this.listeners_={},L(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){L(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends KC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Mm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Hu}getInitialEvent(e){return L(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=32,Rv=768;class ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ce(){return new ye("")}function oe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gr(t){return t.pieces_.length-t.pieceNum_}function ve(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ye(t.pieces_,e)}function YC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function fL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function QC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function XC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ye(e,0)}function ze(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ye(n,0)}function ie(t){return t.pieceNum_>=t.pieces_.length}function pt(t,e){const n=oe(t),r=oe(e);if(n===null)return e;if(n===r)return pt(ve(t),ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function JC(t,e){if(Gr(t)!==Gr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function dn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Gr(t)>Gr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class hL{constructor(e,n){this.errorPrefix_=n,this.parts_=QC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Hc(this.parts_[r]);ZC(this)}}function pL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Hc(e),ZC(t)}function mL(t){const e=t.parts_.pop();t.byteLength_-=Hc(e),t.parts_.length>0&&(t.byteLength_-=1)}function ZC(t){if(t.byteLength_>Rv)throw new Error(t.errorPrefix_+"has a key path longer than "+Rv+" bytes ("+t.byteLength_+").");if(t.parts_.length>kv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kv+") or object contains a cycle "+oi(t))}function oi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends KC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Zm}getInitialEvent(e){return L(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=1e3,gL=60*5*1e3,Ov=30*1e3,_L=1.3,yL=3e4,vL="server_kill",Nv=3;class Xn extends GC{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Xn.nextPersistentConnectionId_++,this.log_=$a("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uo,this.maxReconnectDelay_=gL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!DS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Hu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ve(s)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Wc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Xn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ar(e,"w")){const r=Os(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ov)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=NO(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ve(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Hh("Unrecognized action received from server: "+Ve(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yL&&(this.reconnectDelay_=uo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_L)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Xn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){L(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new dL(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{Rt(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(vL)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Rt(d),l())}}}interrupt(e){st("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){st("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lh(this.interruptReasons_)&&(this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Ym(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ye(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){st("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Nv&&(this.reconnectDelay_=Ov,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){st("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Nv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+IC.replace(/\./g,"-")]=1,Mm()?e["framework.cordova"]=1:AS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hu.getInstance().currentlyOnline();return Lh(this.interruptReasons_)&&e}}Xn.nextPersistentConnectionId_=0;Xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new re(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new re(As,e),i=new re(As,n);return this.compare(r,i)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l;class eT extends Jc{static get __EMPTY_NODE(){return _l}static set __EMPTY_NODE(e){_l=e}compare(e,n){return qs(e.name,n.name)}isDefinedOn(e){throw Bs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return re.MIN}maxPost(){return new re(Ni,_l)}makePost(e,n){return L(typeof e=="string","KeyIndex indexValue must always be a string."),new re(e,_l)}toString(){return".key"}}const Es=new eT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=i??Tt.EMPTY_NODE,this.right=s??Tt.EMPTY_NODE}copy(e,n,r,i,s){return new Ke(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Tt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class wL{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Tt{constructor(e,n=Tt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Tt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(e){return new Tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new yl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new yl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new yl(this.root_,null,this.comparator_,!0,e)}}Tt.EMPTY_NODE=new wL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){return qs(t.name,e.name)}function eg(t,e){return qs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh;function SL(t){Gh=t}const tT=function(t){return typeof t=="number"?"number:"+OC(t):"string:"+t},nT=function(t){if(t.isLeafNode()){const e=t.val();L(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ar(e,".sv"),"Priority must be a string or number.")}else L(t===Gh||t.isEmpty(),"priority of unexpected type.");L(t===Gh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pv;class qe{constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nT(this.priorityNode_)}static set __childrenNodeConstructor(e){Pv=e}static get __childrenNodeConstructor(){return Pv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ie(e)?this:oe(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=oe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||Gr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=OC(this.value_):e+=this.value_,this.lazyHash_=xC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(L(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=qe.VALUE_TYPE_ORDER.indexOf(n),s=qe.VALUE_TYPE_ORDER.indexOf(r);return L(i>=0,"Unknown leaf type: "+n),L(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rT,iT;function CL(t){rT=t}function TL(t){iT=t}class IL extends Jc{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?qs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Ni,new qe("[PRIORITY-POST]",iT))}makePost(e,n){const r=rT(e);return new re(n,new qe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ne=new IL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=Math.log(2);class xL{constructor(e){const n=s=>parseInt(Math.log(s)/bL,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qu=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new Ke(f,d.node,Ke.BLACK,null,null);{const m=parseInt(c/2,10)+l,g=i(l,m),v=i(m+1,u);return d=t[m],f=n?n(d):d,new Ke(f,d.node,Ke.BLACK,g,v)}},s=function(l){let u=null,c=null,d=t.length;const f=function(g,v){const E=d-g,_=d;d-=g;const h=i(E+1,_),p=t[E],y=n?n(p):p;m(new Ke(y,p.node,v,null,h))},m=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),E=Math.pow(2,l.count-(g+1));v?f(E,Ke.BLACK):(f(E,Ke.BLACK),f(E,Ke.RED))}return c},o=new xL(t.length),a=s(o);return new Tt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;const Wi={};class Kn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return L(Wi&&Ne,"ChildrenNode.ts has not been loaded"),mf=mf||new Kn({".priority":Wi},{".priority":Ne}),mf}get(e){const n=Os(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Tt?n:null}hasIndex(e){return ar(this.indexSet_,e.toString())}addIndex(e,n){L(e!==Es,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(re.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=qu(r,e.getCompare()):a=Wi;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Kn(c,u)}addToIndexes(e,n){const r=Lu(this.indexes_,(i,s)=>{const o=Os(this.indexSet_,s);if(L(o,"Missing index implementation for "+s),i===Wi)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(re.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),qu(a,o.getCompare())}else return Wi;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new re(e.name,a))),l.insert(e,e.node)}});return new Kn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Lu(this.indexes_,i=>{if(i===Wi)return i;{const s=n.get(e.name);return s?i.remove(new re(e.name,s)):i}});return new Kn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co;class X{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&nT(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return co||(co=new X(new Tt(eg),null,Kn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||co}updatePriority(e){return this.children_.isEmpty()?this:new X(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?co:n}}getChild(e){const n=oe(e);return n===null?this:this.getImmediateChild(n).getChild(ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(L(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new re(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?co:this.priorityNode_;return new X(i,o,s)}}updateChild(e,n){const r=oe(e);if(r===null)return n;{L(oe(e)!==".priority"||Gr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ve(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ne,(o,a)=>{n[o]=a.val(e),r++,s&&X.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tT(this.getPriority().val())+":"),this.forEachChild(Ne,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":xC(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new re(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new re(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new re(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Va?-1:0}withIndex(e){if(e===Es||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new X(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Es||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ne),i=n.getIterator(Ne);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Es?null:this.indexMap_.get(e.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kL extends X{constructor(){super(new Tt(eg),X.EMPTY_NODE,Kn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return X.EMPTY_NODE}isEmpty(){return!1}}const Va=new kL;Object.defineProperties(re,{MIN:{value:new re(As,X.EMPTY_NODE)},MAX:{value:new re(Ni,Va)}});eT.__EMPTY_NODE=X.EMPTY_NODE;qe.__childrenNodeConstructor=X;SL(Va);TL(Va);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=!0;function Ye(t,e=null){if(t===null)return X.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),L(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,Ye(e))}if(!(t instanceof Array)&&RL){const n=[];let r=!1;if(Ot(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ye(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new re(o,l)))}}),n.length===0)return X.EMPTY_NODE;const s=qu(n,EL,o=>o.name,eg);if(r){const o=qu(n,Ne.getCompare());return new X(s,Ye(e),new Kn({".priority":o},{".priority":Ne}))}else return new X(s,Ye(e),Kn.Default)}else{let n=X.EMPTY_NODE;return Ot(t,(r,i)=>{if(ar(t,r)&&r.substring(0,1)!=="."){const s=Ye(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ye(e))}}CL(Ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL extends Jc{constructor(e){super(),this.indexPath_=e,L(!ie(e)&&oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?qs(e.name,n.name):s}makePost(e,n){const r=Ye(e),i=X.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(n,i)}maxPost(){const e=X.EMPTY_NODE.updateChild(this.indexPath_,Va);return new re(Ni,e)}toString(){return QC(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL extends Jc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?qs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(e,n){const r=Ye(e);return new re(n,r)}toString(){return".value"}}const PL=new NL;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){return{type:"value",snapshotNode:t}}function Ds(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function fa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ha(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function AL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){L(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(fa(n,a)):L(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ds(n,r)):o.trackChildChange(ha(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ne,(i,s)=>{n.hasChild(i)||r.trackChildChange(fa(i,s))}),n.isLeafNode()||n.forEachChild(Ne,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ha(i,s,o))}else r.trackChildChange(Ds(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?X.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.indexedFilter_=new tg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=pa.getStartPost_(e),this.endPost_=pa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new re(n,r))||(r=X.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=X.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(X.EMPTY_NODE);const s=this;return n.forEachChild(Ne,(o,a)=>{s.matches(new re(o,a))||(i=i.updateImmediateChild(o,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new pa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new re(n,r))||(r=X.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=X.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(X.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,m)=>d(m,f)}else o=this.index_.getCompare();const a=e;L(a.numChildren()===this.limit_,"");const l=new re(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const m=f==null?1:o(f,l);if(c&&!r.isEmpty()&&m>=0)return s!=null&&s.trackChildChange(ha(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(fa(n,d));const v=a.updateImmediateChild(n,X.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Ds(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(fa(u.name,u.node)),s.trackChildChange(Ds(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,X.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:As}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ni}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ne}copy(){const e=new ng;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function LL(t){return t.loadsAllData()?new tg(t.getIndex()):t.hasLimit()?new DL(t):new pa(t)}function ML(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Av(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ne?n="$priority":t.index_===PL?n="$value":t.index_===Es?n="$key":(L(t.index_ instanceof OL,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ve(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ve(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ve(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ve(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ve(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Dv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ne&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends GC{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$a("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(L(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Gu.getListenId_(e,r),a={};this.listens_[o]=a;const l=Av(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Os(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Gu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Av(e._queryParams),r=e._path.toString(),i=new Wc;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ws(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=la(a.responseText)}catch{Rt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Rt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(){return{value:null,children:new Map}}function oT(t,e,n){if(ie(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=oe(e);t.children.has(r)||t.children.set(r,Ku());const i=t.children.get(r);e=ve(e),oT(i,e,n)}}function Kh(t,e,n){t.value!==null?n(e,t.value):UL(t,(r,i)=>{const s=new ye(e.toString()+"/"+r);Kh(i,s,n)})}function UL(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ot(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=10*1e3,$L=30*1e3,VL=5*60*1e3;class zL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new jL(e);const r=Lv+($L-Lv)*Math.random();Ao(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ot(e,(i,s)=>{s>0&&ar(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ao(this.reportStats_.bind(this),Math.floor(Math.random()*2*VL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fn||(fn={}));function aT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ig(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=fn.ACK_USER_WRITE,this.source=aT()}operationForChild(e){if(ie(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ye(e));return new Yu(ce(),n,this.revert)}}else return L(oe(this.path)===e,"operationForChild called for unrelated child."),new Yu(ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.source=e,this.path=n,this.type=fn.LISTEN_COMPLETE}operationForChild(e){return ie(this.path)?new ma(this.source,ce()):new ma(this.source,ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=fn.OVERWRITE}operationForChild(e){return ie(this.path)?new Pi(this.source,ce(),this.snap.getImmediateChild(e)):new Pi(this.source,ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=fn.MERGE}operationForChild(e){if(ie(this.path)){const n=this.children.subtree(new ye(e));return n.isEmpty()?null:n.value?new Pi(this.source,ce(),n.value):new ga(this.source,ce(),n)}else return L(oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ga(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;const n=oe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function WL(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(AL(o.childName,o.snapshotNode))}),fo(t,i,"child_removed",e,r,n),fo(t,i,"child_added",e,r,n),fo(t,i,"child_moved",s,r,n),fo(t,i,"child_changed",e,r,n),fo(t,i,"value",e,r,n),i}function fo(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>qL(t,a,l)),o.forEach(a=>{const l=HL(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function HL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function qL(t,e,n){if(e.childName==null||n.childName==null)throw Bs("Should only compare child_ events.");const r=new re(e.childName,e.snapshotNode),i=new re(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t,e){return{eventCache:t,serverCache:e}}function Do(t,e,n,r){return Zc(new Kr(e,n,r),t.serverCache)}function lT(t,e,n,r){return Zc(t.eventCache,new Kr(e,n,r))}function Qu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ai(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;const GL=()=>(gf||(gf=new Tt(ND)),gf);class Se{constructor(e,n=GL()){this.value=e,this.children=n}static fromObject(e){let n=new Se(null);return Ot(e,(r,i)=>{n=n.set(new ye(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ce(),value:this.value};if(ie(e))return null;{const r=oe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ve(e),n);return s!=null?{path:ze(new ye(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{const n=oe(e),r=this.children.get(n);return r!==null?r.subtree(ve(e)):new Se(null)}}set(e,n){if(ie(e))return new Se(n,this.children);{const r=oe(e),s=(this.children.get(r)||new Se(null)).set(ve(e),n),o=this.children.insert(r,s);return new Se(this.value,o)}}remove(e){if(ie(e))return this.children.isEmpty()?new Se(null):new Se(null,this.children);{const n=oe(e),r=this.children.get(n);if(r){const i=r.remove(ve(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Se(null):new Se(this.value,s)}else return this}}get(e){if(ie(e))return this.value;{const n=oe(e),r=this.children.get(n);return r?r.get(ve(e)):null}}setTree(e,n){if(ie(e))return n;{const r=oe(e),s=(this.children.get(r)||new Se(null)).setTree(ve(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Se(this.value,o)}}fold(e){return this.fold_(ce(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ze(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ce(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ie(e))return null;{const s=oe(e),o=this.children.get(s);return o?o.findOnPath_(ve(e),ze(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ce(),n)}foreachOnPath_(e,n,r){if(ie(e))return this;{this.value&&r(n,this.value);const i=oe(e),s=this.children.get(i);return s?s.foreachOnPath_(ve(e),ze(n,i),r):new Se(null)}}foreach(e){this.foreach_(ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.writeTree_=e}static empty(){return new gn(new Se(null))}}function Lo(t,e,n){if(ie(e))return new gn(new Se(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=pt(i,e);return s=s.updateChild(o,n),new gn(t.writeTree_.set(i,s))}else{const i=new Se(n),s=t.writeTree_.setTree(e,i);return new gn(s)}}}function Mv(t,e,n){let r=t;return Ot(n,(i,s)=>{r=Lo(r,ze(e,i),s)}),r}function Fv(t,e){if(ie(e))return gn.empty();{const n=t.writeTree_.setTree(e,new Se(null));return new gn(n)}}function Yh(t,e){return ji(t,e)!=null}function ji(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(pt(n.path,e)):null}function Uv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ne,(r,i)=>{e.push(new re(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new re(r,i.value))}),e}function Ur(t,e){if(ie(e))return t;{const n=ji(t,e);return n!=null?new gn(new Se(n)):new gn(t.writeTree_.subtree(e))}}function Qh(t){return t.writeTree_.isEmpty()}function Ls(t,e){return uT(ce(),t.writeTree_,e)}function uT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(L(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=uT(ze(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ze(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e){return hT(e,t)}function KL(t,e,n,r,i){L(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Lo(t.visibleWrites,e,n)),t.lastWriteId=r}function YL(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function QL(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);L(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&XL(a,r.path)?i=!1:dn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return JL(t),!0;if(r.snap)t.visibleWrites=Fv(t.visibleWrites,r.path);else{const a=r.children;Ot(a,l=>{t.visibleWrites=Fv(t.visibleWrites,ze(r.path,l))})}return!0}else return!1}function XL(t,e){if(t.snap)return dn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&dn(ze(t.path,n),e))return!0;return!1}function JL(t){t.visibleWrites=cT(t.allWrites,ZL,ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ZL(t){return t.visible}function cT(t,e,n){let r=gn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)dn(n,o)?(a=pt(n,o),r=Lo(r,a,s.snap)):dn(o,n)&&(a=pt(o,n),r=Lo(r,ce(),s.snap.getChild(a)));else if(s.children){if(dn(n,o))a=pt(n,o),r=Mv(r,a,s.children);else if(dn(o,n))if(a=pt(o,n),ie(a))r=Mv(r,ce(),s.children);else{const l=Os(s.children,oe(a));if(l){const u=l.getChild(ve(a));r=Lo(r,ce(),u)}}}else throw Bs("WriteRecord should have .snap or .children")}}return r}function dT(t,e,n,r,i){if(!r&&!i){const s=ji(t.visibleWrites,e);if(s!=null)return s;{const o=Ur(t.visibleWrites,e);if(Qh(o))return n;if(n==null&&!Yh(o,ce()))return null;{const a=n||X.EMPTY_NODE;return Ls(o,a)}}}else{const s=Ur(t.visibleWrites,e);if(!i&&Qh(s))return n;if(!i&&n==null&&!Yh(s,ce()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(dn(u.path,e)||dn(e,u.path))},a=cT(t.allWrites,o,e),l=n||X.EMPTY_NODE;return Ls(a,l)}}}function eM(t,e,n){let r=X.EMPTY_NODE;const i=ji(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ne,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ur(t.visibleWrites,e);return n.forEachChild(Ne,(o,a)=>{const l=Ls(Ur(s,new ye(o)),a);r=r.updateImmediateChild(o,l)}),Uv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ur(t.visibleWrites,e);return Uv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function tM(t,e,n,r,i){L(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ze(e,n);if(Yh(t.visibleWrites,s))return null;{const o=Ur(t.visibleWrites,s);return Qh(o)?i.getChild(n):Ls(o,i.getChild(n))}}function nM(t,e,n,r){const i=ze(e,n),s=ji(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ur(t.visibleWrites,i);return Ls(o,r.getNode().getImmediateChild(n))}else return null}function rM(t,e){return ji(t.visibleWrites,e)}function iM(t,e,n,r,i,s,o){let a;const l=Ur(t.visibleWrites,e),u=ji(l,ce());if(u!=null)a=u;else if(n!=null)a=Ls(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&c.length<i;)d(m,r)!==0&&c.push(m),m=f.getNext();return c}else return[]}function sM(){return{visibleWrites:gn.empty(),allWrites:[],lastWriteId:-1}}function Xu(t,e,n,r){return dT(t.writeTree,t.treePath,e,n,r)}function sg(t,e){return eM(t.writeTree,t.treePath,e)}function jv(t,e,n,r){return tM(t.writeTree,t.treePath,e,n,r)}function Ju(t,e){return rM(t.writeTree,ze(t.treePath,e))}function oM(t,e,n,r,i,s){return iM(t.writeTree,t.treePath,e,n,r,i,s)}function og(t,e,n){return nM(t.writeTree,t.treePath,e,n)}function fT(t,e){return hT(ze(t.treePath,e),t.writeTree)}function hT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;L(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ha(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,fa(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ds(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ha(r,e.snapshotNode,i.oldSnap));else throw Bs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const pT=new lM;class ag{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Kr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return og(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ai(this.viewCache_),s=oM(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){return{filter:t}}function cM(t,e){L(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),L(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function dM(t,e,n,r,i){const s=new aM;let o,a;if(n.type===fn.OVERWRITE){const u=n;u.source.fromUser?o=Xh(t,e,u.path,u.snap,r,i,s):(L(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ie(u.path),o=Zu(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===fn.MERGE){const u=n;u.source.fromUser?o=hM(t,e,u.path,u.children,r,i,s):(L(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Jh(t,e,u.path,u.children,r,i,a,s))}else if(n.type===fn.ACK_USER_WRITE){const u=n;u.revert?o=gM(t,e,u.path,r,i,s):o=pM(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===fn.LISTEN_COMPLETE)o=mM(t,e,n.path,r,s);else throw Bs("Unknown operation type: "+n.type);const l=s.getChanges();return fM(e,o,l),{viewCache:o,changes:l}}function fM(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Qu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(sT(Qu(e)))}}function mT(t,e,n,r,i,s){const o=e.eventCache;if(Ju(r,n)!=null)return e;{let a,l;if(ie(n))if(L(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ai(e),c=u instanceof X?u:X.EMPTY_NODE,d=sg(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Xu(r,Ai(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=oe(n);if(u===".priority"){L(Gr(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=jv(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=ve(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=jv(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=og(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Do(e,a,o.isFullyInitialized()||ie(n),t.filter.filtersNodes())}}function Zu(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(ie(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),m,null)}else{const m=oe(n);if(!l.isCompleteForPath(n)&&Gr(n)>1)return e;const g=ve(n),E=l.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),m,E,g,pT,null)}const d=lT(e,u,l.isFullyInitialized()||ie(n),c.filtersNodes()),f=new ag(i,d,s);return mT(t,d,n,i,f,a)}function Xh(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new ag(i,e,s);if(ie(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Do(e,u,!0,t.filter.filtersNodes());else{const d=oe(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Do(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=ve(n),m=a.getNode().getImmediateChild(d);let g;if(ie(f))g=r;else{const v=c.getCompleteChild(d);v!=null?YC(f)===".priority"&&v.getChild(XC(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=X.EMPTY_NODE}if(m.equals(g))l=e;else{const v=t.filter.updateChild(a.getNode(),d,g,f,c,o);l=Do(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function $v(t,e){return t.eventCache.isCompleteForChild(e)}function hM(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=ze(n,l);$v(e,oe(c))&&(a=Xh(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=ze(n,l);$v(e,oe(c))||(a=Xh(t,a,c,u,i,s,o))}),a}function Vv(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Jh(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ie(n)?u=r:u=new Se(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const m=e.serverCache.getNode().getImmediateChild(d),g=Vv(t,m,f);l=Zu(t,l,new ye(d),g,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const m=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!m){const g=e.serverCache.getNode().getImmediateChild(d),v=Vv(t,g,f);l=Zu(t,l,new ye(d),v,i,s,o,a)}}),l}function pM(t,e,n,r,i,s,o){if(Ju(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ie(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ie(n)){let u=new Se(null);return l.getNode().forEachChild(Es,(c,d)=>{u=u.set(new ye(c),d)}),Jh(t,e,n,u,i,s,a,o)}else return e}else{let u=new Se(null);return r.foreach((c,d)=>{const f=ze(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Jh(t,e,n,u,i,s,a,o)}}function mM(t,e,n,r,i){const s=e.serverCache,o=lT(e,s.getNode(),s.isFullyInitialized()||ie(n),s.isFiltered());return mT(t,o,n,r,pT,i)}function gM(t,e,n,r,i,s){let o;if(Ju(r,n)!=null)return e;{const a=new ag(r,e,i),l=e.eventCache.getNode();let u;if(ie(n)||oe(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Xu(r,Ai(e));else{const d=e.serverCache.getNode();L(d instanceof X,"serverChildren would be complete if leaf node"),c=sg(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=oe(n);let d=og(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,ve(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,X.EMPTY_NODE,ve(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Xu(r,Ai(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Ju(r,ce())!=null,Do(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new tg(r.getIndex()),s=LL(r);this.processor_=uM(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(X.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(X.EMPTY_NODE,a.getNode(),null),c=new Kr(l,o.isFullyInitialized(),i.filtersNodes()),d=new Kr(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Zc(d,c),this.eventGenerator_=new BL(this.query_)}get query(){return this.query_}}function yM(t){return t.viewCache_.serverCache.getNode()}function vM(t){return Qu(t.viewCache_)}function wM(t,e){const n=Ai(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ie(e)&&!n.getImmediateChild(oe(e)).isEmpty())?n.getChild(e):null}function zv(t){return t.eventRegistrations_.length===0}function EM(t,e){t.eventRegistrations_.push(e)}function Bv(t,e,n){const r=[];if(n){L(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Wv(t,e,n,r){e.type===fn.MERGE&&e.source.queryId!==null&&(L(Ai(t.viewCache_),"We should always have a full cache before handling merges"),L(Qu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=dM(t.processor_,i,e,n,r);return cM(t.processor_,s.viewCache),L(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,gT(t,s.changes,s.viewCache.eventCache.getNode(),null)}function SM(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ne,(s,o)=>{r.push(Ds(s,o))}),n.isFullyInitialized()&&r.push(sT(n.getNode())),gT(t,r,n.getNode(),e)}function gT(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return WL(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;class _T{constructor(){this.views=new Map}}function CM(t){L(!ec,"__referenceConstructor has already been defined"),ec=t}function TM(){return L(ec,"Reference.ts has not been loaded"),ec}function IM(t){return t.views.size===0}function lg(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return L(s!=null,"SyncTree gave us an op for an invalid query."),Wv(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Wv(o,e,n,r));return s}}function yT(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Xu(n,i?r:null),l=!1;a?l=!0:r instanceof X?(a=sg(n,r),l=!1):(a=X.EMPTY_NODE,l=!1);const u=Zc(new Kr(a,l,!1),new Kr(r,i,!1));return new _M(e,u)}return o}function bM(t,e,n,r,i,s){const o=yT(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),EM(o,n),SM(o,n)}function xM(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Yr(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(Bv(u,n,r)),zv(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(Bv(l,n,r)),zv(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Yr(t)&&s.push(new(TM())(e._repo,e._path)),{removed:s,events:o}}function vT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function jr(t,e){let n=null;for(const r of t.views.values())n=n||wM(r,e);return n}function wT(t,e){if(e._queryParams.loadsAllData())return td(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ET(t,e){return wT(t,e)!=null}function Yr(t){return td(t)!=null}function td(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function kM(t){L(!tc,"__referenceConstructor has already been defined"),tc=t}function RM(){return L(tc,"Reference.ts has not been loaded"),tc}let OM=1;class Hv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Se(null),this.pendingWriteTree_=sM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ST(t,e,n,r,i){return KL(t.pendingWriteTree_,e,n,r,i),i?Ba(t,new Pi(aT(),e,n)):[]}function fi(t,e,n=!1){const r=YL(t.pendingWriteTree_,e);if(QL(t.pendingWriteTree_,e)){let s=new Se(null);return r.snap!=null?s=s.set(ce(),!0):Ot(r.children,o=>{s=s.set(new ye(o),!0)}),Ba(t,new Yu(r.path,s,n))}else return[]}function za(t,e,n){return Ba(t,new Pi(rg(),e,n))}function NM(t,e,n){const r=Se.fromObject(n);return Ba(t,new ga(rg(),e,r))}function PM(t,e){return Ba(t,new ma(rg(),e))}function AM(t,e,n){const r=cg(t,n);if(r){const i=dg(r),s=i.path,o=i.queryId,a=pt(s,e),l=new ma(ig(o),a);return fg(t,s,l)}else return[]}function CT(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||ET(o,e))){const l=xM(o,e,n,r);IM(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,m)=>Yr(m));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const m=FM(f);for(let g=0;g<m.length;++g){const v=m[g],E=v.query,_=xT(t,v);t.listenProvider_.startListening(Mo(E),_a(t,E),_.hashFn,_.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Mo(e),null):u.forEach(f=>{const m=t.queryToTagMap.get(nd(f));t.listenProvider_.stopListening(Mo(f),m)}))}UM(t,u)}return a}function TT(t,e,n,r){const i=cg(t,r);if(i!=null){const s=dg(i),o=s.path,a=s.queryId,l=pt(o,e),u=new Pi(ig(a),l,n);return fg(t,o,u)}else return[]}function DM(t,e,n,r){const i=cg(t,r);if(i){const s=dg(i),o=s.path,a=s.queryId,l=pt(o,e),u=Se.fromObject(n),c=new ga(ig(a),l,u);return fg(t,o,c)}else return[]}function LM(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,m)=>{const g=pt(f,i);s=s||jr(m,g),o=o||Yr(m)});let a=t.syncPointTree_.get(i);a?(o=o||Yr(a),s=s||jr(a,ce())):(a=new _T,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=X.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((m,g)=>{const v=jr(g,ce());v&&(s=s.updateImmediateChild(m,v))}));const u=ET(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=nd(e);L(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const m=jM();t.queryToTagMap.set(f,m),t.tagToQueryMap.set(m,f)}const c=ed(t.pendingWriteTree_,i);let d=bM(a,e,n,c,s,l);if(!u&&!o&&!r){const f=wT(a,e);d=d.concat($M(t,e,f))}return d}function ug(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=pt(o,e),u=jr(a,l);if(u)return u});return dT(i,e,s,n,!0)}function MM(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=pt(u,n);r=r||jr(c,d)});let i=t.syncPointTree_.get(n);i?r=r||jr(i,ce()):(i=new _T,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Kr(r,!0,!1):null,a=ed(t.pendingWriteTree_,e._path),l=yT(i,e,a,s?o.getNode():X.EMPTY_NODE,s);return vM(l)}function Ba(t,e){return IT(e,t.syncPointTree_,null,ed(t.pendingWriteTree_,ce()))}function IT(t,e,n,r){if(ie(t.path))return bT(t,e,n,r);{const i=e.get(ce());n==null&&i!=null&&(n=jr(i,ce()));let s=[];const o=oe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=fT(r,o);s=s.concat(IT(a,l,u,c))}return i&&(s=s.concat(lg(i,t,r,n))),s}}function bT(t,e,n,r){const i=e.get(ce());n==null&&i!=null&&(n=jr(i,ce()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=fT(r,o),c=t.operationForChild(o);c&&(s=s.concat(bT(c,a,l,u)))}),i&&(s=s.concat(lg(i,t,r,n))),s}function xT(t,e){const n=e.query,r=_a(t,n);return{hashFn:()=>(yM(e)||X.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?AM(t,n._path,r):PM(t,n._path);{const s=DD(i,n);return CT(t,n,null,s)}}}}function _a(t,e){const n=nd(e);return t.queryToTagMap.get(n)}function nd(t){return t._path.toString()+"$"+t._queryIdentifier}function cg(t,e){return t.tagToQueryMap.get(e)}function dg(t){const e=t.indexOf("$");return L(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ye(t.substr(0,e))}}function fg(t,e,n){const r=t.syncPointTree_.get(e);L(r,"Missing sync point for query tag that we're tracking");const i=ed(t.pendingWriteTree_,e);return lg(r,n,i,null)}function FM(t){return t.fold((e,n,r)=>{if(n&&Yr(n))return[td(n)];{let i=[];return n&&(i=vT(n)),Ot(r,(s,o)=>{i=i.concat(o)}),i}})}function Mo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(RM())(t._repo,t._path):t}function UM(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=nd(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function jM(){return OM++}function $M(t,e,n){const r=e._path,i=_a(t,e),s=xT(t,n),o=t.listenProvider_.startListening(Mo(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)L(!Yr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!ie(u)&&c&&Yr(c))return[td(c).query];{let f=[];return c&&(f=f.concat(vT(c).map(m=>m.query))),Ot(d,(m,g)=>{f=f.concat(g)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Mo(c),_a(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new hg(n)}node(){return this.node_}}class pg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ze(this.path_,e);return new pg(this.syncTree_,n)}node(){return ug(this.syncTree_,this.path_)}}const VM=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qv=function(t,e,n){if(!t||typeof t!="object")return t;if(L(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return zM(t[".sv"],e,n);if(typeof t[".sv"]=="object")return BM(t[".sv"],e);L(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},zM=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:L(!1,"Unexpected server value: "+t)}},BM=function(t,e,n){t.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const i=e.node();if(L(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},WM=function(t,e,n,r){return mg(e,new pg(n,t),r)},kT=function(t,e,n){return mg(t,new hg(e),n)};function mg(t,e,n){const r=t.getPriority().val(),i=qv(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=qv(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new qe(a,Ye(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new qe(i))),o.forEachChild(Ne,(a,l)=>{const u=mg(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function _g(t,e){let n=e instanceof ye?e:new ye(e),r=t,i=oe(n);for(;i!==null;){const s=Os(r.node.children,i)||{children:{},childCount:0};r=new gg(i,r,s),n=ve(n),i=oe(n)}return r}function Ks(t){return t.node.value}function RT(t,e){t.node.value=e,Zh(t)}function OT(t){return t.node.childCount>0}function HM(t){return Ks(t)===void 0&&!OT(t)}function rd(t,e){Ot(t.node.children,(n,r)=>{e(new gg(n,t,r))})}function NT(t,e,n,r){n&&!r&&e(t),rd(t,i=>{NT(i,e,!0,r)}),n&&r&&e(t)}function qM(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Wa(t){return new ye(t.parent===null?t.name:Wa(t.parent)+"/"+t.name)}function Zh(t){t.parent!==null&&GM(t.parent,t.name,t)}function GM(t,e,n){const r=HM(n),i=ar(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Zh(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Zh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=/[\[\].#$\/\u0000-\u001F\u007F]/,YM=/[\[\].#$\u0000-\u001F\u007F]/,_f=10*1024*1024,PT=function(t){return typeof t=="string"&&t.length!==0&&!KM.test(t)},AT=function(t){return typeof t=="string"&&t.length!==0&&!YM.test(t)},QM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),AT(t)},XM=function(t,e,n,r){yg(Fm(t,"value"),e,n)},yg=function(t,e,n){const r=n instanceof ye?new hL(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+oi(r));if(typeof e=="function")throw new Error(t+"contains a function "+oi(r)+" with contents = "+e.toString());if(kC(e))throw new Error(t+"contains "+e.toString()+" "+oi(r));if(typeof e=="string"&&e.length>_f/3&&Hc(e)>_f)throw new Error(t+"contains a string greater than "+_f+" utf8 bytes "+oi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ot(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!PT(o)))throw new Error(t+" contains an invalid key ("+o+") "+oi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pL(r,o),yg(t,a,r),mL(r)}),i&&s)throw new Error(t+' contains ".value" child '+oi(r)+" in addition to actual children.")}},DT=function(t,e,n,r){if(!AT(n))throw new Error(Fm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},JM=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),DT(t,e,n)},ZM=function(t,e){if(oe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},e2=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!PT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!QM(n))throw new Error(Fm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function LT(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!JC(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Dn(t,e,n){LT(t,n),n2(t,r=>dn(r,e)||dn(e,r))}function n2(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(r2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function r2(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Po&&st("event: "+n.toString()),Gs(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="repo_interrupt",s2=25;class o2{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ku(),this.transactionQueueTree_=new gg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function a2(t,e,n){if(t.stats_=Xm(t.repoInfo_),t.forceRestClient_||UD())t.server_=new Gu(t.repoInfo_,(r,i,s,o)=>{Gv(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Kv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ve(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Xn(t.repoInfo_,e,(r,i,s,o)=>{Gv(t,r,i,s,o)},r=>{Kv(t,r)},r=>{u2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=BD(t.repoInfo_,()=>new zL(t.stats_,t.server_)),t.infoData_=new FL,t.infoSyncTree_=new Hv({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=za(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),wg(t,"connected",!1),t.serverSyncTree_=new Hv({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Dn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function l2(t){const n=t.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vg(t){return VM({timestamp:l2(t)})}function Gv(t,e,n,r,i){t.dataUpdateCount++;const s=new ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Lu(n,u=>Ye(u));o=DM(t.serverSyncTree_,s,l,i)}else{const l=Ye(n);o=TT(t.serverSyncTree_,s,l,i)}else if(r){const l=Lu(n,u=>Ye(u));o=NM(t.serverSyncTree_,s,l)}else{const l=Ye(n);o=za(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=sd(t,s)),Dn(t.eventQueue_,a,o)}function Kv(t,e){wg(t,"connected",e),e===!1&&f2(t)}function u2(t,e){Ot(e,(n,r)=>{wg(t,n,r)})}function wg(t,e,n){const r=new ye("/.info/"+e),i=Ye(n);t.infoData_.updateSnapshot(r,i);const s=za(t.infoSyncTree_,r,i);Dn(t.eventQueue_,r,s)}function MT(t){return t.nextWriteId_++}function c2(t,e,n){const r=MM(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ye(i).withIndex(e._queryParams.getIndex());LM(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=za(t.serverSyncTree_,e._path,s);else{const a=_a(t.serverSyncTree_,e);o=TT(t.serverSyncTree_,e._path,s,a)}return Dn(t.eventQueue_,e._path,o),CT(t.serverSyncTree_,e,n,null,!0),s},i=>(id(t,"get for query "+Ve(e)+" failed: "+i),Promise.reject(new Error(i))))}function d2(t,e,n,r,i){id(t,"set",{path:e.toString(),value:n,priority:r});const s=vg(t),o=Ye(n,r),a=ug(t.serverSyncTree_,e),l=kT(o,a,s),u=MT(t),c=ST(t.serverSyncTree_,e,l,u,!0);LT(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,m)=>{const g=f==="ok";g||Rt("set at "+e+" failed: "+f);const v=fi(t.serverSyncTree_,u,!g);Dn(t.eventQueue_,e,v),p2(t,i,f,m)});const d=VT(t,e);sd(t,d),Dn(t.eventQueue_,d,[])}function f2(t){id(t,"onDisconnectEvents");const e=vg(t),n=Ku();Kh(t.onDisconnect_,ce(),(i,s)=>{const o=WM(i,s,t.serverSyncTree_,e);oT(n,i,o)});let r=[];Kh(n,ce(),(i,s)=>{r=r.concat(za(t.serverSyncTree_,i,s));const o=VT(t,i);sd(t,o)}),t.onDisconnect_=Ku(),Dn(t.eventQueue_,ce(),r)}function h2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(i2)}function id(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),st(n,...e)}function p2(t,e,n,r){e&&Gs(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function FT(t,e,n){return ug(t.serverSyncTree_,e,n)||X.EMPTY_NODE}function Eg(t,e=t.transactionQueueTree_){if(e||od(t,e),Ks(e)){const n=jT(t,e);L(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&m2(t,Wa(e),n)}else OT(e)&&rd(e,n=>{Eg(t,n)})}function m2(t,e,n){const r=n.map(u=>u.currentWriteId),i=FT(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];L(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=pt(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{id(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(fi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();od(t,_g(t.transactionQueueTree_,e)),Eg(t,t.transactionQueueTree_),Dn(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Gs(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Rt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}sd(t,e)}},o)}function sd(t,e){const n=UT(t,e),r=Wa(n),i=jT(t,n);return g2(t,i,r),r}function g2(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=pt(n,l.path);let c=!1,d;if(L(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(fi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=s2)c=!0,d="maxretry",i=i.concat(fi(t.serverSyncTree_,l.currentWriteId,!0));else{const f=FT(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){yg("transaction failed: Data returned ",m,l.path);let g=Ye(m);typeof m=="object"&&m!=null&&ar(m,".priority")||(g=g.updatePriority(f.getPriority()));const E=l.currentWriteId,_=vg(t),h=kT(g,f,_);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=h,l.currentWriteId=MT(t),o.splice(o.indexOf(E),1),i=i.concat(ST(t.serverSyncTree_,l.path,h,l.currentWriteId,l.applyLocally)),i=i.concat(fi(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(fi(t.serverSyncTree_,l.currentWriteId,!0))}Dn(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}od(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Gs(r[a]);Eg(t,t.transactionQueueTree_)}function UT(t,e){let n,r=t.transactionQueueTree_;for(n=oe(e);n!==null&&Ks(r)===void 0;)r=_g(r,n),e=ve(e),n=oe(e);return r}function jT(t,e){const n=[];return $T(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $T(t,e,n){const r=Ks(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);rd(e,i=>{$T(t,i,n)})}function od(t,e){const n=Ks(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,RT(e,n.length>0?n:void 0)}rd(e,r=>{od(t,r)})}function VT(t,e){const n=Wa(UT(t,e)),r=_g(t.transactionQueueTree_,e);return qM(r,i=>{yf(t,i)}),yf(t,r),NT(r,i=>{yf(t,i)}),n}function yf(t,e){const n=Ks(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(L(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(L(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(fi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?RT(e,void 0):n.length=s+1,Dn(t.eventQueue_,Wa(e),i);for(let o=0;o<r.length;o++)Gs(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function y2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Yv=function(t,e){const n=v2(t),r=n.namespace;n.domain==="firebase.com"&&sr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&sr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||RD();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $C(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ye(n.pathString)}},v2=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=_2(t.substring(c,d)));const f=y2(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ve(this.snapshot.exportVal())}}class E2{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ie(this._path)?null:YC(this._path)}get ref(){return new ur(this._repo,this._path)}get _queryIdentifier(){const e=Dv(this._queryParams),n=Ym(e);return n==="{}"?"default":n}get _queryObject(){return Dv(this._queryParams)}isEqual(e){if(e=Me(e),!(e instanceof ad))return!1;const n=this._repo===e._repo,r=JC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+fL(this._path)}}class ur extends ad{constructor(e,n){super(e,n,new ng,!1)}get parent(){const e=XC(this._path);return e===null?null:new ur(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ya{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ye(e),r=ep(this.ref,e);return new ya(this._node.getChild(n),r,Ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ya(i,ep(this.ref,r),Ne)))}hasChild(e){const n=new ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ld(t,e){return t=Me(t),t._checkNotDeleted("ref"),e!==void 0?ep(t._root,e):t._root}function ep(t,e){return t=Me(t),oe(t._path)===null?JM("child","path",e):DT("child","path",e),new ur(t._repo,ze(t._path,e))}function Ql(t,e){t=Me(t),ZM("set",t._path),XM("set",e,t._path);const n=new Wc;return d2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Sg(t){t=Me(t);const e=new S2(()=>{}),n=new Cg(e);return c2(t._repo,t,n).then(r=>new ya(r,new ur(t._repo,t._path),t._queryParams.getIndex()))}class Cg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new w2("value",this,new ya(e.snapshotNode,new ur(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new E2(this,e,n):null}matches(e){return e instanceof Cg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class C2{}class T2 extends C2{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ad(e._repo,e._path,ML(e._queryParams,this._limit),e._orderByCalled)}}function I2(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new T2(t)}function b2(t,...e){let n=Me(t);for(const r of e)n=r._apply(n);return n}CM(ur);kM(ur);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="FIREBASE_DATABASE_EMULATOR_HOST",tp={};let k2=!1;function R2(t,e,n,r){t.repoInfo_=new $C(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function O2(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||sr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Yv(s,i),a=o.repoInfo,l;typeof process<"u"&&gv&&(l=gv[x2]),l?(s=`http://${l}?ns=${a.namespace}`,o=Yv(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new $D(t.name,t.options,e);e2("Invalid Firebase Database URL",o),ie(o.path)||sr("Database URL must point to the root of a Firebase Database (not including a child path).");const c=P2(a,t,u,new jD(t.name,n));return new A2(c,t)}function N2(t,e){const n=tp[e];(!n||n[t.key]!==t)&&sr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),h2(t),delete n[t.key]}function P2(t,e,n,r){let i=tp[e.name];i||(i={},tp[e.name]=i);let s=i[t.toURLString()];return s&&sr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new o2(t,k2,n,r),i[t.toURLString()]=s,s}class A2{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(a2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ur(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(N2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&sr("Cannot call "+e+" on a deleted database.")}}function D2(t=Gc(),e){const n=Aa(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Dm("database");r&&L2(n,...r)}return n}function L2(t,e,n,r={}){t=Me(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&sr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&sr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Yl(Yl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Lm(r.mockUserToken,t.app.options.projectId);s=new Yl(o)}R2(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){CD(Zr),qr(new rr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return O2(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Jt(_v,yv,t),Jt(_v,yv,"esm2017")}Xn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Xn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};M2();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebasestorage.googleapis.com",BT="storageBucket",F2=2*60*1e3,U2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae extends Ln{constructor(e,n,r=0){super(vf(e),`Firebase Storage: ${n} (${vf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ae.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pe||(Pe={}));function vf(t){return"storage/"+t}function Tg(){const t="An unknown error occurred, please check the error payload for server response.";return new Ae(Pe.UNKNOWN,t)}function j2(t){return new Ae(Pe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $2(t){return new Ae(Pe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function V2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ae(Pe.UNAUTHENTICATED,t)}function z2(){return new Ae(Pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function B2(t){return new Ae(Pe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function W2(){return new Ae(Pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function H2(){return new Ae(Pe.CANCELED,"User canceled the upload/download.")}function q2(t){return new Ae(Pe.INVALID_URL,"Invalid URL '"+t+"'.")}function G2(t){return new Ae(Pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function K2(){return new Ae(Pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BT+"' property when initializing the app?")}function Y2(){return new Ae(Pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Q2(){return new Ae(Pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function X2(t){return new Ae(Pe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function np(t){return new Ae(Pe.INVALID_ARGUMENT,t)}function WT(){return new Ae(Pe.APP_DELETED,"The Firebase app was deleted.")}function J2(t){return new Ae(Pe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fo(t,e){return new Ae(Pe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ho(t){throw new Ae(Pe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ft.makeFromUrl(e,n)}catch{return new Ft(e,"")}if(r.path==="")return r;throw G2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},v=n===zT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${v}/${i}/${E}`,"i"),p=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<p.length;y++){const S=p[y],x=S.regex.exec(e);if(x){const N=x[S.indices.bucket];let C=x[S.indices.path];C||(C=""),r=new Ft(N,C),S.postModify(r);break}}if(r==null)throw q2(e);return r}}class Z2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(m,l())},E)}function f(){s&&clearTimeout(s)}function m(E,..._){if(u){f();return}if(E){f(),c.call(null,E,..._);return}if(l()||o){f(),c.call(null,E,..._);return}r<64&&(r*=2);let p;a===1?(a=2,p=0):p=(r+Math.random())*1e3,d(p)}let g=!1;function v(E){g||(g=!0,f(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function tF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){return t!==void 0}function rF(t){return typeof t=="object"&&!Array.isArray(t)}function Ig(t){return typeof t=="string"||t instanceof String}function Qv(t){return bg()&&t instanceof Blob}function bg(){return typeof Blob<"u"}function Xv(t,e,n,r){if(r<e)throw np(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw np(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function HT(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_i||(_i={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new vl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===_i.NO_ERROR,l=s.getStatus();if(!a||iF(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===_i.ABORT;r(!1,new vl(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new vl(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());nF(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Tg();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?WT():H2();o(l)}else{const l=W2();o(l)}};this.canceled_?n(!1,new vl(!1,null,!0)):this.backoffId_=eF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function oF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function uF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cF(t,e,n,r,i,s,o=!0){const a=HT(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return lF(u,e),oF(u,n),aF(u,s),uF(u,r),new sF(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fF(...t){const e=dF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(bg())return new Blob(t);throw new Ae(Pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){if(typeof atob>"u")throw X2("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wf{constructor(e,n){this.data=e,this.contentType=n||null}}function qT(t,e){switch(t){case hn.RAW:return new wf(GT(e));case hn.BASE64:case hn.BASE64URL:return new wf(KT(t,e));case hn.DATA_URL:return new wf(gF(e),_F(e))}throw Tg()}function GT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function mF(t){let e;try{e=decodeURIComponent(t)}catch{throw Fo(hn.DATA_URL,"Malformed data URL.")}return GT(e)}function KT(t,e){switch(t){case hn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Fo(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Fo(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pF(e)}catch(i){throw i.message.includes("polyfill")?i:Fo(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class YT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Fo(hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=yF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function gF(t){const e=new YT(t);return e.base64?KT(hn.BASE64,e.rest):mF(e.rest)}function _F(t){return new YT(t).contentType}function yF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){let r=0,i="";Qv(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Qv(this.data_)){const r=this.data_,i=hF(r,e,n);return i===null?null:new Sr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Sr(r,!0)}}static getBlob(...e){if(bg()){const n=e.map(r=>r instanceof Sr?r.data_:r);return new Sr(fF.apply(null,n))}else{const n=e.map(o=>Ig(o)?qT(hn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Sr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){let e;try{e=JSON.parse(t)}catch{return null}return rF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function XT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t,e){return e}class ut{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||EF}}let wl=null;function SF(t){return!Ig(t)||t.length<2?t:XT(t)}function JT(){if(wl)return wl;const t=[];t.push(new ut("bucket")),t.push(new ut("generation")),t.push(new ut("metageneration")),t.push(new ut("name","fullPath",!0));function e(s,o){return SF(o)}const n=new ut("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ut("size");return i.xform=r,t.push(i),t.push(new ut("timeCreated")),t.push(new ut("updated")),t.push(new ut("md5Hash",null,!0)),t.push(new ut("cacheControl",null,!0)),t.push(new ut("contentDisposition",null,!0)),t.push(new ut("contentEncoding",null,!0)),t.push(new ut("contentLanguage",null,!0)),t.push(new ut("contentType",null,!0)),t.push(new ut("metadata","customMetadata",!0)),wl=t,wl}function CF(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ft(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function TF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return CF(r,t),r}function ZT(t,e,n){const r=QT(e);return r===null?null:TF(t,r,n)}function IF(t,e,n,r){const i=QT(e);if(i===null||!Ig(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),m=ud(f,n,r),g=HT({alt:"media",token:u});return m+g})[0]}function bF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class xg{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){if(!t)throw Tg()}function xF(t,e){function n(r,i){const s=ZT(t,i,e);return eI(s!==null),s}return n}function kF(t,e){function n(r,i){const s=ZT(t,i,e);return eI(s!==null),IF(s,i,t.host,t._protocol)}return n}function tI(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=z2():i=V2():n.getStatus()===402?i=$2(t.bucket):n.getStatus()===403?i=B2(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function nI(t){const e=tI(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=j2(t.path)),s.serverResponse=i.serverResponse,s}return n}function RF(t,e,n){const r=e.fullServerUrl(),i=ud(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new xg(i,s,kF(t,n),o);return a.errorHandler=nI(e),a}function OF(t,e){const n=e.fullServerUrl(),r=ud(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new xg(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=nI(e),a}function NF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function PF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=NF(null,e)),r}function AF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let p="";for(let y=0;y<2;y++)p=p+Math.random().toString().slice(2);return p}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=PF(e,r,i),c=bF(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Sr.getBlob(d,r,f);if(m===null)throw Y2();const g={name:u.fullPath},v=ud(s,t.host,t._protocol),E="POST",_=t.maxUploadRetryTime,h=new xg(v,E,xF(t,n),_);return h.urlParams=g,h.headers=o,h.body=m.uploadData(),h.errorHandler=tI(e),h}class DF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_i.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_i.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_i.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ho("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ho("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ho("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ho("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ho("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class LF extends DF{initXhr(){this.xhr_.responseType="text"}}function kg(){return new LF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=class rp{constructor(e,n){this._service=e,n instanceof Ft?this._location=n:this._location=Ft.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rp(e,n)}get root(){const e=new Ft(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XT(this._location.path)}get storage(){return this._service}get parent(){const e=vF(this._location.path);if(e===null)return null;const n=new Ft(this._location.bucket,e);return new rp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw J2(e)}};function MF(t,e,n){t._throwIfRoot("uploadBytes");const r=AF(t.storage,t._location,JT(),new Sr(e,!0),n);return t.storage.makeRequestWithTokens(r,kg).then(i=>({metadata:i,ref:t}))}function FF(t,e,n=hn.RAW,r){t._throwIfRoot("uploadString");const i=qT(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),MF(t,i.data,s)}function UF(t){t._throwIfRoot("getDownloadURL");const e=RF(t.storage,t._location,JT());return t.storage.makeRequestWithTokens(e,kg).then(n=>{if(n===null)throw Q2();return n})}function jF(t){t._throwIfRoot("deleteObject");const e=OF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,kg)}function $F(t,e){const n=wF(t._location.path,e),r=new Ft(t._location.bucket,n);return new cd(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(t){return/^[A-Za-z]+:\/\//.test(t)}function zF(t,e){return new cd(t,e)}function rI(t,e){if(t instanceof Rg){const n=t;if(n._bucket==null)throw K2();const r=new cd(n,n._bucket);return e!=null?rI(r,e):r}else return e!==void 0?$F(t,e):t}function BF(t,e){if(e&&VF(e)){if(t instanceof Rg)return zF(t,e);throw np("To use ref(service, url), the first argument must be a Storage instance.")}else return rI(t,e)}function Jv(t,e){const n=e==null?void 0:e[BT];return n==null?null:Ft.makeFromBucketSpec(n,t)}function WF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Lm(i,t.app.options.projectId))}class Rg{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=zT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F2,this._maxUploadRetryTime=U2,this._requests=new Set,i!=null?this._bucket=Ft.makeFromBucketSpec(i,this._host):this._bucket=Jv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ft.makeFromBucketSpec(this._url,e):this._bucket=Jv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Z2(WT());{const o=cF(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Zv="@firebase/storage",e0="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="storage";function HF(t,e,n,r){return t=Me(t),FF(t,e,n,r)}function qF(t){return t=Me(t),UF(t)}function GF(t){return t=Me(t),jF(t)}function t0(t,e){return t=Me(t),BF(t,e)}function KF(t=Gc(),e){t=Me(t);const r=Aa(t,iI).getImmediate({identifier:e}),i=Dm("storage");return i&&YF(r,...i),r}function YF(t,e,n,r={}){WF(t,e,n,r)}function QF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Rg(n,r,i,e,Zr)}function XF(){qr(new rr(iI,QF,"PUBLIC").setMultipleInstances(!0)),Jt(Zv,e0,""),Jt(Zv,e0,"esm2017")}XF();const JF={apiKey:"AIzaSyBpIDEk-3T7KU1nuod52ztw1zCl622AlD0",authDomain:"nannyservices-3231c.firebaseapp.com",databaseURL:"https://nannyservices-3231c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nannyservices-3231c",storageBucket:"nannyservices-3231c.appspot.com",messagingSenderId:"529363317742",appId:"1:529363317742:web:9bc1c4621b8c6f896214ff"},dd=US(JF),fd=D2(dd);ED(dd);const hd=oD(dd),n0=KF(dd);new zn;function sI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=sI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=sI(t))&&(r&&(r+=" "),r+=e);return r}const va=t=>typeof t=="number"&&!isNaN(t),yi=t=>typeof t=="string",Ut=t=>typeof t=="function",Xl=t=>yi(t)||Ut(t)?t:null,ip=t=>k.isValidElement(t)||yi(t)||Ut(t)||va(t);function ZF(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function pd(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:f,playToast:m}=o;const g=r?`${e}--${l}`:e,v=r?`${n}--${l}`:n,E=k.useRef(0);return k.useLayoutEffect(()=>{const _=d.current,h=g.split(" "),p=y=>{y.target===d.current&&(m(),_.removeEventListener("animationend",p),_.removeEventListener("animationcancel",p),E.current===0&&y.type!=="animationcancel"&&_.classList.remove(...h))};_.classList.add(...h),_.addEventListener("animationend",p),_.addEventListener("animationcancel",p)},[]),k.useEffect(()=>{const _=d.current,h=()=>{_.removeEventListener("animationend",h),i?ZF(_,c,s):c()};f||(u?h():(E.current=1,_.className+=` ${v}`,_.addEventListener("animationend",h)))},[f]),q.createElement(q.Fragment,null,a)}}function r0(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const ht=new Map;let wa=[];const sp=new Set,eU=t=>sp.forEach(e=>e(t)),oI=()=>ht.size>0;function aI(t,e){var n;if(e)return!((n=ht.get(e))==null||!n.isToastActive(t));let r=!1;return ht.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function lI(t,e){ip(t)&&(oI()||wa.push({content:t,options:e}),ht.forEach(n=>{n.buildToast(t,e)}))}function i0(t,e){ht.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function tU(t){const{subscribe:e,getSnapshot:n,setProps:r}=k.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(c,d,f){let m=1,g=0,v=[],E=[],_=[],h=d;const p=new Map,y=new Set,S=()=>{_=Array.from(p.values()),y.forEach(C=>C())},x=C=>{E=C==null?[]:E.filter(A=>A!==C),S()},N=C=>{const{toastId:A,onOpen:F,updateId:K,children:H}=C.props,Q=K==null;C.staleId&&p.delete(C.staleId),p.set(A,C),E=[...E,C.props.toastId].filter(U=>U!==C.staleId),S(),f(r0(C,Q?"added":"updated")),Q&&Ut(F)&&F(k.isValidElement(H)&&H.props)};return{id:c,props:h,observe:C=>(y.add(C),()=>y.delete(C)),toggle:(C,A)=>{p.forEach(F=>{A!=null&&A!==F.props.toastId||Ut(F.toggle)&&F.toggle(C)})},removeToast:x,toasts:p,clearQueue:()=>{g-=v.length,v=[]},buildToast:(C,A)=>{if((te=>{let{containerId:me,toastId:ge,updateId:He}=te;const De=me?me!==c:c!==1,lt=p.has(ge)&&He==null;return De||lt})(A))return;const{toastId:F,updateId:K,data:H,staleId:Q,delay:U}=A,z=()=>{x(F)},ee=K==null;ee&&g++;const T={...h,style:h.toastStyle,key:m++,...Object.fromEntries(Object.entries(A).filter(te=>{let[me,ge]=te;return ge!=null})),toastId:F,updateId:K,data:H,closeToast:z,isIn:!1,className:Xl(A.className||h.toastClassName),bodyClassName:Xl(A.bodyClassName||h.bodyClassName),progressClassName:Xl(A.progressClassName||h.progressClassName),autoClose:!A.isLoading&&(R=A.autoClose,$=h.autoClose,R===!1||va(R)&&R>0?R:$),deleteToast(){const te=p.get(F),{onClose:me,children:ge}=te.props;Ut(me)&&me(k.isValidElement(ge)&&ge.props),f(r0(te,"removed")),p.delete(F),g--,g<0&&(g=0),v.length>0?N(v.shift()):S()}};var R,$;T.closeButton=h.closeButton,A.closeButton===!1||ip(A.closeButton)?T.closeButton=A.closeButton:A.closeButton===!0&&(T.closeButton=!ip(h.closeButton)||h.closeButton);let B=C;k.isValidElement(C)&&!yi(C.type)?B=k.cloneElement(C,{closeToast:z,toastProps:T,data:H}):Ut(C)&&(B=C({closeToast:z,toastProps:T,data:H}));const Y={content:B,props:T,staleId:Q};h.limit&&h.limit>0&&g>h.limit&&ee?v.push(Y):va(U)?setTimeout(()=>{N(Y)},U):N(Y)},setProps(C){h=C},setToggle:(C,A)=>{p.get(C).toggle=A},isToastActive:C=>E.some(A=>A===C),getSnapshot:()=>h.newestOnTop?_.reverse():_}}(o,s,eU);ht.set(o,l);const u=l.observe(a);return wa.forEach(c=>lI(c.content,c.options)),wa=[],()=>{u(),ht.delete(o)}},setProps(a){var l;(l=ht.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=ht.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=k.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:aI,count:i==null?void 0:i.length}}function nU(t){const[e,n]=k.useState(!1),[r,i]=k.useState(!1),s=k.useRef(null),o=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:d}=t;var f,m;function g(){n(!0)}function v(){n(!1)}function E(p){const y=s.current;o.canDrag&&y&&(o.didMove=!0,e&&v(),o.delta=t.draggableDirection==="x"?p.clientX-o.start:p.clientY-o.start,o.start!==p.clientX&&(o.canCloseOnClick=!1),y.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,y.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function _(){document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",_);const p=s.current;if(o.canDrag&&o.didMove&&p){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();p.style.transition="transform 0.2s, opacity 0.2s",p.style.removeProperty("transform"),p.style.removeProperty("opacity")}}(m=ht.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||m.setToggle(f.id,f.fn),k.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||v(),window.addEventListener("focus",g),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",v)}},[t.pauseOnFocusLoss]);const h={onPointerDown:function(p){if(t.draggable===!0||t.draggable===p.pointerType){o.didMove=!1,document.addEventListener("pointermove",E),document.addEventListener("pointerup",_);const y=s.current;o.canCloseOnClick=!0,o.canDrag=!0,y.style.transition="none",t.draggableDirection==="x"?(o.start=p.clientX,o.removalDistance=y.offsetWidth*(t.draggablePercent/100)):(o.start=p.clientY,o.removalDistance=y.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(p){const{top:y,bottom:S,left:x,right:N}=s.current.getBoundingClientRect();p.nativeEvent.type!=="touchend"&&t.pauseOnHover&&p.clientX>=x&&p.clientX<=N&&p.clientY>=y&&p.clientY<=S?v():g()}};return a&&l&&(h.onMouseEnter=v,t.stacked||(h.onMouseLeave=g)),d&&(h.onClick=p=>{c&&c(p),o.canCloseOnClick&&u()}),{playToast:g,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:h}}function rU(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:f}=t;const m=s||l&&u===0,g={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(g.transform=`scaleX(${u})`);const v=ne("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),E=Ut(o)?o({rtl:c,type:i,defaultClassName:v}):ne(v,o),_={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}};return q.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},q.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),q.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:E,style:g,..._}))}let iU=1;const uI=()=>""+iU++;function sU(t){return t&&(yi(t.toastId)||va(t.toastId))?t.toastId:uI()}function Uo(t,e){return lI(t,e),e.toastId}function nc(t,e){return{...e,type:e&&e.type||t,toastId:sU(e)}}function El(t){return(e,n)=>Uo(e,nc(t,n))}function le(t,e){return Uo(t,nc("default",e))}le.loading=(t,e)=>Uo(t,nc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),le.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=yi(i)?le.loading(i,n):le.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,f)=>{if(d==null)return void le.dismiss(r);const m={type:c,...a,...n,data:f},g=yi(d)?{render:d}:d;return r?le.update(r,{...m,...g}):le(g.render,{...m,...g}),f},u=Ut(t)?t():t;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},le.success=El("success"),le.info=El("info"),le.error=El("error"),le.warning=El("warning"),le.warn=le.warning,le.dark=(t,e)=>Uo(t,nc("default",{theme:"dark",...e})),le.dismiss=function(t){(function(e){var n;if(oI()){if(e==null||yi(n=e)||va(n))ht.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=ht.get(e.containerId);r?r.removeToast(e.id):ht.forEach(i=>{i.removeToast(e.id)})}}else wa=wa.filter(r=>e!=null&&r.options.toastId!==e)})(t)},le.clearWaitingQueue=function(t){t===void 0&&(t={}),ht.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},le.isActive=aI,le.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=ht.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:uI()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Uo(o,s)}},le.done=t=>{le.update(t,{progress:1})},le.onChange=function(t){return sp.add(t),()=>{sp.delete(t)}},le.play=t=>i0(!0,t),le.pause=t=>i0(!1,t);const oU=typeof window<"u"?k.useLayoutEffect:k.useEffect,Sl=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return q.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Ef={info:function(t){return q.createElement(Sl,{...t},q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return q.createElement(Sl,{...t},q.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return q.createElement(Sl,{...t},q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return q.createElement(Sl,{...t},q.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return q.createElement("div",{className:"Toastify__spinner"})}},aU=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=nU(t),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:f,transition:m,position:g,className:v,style:E,bodyClassName:_,bodyStyle:h,progressClassName:p,progressStyle:y,updateId:S,role:x,progress:N,rtl:C,toastId:A,deleteToast:F,isIn:K,isLoading:H,closeOnClick:Q,theme:U}=t,z=ne("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":Q}),ee=Ut(v)?v({rtl:C,position:g,type:c,defaultClassName:z}):ne(z,v),T=function(Y){let{theme:te,type:me,isLoading:ge,icon:He}=Y,De=null;const lt={theme:te,type:me};return He===!1||(Ut(He)?De=He({...lt,isLoading:ge}):k.isValidElement(He)?De=k.cloneElement(He,lt):ge?De=Ef.spinner():(Zs=>Zs in Ef)(me)&&(De=Ef[me](lt))),De}(t),R=!!N||!l,$={closeToast:f,type:c,theme:U};let B=null;return o===!1||(B=Ut(o)?o($):k.isValidElement(o)?k.cloneElement(o,$):function(Y){let{closeToast:te,theme:me,ariaLabel:ge="close"}=Y;return q.createElement("button",{className:`Toastify__close-button Toastify__close-button--${me}`,type:"button",onClick:He=>{He.stopPropagation(),te(He)},"aria-label":ge},q.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},q.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}($)),q.createElement(m,{isIn:K,done:F,position:g,preventExitTransition:n,nodeRef:r,playToast:s},q.createElement("div",{id:A,onClick:u,"data-in":K,className:ee,...i,style:E,ref:r},q.createElement("div",{...K&&{role:x},className:Ut(_)?_({type:c}):ne("Toastify__toast-body",_),style:h},T!=null&&q.createElement("div",{className:ne("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},T),q.createElement("div",null,a)),B,q.createElement(rU,{...S&&!R?{key:`pb-${S}`}:{},rtl:C,theme:U,delay:l,isRunning:e,isIn:K,closeToast:f,hide:d,type:c,style:y,className:p,controlledProgress:R,progress:N||0})))},md=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},lU=pd(md("bounce",!0));pd(md("slide",!0));pd(md("zoom"));pd(md("flip"));const uU={position:"top-right",transition:lU,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function cU(t){let e={...uU,...t};const n=t.stacked,[r,i]=k.useState(!0),s=k.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=tU(e),{className:u,style:c,rtl:d,containerId:f}=e;function m(v){const E=ne("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":d});return Ut(u)?u({position:v,rtl:d,defaultClassName:E}):ne(E,Xl(u))}function g(){n&&(i(!0),le.play())}return oU(()=>{if(n){var v;const E=s.current.querySelectorAll('[data-in="true"]'),_=12,h=(v=e.position)==null?void 0:v.includes("top");let p=0,y=0;Array.from(E).reverse().forEach((S,x)=>{const N=S;N.classList.add("Toastify__toast--stacked"),x>0&&(N.dataset.collapsed=`${r}`),N.dataset.pos||(N.dataset.pos=h?"top":"bot");const C=p*(r?.2:1)+(r?0:_*x);N.style.setProperty("--y",`${h?C:-1*C}px`),N.style.setProperty("--g",`${_}`),N.style.setProperty("--s",""+(1-(r?y:0))),p+=N.offsetHeight,y+=.025})}},[r,l,n]),q.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),le.pause())},onMouseLeave:g},o((v,E)=>{const _=E.length?{...c}:{...c,pointerEvents:"none"};return q.createElement("div",{className:m(v),style:_,key:`container-${v}`},E.map(h=>{let{content:p,props:y}=h;return q.createElement(aU,{...y,stacked:n,collapseAll:g,isIn:a(y.toastId,y.containerId),style:y.style,key:`toast-${y.key}`},p)}))}))}const Jl=Na("auth/register",async(t,e)=>{try{const r=(await BP(hd,t.email,t.password)).user;await cC(r,{displayName:t.name});const i=ld(fd,"users/"+r.uid);return await Ql(i,{name:t.name,email:r.email}),le.success("Registration success",{position:"bottom-right"}),{uid:r.uid,displayName:r.displayName||null,email:r.email||null,photoURL:r.photoURL||null}}catch(n){return n.code===GN.EMAIL_EXISTS?le.error("This email address is already in use",{position:"bottom-right"}):le.error("Registration failed",{position:"bottom-right"}),e.rejectWithValue(n.message)}}),Zl=Na("auth/login",async(t,e)=>{try{const n=await WP(hd,t.email,t.password);if(n.user){le.success("Login success",{position:"bottom-right"});const r=ld(fd,`users/${n.user.uid}`),i=await Sg(r);if(i.exists()){const o=i.val().photoURL||null;return{uid:n.user.uid,displayName:n.user.displayName||null,email:n.user.email||null,photoURL:o}}else throw new Error("User data not found in database")}throw new Error("No user found")}catch(n){return le.error("Login failed",{position:"bottom-right"}),e.rejectWithValue(n.message)}}),jo=Na("auth/logout",async(t,e)=>{try{await KP(hd),le.warning("Logout success",{position:"bottom-right"})}catch(n){return le.error("Logout failed",{position:"bottom-right"}),e.rejectWithValue(n.message)}}),eu=Na("auth/updateProfile",async(t,e)=>{var r;const n=hd.currentUser;if(!n)return console.error("No user is signed in."),e.rejectWithValue("No user is signed in.");try{const i={name:t.updatedName,photoURL:""};t.updatedName&&await cC(n,{displayName:t.updatedName});const s=ld(fd,`users/${n.uid}`),a=((r=(await Sg(s)).val())==null?void 0:r.photoURL)||"";if(t.photoURL==="delete"){if(a){const l=t0(n0,a);await GF(l)}await Ql(s,{name:t.updatedName,email:n.email,photoURL:""}),i.photoURL=""}else if(t.photoURL instanceof File){const l=t0(n0,`avatars/${n.uid}/${t.photoURL.name}`),u=new FileReader;u.readAsDataURL(t.photoURL);const c=await new Promise((f,m)=>{u.onload=g=>{f(g.target.result)},u.onerror=g=>{m(g)}});await HF(l,c,"data_url");const d=await qF(l);await Ql(s,{name:t.updatedName,email:n.email,photoURL:d}),i.photoURL=d}else await Ql(s,{name:t.updatedName,email:n.email,photoURL:a}),i.photoURL=a;return le.success("Profile updated successfully",{position:"bottom-right"}),console.log(i),i}catch(i){return le.error("Failed to update profile",{position:"bottom-right"}),console.error("Error updating profile:",i),e.rejectWithValue(i.message)}}),dU={name:"",email:"",token:"",theme:"",error:null,isLoggedIn:!1,isLoadingUser:!1,photoURL:""},Cl=t=>({...t,isLoadingUser:!0,error:null}),Tl=(t,e)=>({...t,error:e.payload||"error",isLoadingUser:!1}),fU=t=>({...t,isLoadingUser:!1,isLoggedIn:!1,photoURL:"",name:"",email:"",token:"",error:null}),Og=Vc({name:"user",initialState:dU,reducers:{changeUserTheme(t,e){t.theme=e.payload},updateUserState(t,e){t.name=e.payload.name,t.photoURL=e.payload.avatar}},extraReducers:t=>{t.addCase(Jl.pending,Cl).addCase(Jl.fulfilled,(e,n)=>{e.isLoadingUser=!1,e.isLoggedIn=!0,e.name=n.payload.displayName,e.email=n.payload.email||"",e.token=n.payload.uid}).addCase(Jl.rejected,Tl).addCase(Zl.pending,Cl).addCase(Zl.fulfilled,(e,n)=>{e.isLoadingUser=!1,e.isLoggedIn=!0,e.name=n.payload.displayName,e.email=n.payload.email||"",e.token=n.payload.uid,e.photoURL=n.payload.photoURL?n.payload.photoURL:""}).addCase(Zl.rejected,Tl).addCase(jo.pending,Cl).addCase(jo.fulfilled,fU).addCase(jo.rejected,Tl).addCase(eu.pending,Cl).addCase(eu.fulfilled,(e,n)=>{e.isLoadingUser=!1,e.name=n.payload.name?n.payload.name:e.name,e.photoURL=n.payload.photoURL?n.payload.photoURL:""}).addCase(eu.rejected,Tl)}}),hU={key:"user",storage:Bc,blacklist:["error","isLoadingUser"]},pU=Rm(hU,Og.reducer),{changeUserTheme:mU,updateUserState:jV}=Og.actions;Og.reducer;const gU=ld(fd,"/nannies"),Sf=Na("nannies/fetchNannies",async(t,{rejectWithValue:e})=>{try{const n=b2(gU,I2(t)),r=await Sg(n);if(r.exists()){const i=[];return r.forEach(s=>{const o=s.val(),a=s.key;i.push({id:a,...o})}),i}else throw new Error("Дані відсутні")}catch(n){return e(n.message)}}),_U={nannies:[],favorites:[],activeNannie:null,isLoading:!1,error:null,status:"idle"},yU=(t,e)=>{const n=e.payload,r=t.nannies.find(i=>i.id===n);r&&!t.favorites.find(i=>i.id===n)&&t.favorites.push(r)},vU=(t,e)=>{const n=e.payload;t.favorites=t.favorites.filter(r=>r.id!==n)},Ng=Vc({name:"nannies",initialState:_U,reducers:{addFavorite:yU,removeFavorite:vU,setActive:(t,e)=>{t.activeNannie=e.payload}},extraReducers:t=>{t.addCase(Sf.pending,e=>{e.status="loading"}).addCase(Sf.fulfilled,(e,n)=>{e.status="succeeded",e.nannies=n.payload,e.error=null}).addCase(Sf.rejected,(e,n)=>{e.status="failed",e.error=n.payload})}}),wU={key:"nannies",storage:Bc,whitelist:["favorites"]},EU=Rm(wU,Ng.reducer),{addFavorite:$V,setActive:VV,removeFavorite:zV}=Ng.actions;Ng.reducer;const SU={isLoginPopUpOpen:!1,isLoginModalOpen:!1,isRegistrationModalOpen:!1,isAppointmentOpen:!1},cI=Vc({name:"modals",initialState:SU,reducers:{setIsLoginPopUpOpen(t,e){t.isLoginPopUpOpen=e.payload},setIsLoginModalOpen(t,e){t.isLoginModalOpen=e.payload},setIsRegistrationModalOpen(t,e){t.isRegistrationModalOpen=e.payload},setIsAppointmentOpen(t,e){t.isAppointmentOpen=e.payload}}}),{setIsLoginPopUpOpen:BV,setIsLoginModalOpen:rc,setIsRegistrationModalOpen:ic,setIsAppointmentOpen:WV}=cI.actions,CU=cI.reducer,TU={filter:"Show all"},Pg=Vc({name:"filters",initialState:TU,reducers:{setFilter:(t,e)=>{t.filter=e.payload}}}),IU={key:"filters",storage:Bc},bU=Rm(IU,Pg.reducer),{setFilter:HV}=Pg.actions;Pg.reducer;const xU=dS({user:pU,nannies:EU,modals:CU,filters:bU}),Ag=fR({reducer:xU,middleware:t=>t({serializableCheck:{ignoredActions:[Tm,zc,Im,bm,xm,km]}})}),kU=oO(Ag);$R(Ag.dispatch);const RU="modulepreload",OU=function(t){return"/nannies/"+t},s0={},Dg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=OU(a),a in s0)return;s0[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":RU,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ea.apply(this,arguments)}var Ir;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ir||(Ir={}));const o0="popstate";function NU(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return op("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sc(i)}return AU(e,n,null,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PU(){return Math.random().toString(36).substr(2,8)}function a0(t,e){return{usr:t.state,key:t.key,idx:e}}function op(t,e,n,r){return n===void 0&&(n=null),Ea({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ys(e):e,{state:n,key:e&&e.key||r||PU()})}function sc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ir.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ea({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Ir.Pop;let E=c(),_=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:_})}function f(E,_){a=Ir.Push;let h=op(v.location,E,_);u=c()+1;let p=a0(h,u),y=v.createHref(h);try{o.pushState(p,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(y)}s&&l&&l({action:a,location:v.location,delta:1})}function m(E,_){a=Ir.Replace;let h=op(v.location,E,_);u=c();let p=a0(h,u),y=v.createHref(h);o.replaceState(p,"",y),s&&l&&l({action:a,location:v.location,delta:0})}function g(E){let _=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof E=="string"?E:sc(E);return h=h.replace(/ $/,"%20"),xe(_,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,_)}let v={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(o0,d),l=E,()=>{i.removeEventListener(o0,d),l=null}},createHref(E){return e(i,E)},createURL:g,encodeLocation(E){let _=g(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(E){return o.go(E)}};return v}var l0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(l0||(l0={}));function DU(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ys(e):e,i=Ms(r.pathname||"/",n);if(i==null)return null;let s=fI(t);LU(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=qU(i);o=WU(s[a],l)}return o}function fI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=$r([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(xe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fI(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:zU(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of hI(s.path))i(s,o,l)}),e}function hI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function LU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MU=/^:[\w-]+$/,FU=3,UU=2,jU=1,$U=10,VU=-2,u0=t=>t==="*";function zU(t,e){let n=t.split("/"),r=n.length;return n.some(u0)&&(r+=VU),e&&(r+=UU),n.filter(i=>!u0(i)).reduce((i,s)=>i+(MU.test(s)?FU:s===""?jU:$U),r)}function BU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WU(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=ap({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:$r([i,c.pathname]),pathnameBase:QU($r([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=$r([i,c.pathnameBase]))}return s}function ap(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function HU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ys(t):t;return{pathname:n?n.startsWith("/")?n:KU(n,e):e,search:XU(r),hash:JU(i)}}function KU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lg(t,e){let n=YU(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ys(t):(i=Ea({},t),xe(!i.pathname||!i.pathname.includes("?"),Cf("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),Cf("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),Cf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=GU(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const $r=t=>t.join("/").replace(/\/\/+/g,"/"),QU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pI=["post","put","patch","delete"];new Set(pI);const ej=["get",...pI];new Set(ej);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}const gd=k.createContext(null),mI=k.createContext(null),cr=k.createContext(null),_d=k.createContext(null),dr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),gI=k.createContext(null);function tj(t,e){let{relative:n}=e===void 0?{}:e;Qs()||xe(!1);let{basename:r,navigator:i}=k.useContext(cr),{hash:s,pathname:o,search:a}=yd(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$r([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Qs(){return k.useContext(_d)!=null}function Mn(){return Qs()||xe(!1),k.useContext(_d).location}function _I(t){k.useContext(cr).static||k.useLayoutEffect(t)}function Fg(){let{isDataRoute:t}=k.useContext(dr);return t?gj():nj()}function nj(){Qs()||xe(!1);let t=k.useContext(gd),{basename:e,future:n,navigator:r}=k.useContext(cr),{matches:i}=k.useContext(dr),{pathname:s}=Mn(),o=JSON.stringify(Lg(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return _I(()=>{a.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Mg(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:$r([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}const rj=k.createContext(null);function ij(t){let e=k.useContext(dr).outlet;return e&&k.createElement(rj.Provider,{value:t},e)}function yd(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(cr),{matches:i}=k.useContext(dr),{pathname:s}=Mn(),o=JSON.stringify(Lg(i,r.v7_relativeSplatPath));return k.useMemo(()=>Mg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function sj(t,e){return oj(t,e)}function oj(t,e,n,r){Qs()||xe(!1);let{navigator:i}=k.useContext(cr),{matches:s}=k.useContext(dr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Mn(),c;if(e){var d;let E=typeof e=="string"?Ys(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||xe(!1),c=E}else c=u;let f=c.pathname||"/",m=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let g=DU(t,{pathname:m}),v=dj(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:$r([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:$r([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&v?k.createElement(_d.Provider,{value:{location:Sa({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ir.Pop}},v):v}function aj(){let t=mj(),e=ZU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const lj=k.createElement(aj,null);class uj extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(dr.Provider,{value:this.props.routeContext},k.createElement(gI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cj(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(gd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(dr.Provider,{value:e},r)}function dj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||xe(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:m}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let m,g=!1,v=null,E=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||lj,l&&(u<0&&f===0?(g=!0,E=null):u===f&&(g=!0,E=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),h=()=>{let p;return m?p=v:g?p=E:d.route.Component?p=k.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,k.createElement(cj,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(uj,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:h(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):h()},null)}var yI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yI||{}),oc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(oc||{});function fj(t){let e=k.useContext(gd);return e||xe(!1),e}function hj(t){let e=k.useContext(mI);return e||xe(!1),e}function pj(t){let e=k.useContext(dr);return e||xe(!1),e}function vI(t){let e=pj(),n=e.matches[e.matches.length-1];return n.route.id||xe(!1),n.route.id}function mj(){var t;let e=k.useContext(gI),n=hj(oc.UseRouteError),r=vI(oc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gj(){let{router:t}=fj(yI.UseNavigateStable),e=vI(oc.UseNavigateStable),n=k.useRef(!1);return _I(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sa({fromRouteId:e},s)))},[t,e])}function _j(t){let{to:e,replace:n,state:r,relative:i}=t;Qs()||xe(!1);let{future:s,static:o}=k.useContext(cr),{matches:a}=k.useContext(dr),{pathname:l}=Mn(),u=Fg(),c=Mg(e,Lg(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return k.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function yj(t){return ij(t.context)}function Gi(t){xe(!1)}function vj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ir.Pop,navigator:s,static:o=!1,future:a}=t;Qs()&&xe(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:Sa({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ys(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:g="default"}=r,v=k.useMemo(()=>{let E=Ms(c,l);return E==null?null:{location:{pathname:E,search:d,hash:f,state:m,key:g},navigationType:i}},[l,c,d,f,m,g,i]);return v==null?null:k.createElement(cr.Provider,{value:u},k.createElement(_d.Provider,{children:n,value:v}))}function wj(t){let{children:e,location:n}=t;return sj(lp(e),n)}new Promise(()=>{});function lp(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,lp(r.props.children,s));return}r.type!==Gi&&xe(!1),!r.props.index||!r.props.children||xe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}function wI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ej(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sj(t,e){return t.button===0&&(!e||e==="_self")&&!Ej(t)}const Cj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Tj=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Ij="6";try{window.__reactRouterVersion=Ij}catch{}const bj=k.createContext({isTransitioning:!1}),xj="startTransition",c0=Pf[xj];function kj(t){let{basename:e,children:n,future:r,window:i}=t,s=k.useRef();s.current==null&&(s.current=NU({window:i,v5Compat:!0}));let o=s.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=k.useCallback(d=>{u&&c0?c0(()=>l(d)):l(d)},[l,u]);return k.useLayoutEffect(()=>o.listen(c),[o,c]),k.createElement(vj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Rj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nj=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,f=wI(e,Cj),{basename:m}=k.useContext(cr),g,v=!1;if(typeof u=="string"&&Oj.test(u)&&(g=u,Rj))try{let p=new URL(window.location.href),y=u.startsWith("//")?new URL(p.protocol+u):new URL(u),S=Ms(y.pathname,m);y.origin===p.origin&&S!=null?u=S+y.search+y.hash:v=!0}catch{}let E=tj(u,{relative:i}),_=Aj(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function h(p){r&&r(p),p.defaultPrevented||_(p)}return k.createElement("a",ac({},f,{href:g||E,onClick:v||s?r:h,ref:n,target:l}))}),Ug=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,d=wI(e,Tj),f=yd(l,{relative:d.relative}),m=Mn(),g=k.useContext(mI),{navigator:v,basename:E}=k.useContext(cr),_=g!=null&&Dj(f)&&u===!0,h=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,p=m.pathname,y=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(p=p.toLowerCase(),y=y?y.toLowerCase():null,h=h.toLowerCase()),y&&E&&(y=Ms(y,E)||y);const S=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let x=p===h||!o&&p.startsWith(h)&&p.charAt(S)==="/",N=y!=null&&(y===h||!o&&y.startsWith(h)&&y.charAt(h.length)==="/"),C={isActive:x,isPending:N,isTransitioning:_},A=x?r:void 0,F;typeof s=="function"?F=s(C):F=[s,x?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(C):a;return k.createElement(Nj,ac({},d,{"aria-current":A,className:F,ref:n,style:K,to:l,unstable_viewTransition:u}),typeof c=="function"?c(C):c)});var up;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(up||(up={}));var d0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d0||(d0={}));function Pj(t){let e=k.useContext(gd);return e||xe(!1),e}function Aj(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Fg(),u=Mn(),c=yd(t,{relative:o});return k.useCallback(d=>{if(Sj(d,n)){d.preventDefault();let f=r!==void 0?r:sc(u)===sc(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function Dj(t,e){e===void 0&&(e={});let n=k.useContext(bj);n==null&&xe(!1);let{basename:r}=Pj(up.useViewTransitionState),i=yd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ap(i.pathname,o)!=null||ap(i.pathname,s)!=null}const Lj=()=>b.jsx(Ug,{className:"z-50 text-2xl leading-[117%] xs:mb-2 sm:mb-0",to:"/",children:"Nanny.Services"});var jg={};jg.match=Vj;jg.parse=EI;var Mj=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,Fj=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,Uj=/^(?:(min|max)-)?(.+)/,jj=/(em|rem|px|cm|mm|in|pt|pc)?$/,$j=/(dpi|dpcm|dppx)?$/;function Vj(t,e){return EI(t).some(function(n){var r=n.inverse,i=n.type==="all"||e.type===n.type;if(i&&r||!(i||r))return!1;var s=n.expressions.every(function(o){var a=o.feature,l=o.modifier,u=o.value,c=e[a];if(!c)return!1;switch(a){case"orientation":case"scan":return c.toLowerCase()===u.toLowerCase();case"width":case"height":case"device-width":case"device-height":u=p0(u),c=p0(c);break;case"resolution":u=h0(u),c=h0(c);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":u=f0(u),c=f0(c);break;case"grid":case"color":case"color-index":case"monochrome":u=parseInt(u,10)||1,c=parseInt(c,10)||0;break}switch(l){case"min":return c>=u;case"max":return c<=u;default:return c===u}});return s&&!r||!s&&r})}function EI(t){return t.split(",").map(function(e){e=e.trim();var n=e.match(Mj),r=n[1],i=n[2],s=n[3]||"",o={};return o.inverse=!!r&&r.toLowerCase()==="not",o.type=i?i.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],o.expressions=s.map(function(a){var l=a.match(Fj),u=l[1].toLowerCase().match(Uj);return{modifier:u[1],feature:u[2],value:l[2]}}),o})}function f0(t){var e=Number(t),n;return e||(n=t.match(/^(\d+)\s*\/\s*(\d+)$/),e=n[1]/n[2]),e}function h0(t){var e=parseFloat(t),n=String(t).match($j)[1];switch(n){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function p0(t){var e=parseFloat(t),n=String(t).match(jj)[1];switch(n){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var zj=jg.match,m0=typeof window<"u"?window.matchMedia:null;function Bj(t,e,n){var r=this,i;m0&&!n&&(i=m0.call(window,t)),i?(this.matches=i.matches,this.media=i.media,i.addListener(a)):(this.matches=zj(t,e),this.media=t),this.addListener=s,this.removeListener=o,this.dispose=l;function s(u){i&&i.addListener(u)}function o(u){i&&i.removeListener(u)}function a(u){r.matches=u.matches,r.media=u.media}function l(){i&&i.removeListener(a)}}function Wj(t,e,n){return new Bj(t,e,n)}var Hj=Wj;const qj=js(Hj);var Gj=/[A-Z]/g,Kj=/^ms-/,Tf={};function Yj(t){return"-"+t.toLowerCase()}function SI(t){if(Tf.hasOwnProperty(t))return Tf[t];var e=t.replace(Gj,Yj);return Tf[t]=Kj.test(e)?"-"+e:e}function Qj(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(let s=0;s<i;s++){const o=n[s];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}var CI={exports:{}},Xj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jj=Xj,Zj=Jj;function TI(){}function II(){}II.resetWarningCache=TI;var e$=function(){function t(r,i,s,o,a,l){if(l!==Zj){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:II,resetWarningCache:TI};return n.PropTypes=n,n};CI.exports=e$();var $g=CI.exports;const fe=js($g),ct=fe.oneOfType([fe.string,fe.number]),Vg={all:fe.bool,grid:fe.bool,aural:fe.bool,braille:fe.bool,handheld:fe.bool,print:fe.bool,projection:fe.bool,screen:fe.bool,tty:fe.bool,tv:fe.bool,embossed:fe.bool},bI={orientation:fe.oneOf(["portrait","landscape"]),scan:fe.oneOf(["progressive","interlace"]),aspectRatio:fe.string,deviceAspectRatio:fe.string,height:ct,deviceHeight:ct,width:ct,deviceWidth:ct,color:fe.bool,colorIndex:fe.bool,monochrome:fe.bool,resolution:ct,type:Object.keys(Vg)},{type:qV,...t$}=bI,xI={minAspectRatio:fe.string,maxAspectRatio:fe.string,minDeviceAspectRatio:fe.string,maxDeviceAspectRatio:fe.string,minHeight:ct,maxHeight:ct,minDeviceHeight:ct,maxDeviceHeight:ct,minWidth:ct,maxWidth:ct,minDeviceWidth:ct,maxDeviceWidth:ct,minColor:fe.number,maxColor:fe.number,minColorIndex:fe.number,maxColorIndex:fe.number,minMonochrome:fe.number,maxMonochrome:fe.number,minResolution:ct,maxResolution:ct,...t$},n$={...Vg,...xI};var r$={all:n$,types:Vg,matchers:bI,features:xI};const i$=t=>`not ${t}`,s$=(t,e)=>{const n=SI(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?i$(n):`(${n}: ${e})`},o$=t=>t.join(" and "),a$=t=>{const e=[];return Object.keys(r$.all).forEach(n=>{const r=t[n];r!=null&&e.push(s$(n,r))}),o$(e)},l$=k.createContext(void 0),u$=t=>t.query||a$(t),g0=t=>t?Object.keys(t).reduce((n,r)=>(n[SI(r)]=t[r],n),{}):void 0,kI=()=>{const t=k.useRef(!1);return k.useEffect(()=>{t.current=!0},[]),t.current},c$=t=>{const e=k.useContext(l$),n=()=>g0(t)||g0(e),[r,i]=k.useState(n);return k.useEffect(()=>{const s=n();Qj(r,s)||i(s)},[t,e]),r},d$=t=>{const e=()=>u$(t),[n,r]=k.useState(e);return k.useEffect(()=>{const i=e();n!==i&&r(i)},[t]),n},f$=(t,e)=>{const n=()=>qj(t,e||{},!!e),[r,i]=k.useState(n),s=kI();return k.useEffect(()=>{if(s){const o=n();return i(o),()=>{o&&o.dispose()}}},[t,e]),r},h$=t=>{const[e,n]=k.useState(t.matches);return k.useEffect(()=>{const r=i=>{n(i.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},If=(t,e,n)=>{const r=c$(e),i=d$(t);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=f$(i,r),o=h$(s),a=kI();return k.useEffect(()=>{a&&n&&n(o)},[o]),k.useEffect(()=>()=>{s&&s.dispose()},[]),o},ti=()=>{const t=If({query:"(max-height: 860px)"}),e=If({query:"(min-width: 1440px)"}),n=If({query:"(min-width: 768px)"})&&!e,r=!n&&!e;return k.useMemo(()=>({isMobile:r,isTablet:n,isDesktop:e,isHeight:t}),[r,n,e,t])},p$=({onClose:t,isNavOpen:e})=>{const{isMobile:n,isTablet:r}=ti();return b.jsx("div",{className:ne("fixed inset-0 z-40 transition-all duration-500",{"bg-skin-overlay bg-opacity-40":e&&(r||n),"pointer-events-none bg-opacity-0":!e||!(r||n)}),onClick:t})},m$=t=>t.user,g$=t=>t.user.error,_$=t=>t.user.isLoadingUser,y$=t=>t.user.token,v$=t=>t.user.theme,w$=t=>t.user.name,E$=t=>t.user.photoURL,S$=t=>t.user.isLoggedIn,fr=()=>{const t=qt(S$),e=qt(_$),n=qt(g$),r=qt(y$),i=qt(E$),s=qt(w$),o=qt(v$),a=qt(m$);return{theme:o,isLoggedIn:t,isLoading:e,name:s,token:r,error:n,photoURL:i,userState:a}},_0="/nannies/HeroX1-Q8NGwAH7.webp",C$="/nannies/HeroX2-Dod5aU1S.webp",lc="/nannies/sprite-1rBooNp1.svg",RI=({width:t="w-full",imageSrc:e="",border:n="rounded-lg",isCircle:r=!1,height:i="h-auto",position:s="object-center",hero:o=!1,avaClass:a})=>{const l=ne("relative",r?"rounded-full overflow-hidden":n,t,i,o?"w-full h-[calc(100vh-64px)]":""),u=ne("w-full h-full object-cover",s);return b.jsx("div",{className:l,children:o?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:_0,srcSet:`${_0} 1x, ${C$} 2x`,sizes:"(max-width: 768px) 100vw, 100%",alt:"Baby with nanny reading book in room with warm light",className:u}),b.jsx("div",{className:"absolute left-0 top-0 h-full w-full bg-[rgba(18,20,23,0.6)] bg-cover"})]}):e?b.jsx("img",{src:e,alt:"Framed user avatar",className:a,width:t,height:i}):b.jsx("svg",{className:"mx-auto fill-skin-primary transition-colors duration-300 md:h-10 md:w-10",xmlns:"http://www.w3.org/2000/svg",width:30,height:30,children:b.jsx("use",{xlinkHref:`${lc}#icon-image`})})})};var cp={exports:{}},Di={},dp={exports:{}},En={},fp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function s(d,f){return f.getPropertyValue("overflow")!=="visible"||d.scrollWidth<=0&&d.scrollHeight<=0}function o(d){var f=d.offsetWidth<=0&&d.offsetHeight<=0;if(f&&!d.innerHTML)return!0;try{var m=window.getComputedStyle(d),g=m.getPropertyValue("display");return f?g!==r&&s(d,m):g===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(d){for(var f=d,m=d.getRootNode&&d.getRootNode();f&&f!==document.body;){if(m&&f===m&&(f=m.host.parentNode),o(f))return!1;f=f.parentNode}return!0}function l(d,f){var m=d.nodeName.toLowerCase(),g=i.test(m)&&!d.disabled||m==="a"&&d.href||f;return g&&a(d)}function u(d){var f=d.getAttribute("tabindex");f===null&&(f=void 0);var m=isNaN(f);return(m||f>=0)&&l(d,!m)}function c(d){var f=[].slice.call(d.querySelectorAll("*"),0).reduce(function(m,g){return m.concat(g.shadowRoot?c(g.shadowRoot):[g])},[]);return f.filter(u)}t.exports=e.default})(fp,fp.exports);var OI=fp.exports;Object.defineProperty(En,"__esModule",{value:!0});En.resetState=x$;En.log=k$;En.handleBlur=Ca;En.handleFocus=Ta;En.markForFocusLater=R$;En.returnFocus=O$;En.popWithoutFocus=N$;En.setupScopedFocus=P$;En.teardownScopedFocus=A$;var T$=OI,I$=b$(T$);function b$(t){return t&&t.__esModule?t:{default:t}}var Fs=[],ls=null,hp=!1;function x$(){Fs=[]}function k$(){}function Ca(){hp=!0}function Ta(){if(hp){if(hp=!1,!ls)return;setTimeout(function(){if(!ls.contains(document.activeElement)){var t=(0,I$.default)(ls)[0]||ls;t.focus()}},0)}}function R$(){Fs.push(document.activeElement)}function O$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Fs.length!==0&&(e=Fs.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function N$(){Fs.length>0&&Fs.pop()}function P$(t){ls=t,window.addEventListener?(window.addEventListener("blur",Ca,!1),document.addEventListener("focus",Ta,!0)):(window.attachEvent("onBlur",Ca),document.attachEvent("onFocus",Ta))}function A$(){ls=null,window.addEventListener?(window.removeEventListener("blur",Ca),document.removeEventListener("focus",Ta)):(window.detachEvent("onBlur",Ca),document.detachEvent("onFocus",Ta))}var pp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=OI,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var c=void 0,d=l.shiftKey,f=u[0],m=u[u.length-1],g=s();if(a===g){if(!d)return;c=m}if(m===g&&!d&&(c=f),f===g&&d&&(c=m),c){l.preventDefault(),c.focus();return}var v=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=v!=null&&v[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(E){var _=u.indexOf(g);if(_>-1&&(_+=d?-1:1),c=u[_],typeof c>"u"){l.preventDefault(),c=d?m:f,c.focus();return}l.preventDefault(),c.focus()}}t.exports=e.default})(pp,pp.exports);var D$=pp.exports,Sn={},L$=function(){},M$=L$,_n={},NI={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(NI);var F$=NI.exports;Object.defineProperty(_n,"__esModule",{value:!0});_n.canUseDOM=_n.SafeNodeList=_n.SafeHTMLCollection=void 0;var U$=F$,j$=$$(U$);function $$(t){return t&&t.__esModule?t:{default:t}}var vd=j$.default,V$=vd.canUseDOM?window.HTMLElement:{};_n.SafeHTMLCollection=vd.canUseDOM?window.HTMLCollection:{};_n.SafeNodeList=vd.canUseDOM?window.NodeList:{};_n.canUseDOM=vd.canUseDOM;_n.default=V$;Object.defineProperty(Sn,"__esModule",{value:!0});Sn.resetState=q$;Sn.log=G$;Sn.assertNodeList=PI;Sn.setElement=K$;Sn.validateElement=zg;Sn.hide=Y$;Sn.show=Q$;Sn.documentNotReadyOrSSRTesting=X$;var z$=M$,B$=H$(z$),W$=_n;function H$(t){return t&&t.__esModule?t:{default:t}}var Gt=null;function q$(){Gt&&(Gt.removeAttribute?Gt.removeAttribute("aria-hidden"):Gt.length!=null?Gt.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Gt).forEach(function(t){return t.removeAttribute("aria-hidden")})),Gt=null}function G$(){}function PI(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function K$(t){var e=t;if(typeof e=="string"&&W$.canUseDOM){var n=document.querySelectorAll(e);PI(n,e),e=n}return Gt=e||Gt,Gt}function zg(t){var e=t||Gt;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,B$.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Y$(t){var e=!0,n=!1,r=void 0;try{for(var i=zg(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function Q$(t){var e=!0,n=!1,r=void 0;try{for(var i=zg(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function X$(){Gt=null}var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.resetState=J$;Xs.log=Z$;var $o={},Vo={};function y0(t,e){t.classList.remove(e)}function J$(){var t=document.getElementsByTagName("html")[0];for(var e in $o)y0(t,$o[e]);var n=document.body;for(var r in Vo)y0(n,Vo[r]);$o={},Vo={}}function Z$(){}var e3=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},t3=function(e,n){return e[n]&&(e[n]-=1),n},n3=function(e,n,r){r.forEach(function(i){e3(n,i),e.add(i)})},r3=function(e,n,r){r.forEach(function(i){t3(n,i),n[i]===0&&e.remove(i)})};Xs.add=function(e,n){return n3(e.classList,e.nodeName.toLowerCase()=="html"?$o:Vo,n.split(" "))};Xs.remove=function(e,n){return r3(e.classList,e.nodeName.toLowerCase()=="html"?$o:Vo,n.split(" "))};var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.log=s3;Js.resetState=o3;function i3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var AI=function t(){var e=this;i3(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},uc=new AI;function s3(){console.log("portalOpenInstances ----------"),console.log(uc.openInstances.length),uc.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function o3(){uc=new AI}Js.default=uc;var Bg={};Object.defineProperty(Bg,"__esModule",{value:!0});Bg.resetState=c3;Bg.log=d3;var a3=Js,l3=u3(a3);function u3(t){return t&&t.__esModule?t:{default:t}}var rt=void 0,rn=void 0,vi=[];function c3(){for(var t=[rt,rn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}rt=rn=null,vi=[]}function d3(){console.log("bodyTrap ----------"),console.log(vi.length);for(var t=[rt,rn],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function v0(){vi.length!==0&&vi[vi.length-1].focusContent()}function f3(t,e){!rt&&!rn&&(rt=document.createElement("div"),rt.setAttribute("data-react-modal-body-trap",""),rt.style.position="absolute",rt.style.opacity="0",rt.setAttribute("tabindex","0"),rt.addEventListener("focus",v0),rn=rt.cloneNode(),rn.addEventListener("focus",v0)),vi=e,vi.length>0?(document.body.firstChild!==rt&&document.body.insertBefore(rt,document.body.firstChild),document.body.lastChild!==rn&&document.body.appendChild(rn)):(rt.parentElement&&rt.parentElement.removeChild(rt),rn.parentElement&&rn.parentElement.removeChild(rn))}l3.default.subscribe(f3);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(U){for(var z=1;z<arguments.length;z++){var ee=arguments[z];for(var T in ee)Object.prototype.hasOwnProperty.call(ee,T)&&(U[T]=ee[T])}return U},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},i=function(){function U(z,ee){for(var T=0;T<ee.length;T++){var R=ee[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(z,R.key,R)}}return function(z,ee,T){return ee&&U(z.prototype,ee),T&&U(z,T),z}}(),s=k,o=$g,a=S(o),l=En,u=y(l),c=D$,d=S(c),f=Sn,m=y(f),g=Xs,v=y(g),E=_n,_=S(E),h=Js,p=S(h);function y(U){if(U&&U.__esModule)return U;var z={};if(U!=null)for(var ee in U)Object.prototype.hasOwnProperty.call(U,ee)&&(z[ee]=U[ee]);return z.default=U,z}function S(U){return U&&U.__esModule?U:{default:U}}function x(U,z){if(!(U instanceof z))throw new TypeError("Cannot call a class as a function")}function N(U,z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:U}function C(U,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);U.prototype=Object.create(z&&z.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(U,z):U.__proto__=z)}var A={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},F=function(z){return z.code==="Tab"||z.keyCode===9},K=function(z){return z.code==="Escape"||z.keyCode===27},H=0,Q=function(U){C(z,U);function z(ee){x(this,z);var T=N(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,ee));return T.setOverlayRef=function(R){T.overlay=R,T.props.overlayRef&&T.props.overlayRef(R)},T.setContentRef=function(R){T.content=R,T.props.contentRef&&T.props.contentRef(R)},T.afterClose=function(){var R=T.props,$=R.appElement,B=R.ariaHideApp,Y=R.htmlOpenClassName,te=R.bodyOpenClassName,me=R.parentSelector,ge=me&&me().ownerDocument||document;te&&v.remove(ge.body,te),Y&&v.remove(ge.getElementsByTagName("html")[0],Y),B&&H>0&&(H-=1,H===0&&m.show($)),T.props.shouldFocusAfterRender&&(T.props.shouldReturnFocusAfterClose?(u.returnFocus(T.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),T.props.onAfterClose&&T.props.onAfterClose(),p.default.deregister(T)},T.open=function(){T.beforeOpen(),T.state.afterOpen&&T.state.beforeClose?(clearTimeout(T.closeTimer),T.setState({beforeClose:!1})):(T.props.shouldFocusAfterRender&&(u.setupScopedFocus(T.node),u.markForFocusLater()),T.setState({isOpen:!0},function(){T.openAnimationFrame=requestAnimationFrame(function(){T.setState({afterOpen:!0}),T.props.isOpen&&T.props.onAfterOpen&&T.props.onAfterOpen({overlayEl:T.overlay,contentEl:T.content})})}))},T.close=function(){T.props.closeTimeoutMS>0?T.closeWithTimeout():T.closeWithoutTimeout()},T.focusContent=function(){return T.content&&!T.contentHasFocus()&&T.content.focus({preventScroll:!0})},T.closeWithTimeout=function(){var R=Date.now()+T.props.closeTimeoutMS;T.setState({beforeClose:!0,closesAt:R},function(){T.closeTimer=setTimeout(T.closeWithoutTimeout,T.state.closesAt-Date.now())})},T.closeWithoutTimeout=function(){T.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},T.afterClose)},T.handleKeyDown=function(R){F(R)&&(0,d.default)(T.content,R),T.props.shouldCloseOnEsc&&K(R)&&(R.stopPropagation(),T.requestClose(R))},T.handleOverlayOnClick=function(R){T.shouldClose===null&&(T.shouldClose=!0),T.shouldClose&&T.props.shouldCloseOnOverlayClick&&(T.ownerHandlesClose()?T.requestClose(R):T.focusContent()),T.shouldClose=null},T.handleContentOnMouseUp=function(){T.shouldClose=!1},T.handleOverlayOnMouseDown=function(R){!T.props.shouldCloseOnOverlayClick&&R.target==T.overlay&&R.preventDefault()},T.handleContentOnClick=function(){T.shouldClose=!1},T.handleContentOnMouseDown=function(){T.shouldClose=!1},T.requestClose=function(R){return T.ownerHandlesClose()&&T.props.onRequestClose(R)},T.ownerHandlesClose=function(){return T.props.onRequestClose},T.shouldBeClosed=function(){return!T.state.isOpen&&!T.state.beforeClose},T.contentHasFocus=function(){return document.activeElement===T.content||T.content.contains(document.activeElement)},T.buildClassName=function(R,$){var B=(typeof $>"u"?"undefined":r($))==="object"?$:{base:A[R],afterOpen:A[R]+"--after-open",beforeClose:A[R]+"--before-close"},Y=B.base;return T.state.afterOpen&&(Y=Y+" "+B.afterOpen),T.state.beforeClose&&(Y=Y+" "+B.beforeClose),typeof $=="string"&&$?Y+" "+$:Y},T.attributesFromObject=function(R,$){return Object.keys($).reduce(function(B,Y){return B[R+"-"+Y]=$[Y],B},{})},T.state={afterOpen:!1,beforeClose:!1},T.shouldClose=null,T.moveFromContentToOverlay=null,T}return i(z,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(T,R){this.props.isOpen&&!T.isOpen?this.open():!this.props.isOpen&&T.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!R.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var T=this.props,R=T.appElement,$=T.ariaHideApp,B=T.htmlOpenClassName,Y=T.bodyOpenClassName,te=T.parentSelector,me=te&&te().ownerDocument||document;Y&&v.add(me.body,Y),B&&v.add(me.getElementsByTagName("html")[0],B),$&&(H+=1,m.hide(R)),p.default.register(this)}},{key:"render",value:function(){var T=this.props,R=T.id,$=T.className,B=T.overlayClassName,Y=T.defaultStyles,te=T.children,me=$?{}:Y.content,ge=B?{}:Y.overlay;if(this.shouldBeClosed())return null;var He={ref:this.setOverlayRef,className:this.buildClassName("overlay",B),style:n({},ge,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},De=n({id:R,ref:this.setContentRef,style:n({},me,this.props.style.content),className:this.buildClassName("content",$),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),lt=this.props.contentElement(De,te);return this.props.overlayElement(He,lt)}}]),z}(s.Component);Q.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Q.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(_.default),a.default.instanceOf(E.SafeHTMLCollection),a.default.instanceOf(E.SafeNodeList),a.default.arrayOf(a.default.instanceOf(_.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=Q,t.exports=e.default})(dp,dp.exports);var h3=dp.exports;function DI(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function LI(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function MI(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}DI.__suppressDeprecationWarning=!0;LI.__suppressDeprecationWarning=!0;MI.__suppressDeprecationWarning=!0;function p3(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=DI,e.componentWillReceiveProps=LI),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=MI;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,d){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,c,f)}}return t}const m3=Object.freeze(Object.defineProperty({__proto__:null,polyfill:p3},Symbol.toStringTag,{value:"Module"})),g3=Ob(m3);Object.defineProperty(Di,"__esModule",{value:!0});Di.bodyOpenClassName=Di.portalClassName=void 0;var w0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_3=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),FI=k,cc=Ha(FI),y3=pm,dc=Ha(y3),v3=$g,Z=Ha(v3),w3=h3,E0=Ha(w3),E3=Sn,S3=T3(E3),br=_n,S0=Ha(br),C3=g3;function T3(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Ha(t){return t&&t.__esModule?t:{default:t}}function I3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function b3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x3=Di.portalClassName="ReactModalPortal",k3=Di.bodyOpenClassName="ReactModal__Body--open",ai=br.canUseDOM&&dc.default.createPortal!==void 0,T0=function(e){return document.createElement(e)},I0=function(){return ai?dc.default.createPortal:dc.default.unstable_renderSubtreeIntoContainer};function Il(t){return t()}var qa=function(t){b3(e,t);function e(){var n,r,i,s;I3(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=C0(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!ai&&dc.default.unmountComponentAtNode(i.node);var u=Il(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var c=I0(),d=c(i,cc.default.createElement(E0.default,w0({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(d)},r),C0(i,s)}return _3(e,[{key:"componentDidMount",value:function(){if(br.canUseDOM){ai||(this.node=T0("div")),this.node.className=this.props.portalClassName;var r=Il(this.props.parentSelector);r.appendChild(this.node),!ai&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=Il(r.parentSelector),s=Il(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(r,i,s){if(br.canUseDOM){var o=this.props,a=o.isOpen,l=o.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=s.prevParent,c=s.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!ai&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!br.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!br.canUseDOM||!ai)return null;!this.node&&ai&&(this.node=T0("div"));var r=I0();return r(cc.default.createElement(E0.default,w0({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){S3.setElement(r)}}]),e}(FI.Component);qa.propTypes={isOpen:Z.default.bool.isRequired,style:Z.default.shape({content:Z.default.object,overlay:Z.default.object}),portalClassName:Z.default.string,bodyOpenClassName:Z.default.string,htmlOpenClassName:Z.default.string,className:Z.default.oneOfType([Z.default.string,Z.default.shape({base:Z.default.string.isRequired,afterOpen:Z.default.string.isRequired,beforeClose:Z.default.string.isRequired})]),overlayClassName:Z.default.oneOfType([Z.default.string,Z.default.shape({base:Z.default.string.isRequired,afterOpen:Z.default.string.isRequired,beforeClose:Z.default.string.isRequired})]),appElement:Z.default.oneOfType([Z.default.instanceOf(S0.default),Z.default.instanceOf(br.SafeHTMLCollection),Z.default.instanceOf(br.SafeNodeList),Z.default.arrayOf(Z.default.instanceOf(S0.default))]),onAfterOpen:Z.default.func,onRequestClose:Z.default.func,closeTimeoutMS:Z.default.number,ariaHideApp:Z.default.bool,shouldFocusAfterRender:Z.default.bool,shouldCloseOnOverlayClick:Z.default.bool,shouldReturnFocusAfterClose:Z.default.bool,preventScroll:Z.default.bool,parentSelector:Z.default.func,aria:Z.default.object,data:Z.default.object,role:Z.default.string,contentLabel:Z.default.string,shouldCloseOnEsc:Z.default.bool,overlayRef:Z.default.func,contentRef:Z.default.func,id:Z.default.string,overlayElement:Z.default.func,contentElement:Z.default.func};qa.defaultProps={isOpen:!1,portalClassName:x3,bodyOpenClassName:k3,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return cc.default.createElement("div",e,n)},contentElement:function(e,n){return cc.default.createElement("div",e,n)}};qa.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,C3.polyfill)(qa);Di.default=qa;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Di,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(cp,cp.exports);var R3=cp.exports;const UI=js(R3);UI.setAppElement("#root-modal");const mp=({isOpen:t,onClose:e,children:n,title:r,text:i,textClassName:s})=>{const{isHeight:o}=ti(),a=r==="Log In"||r==="Registration"||r==="Hello"||r==="Update user profile",l=ne("fixed top-0 left-0 right-0 bottom-0 bg-skin-overlay bg-opacity-40 flex ","justify-center items-center z-50 overflow-hidden overflow-y-auto"),u=ne("absolute flex flex-col gap-10 transition-all duration-500 rounded-[30px]"," bg-skin-background-white xs:p-2 xs:pt-12 sm:p-8 lg:p-16 shadow-lg w-[96%]","max-w-[600px]",{"scale-100":t,"scale-75":!t,"max-w-[565px]":a,"top-2 bottom-2 overflow-hidden lg:pr-8":o&&!a,"top-1/2 transform -translate-y-1/2":!o||a}),c=ne("flex flex-col gap-10",{"custom-scrollbar overflow-hidden overflow-y-auto":o,"pr-6":o&&!a}),d=ne("font-normal leading-[125%] text-skin-secondary",s||"xs:text-sm xl:text-base");return b.jsx(UI,{isOpen:t,onRequestClose:e,closeTimeoutMS:100,overlayClassName:l,className:u,children:b.jsxs("div",{className:c,children:[b.jsx("button",{onClick:e,className:"absolute right-5 top-1 h-8 w-8",type:"button",children:b.jsx("svg",{className:"absolute h-8 w-8 fill-transparent stroke-skin-base-text",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",children:b.jsx("use",{xlinkHref:`${lc}#icon-close`})})}),b.jsxs("div",{className:"w-full xl:max-w-[500px]",children:[b.jsx("h2",{className:"mb-5 xs:text-2xl sm:text-3xl xl:text-4xl",children:r}),b.jsx("p",{className:d,children:i})]}),n]})})};var Ga=t=>t.type==="checkbox",us=t=>t instanceof Date,ft=t=>t==null;const jI=t=>typeof t=="object";var We=t=>!ft(t)&&!Array.isArray(t)&&jI(t)&&!us(t),$I=t=>We(t)&&t.target?Ga(t.target)?t.target.checked:t.target.value:t,O3=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,VI=(t,e)=>t.has(O3(e)),N3=t=>{const e=t.constructor&&t.constructor.prototype;return We(e)&&e.hasOwnProperty("isPrototypeOf")},Wg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vt(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Wg&&(t instanceof Blob||t instanceof FileList))&&(n||We(t)))if(e=n?[]:{},!n&&!N3(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=vt(t[r]));else return t;return e}var Ka=t=>Array.isArray(t)?t.filter(Boolean):[],Oe=t=>t===void 0,M=(t,e,n)=>{if(!e||!We(t))return n;const r=Ka(e.split(/[,[\].]+?/)).reduce((i,s)=>ft(i)?i:i[s],t);return Oe(r)||r===t?Oe(t[e])?n:t[e]:r},xn=t=>typeof t=="boolean",Hg=t=>/^\w*$/.test(t),zI=t=>Ka(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(t,e,n)=>{let r=-1;const i=Hg(e)?[e]:zI(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=We(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const fc={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Un={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},P3=q.createContext(null),qg=()=>q.useContext(P3);var BI=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==cn.all&&(e._proxyFormState[o]=!r||cn.all),n&&(n[o]=!0),t[o]}});return i},Pt=t=>We(t)&&!Object.keys(t).length,WI=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Pt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||cn.all))},tu=t=>Array.isArray(t)?t:[t],HI=(t,e,n)=>!t||!e||t===e||tu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Gg(t){const e=q.useRef(t);e.current=t,q.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function A3(t){const e=qg(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=q.useState(n._formState),l=q.useRef(!0),u=q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=q.useRef(i);return c.current=i,Gg({disabled:r,next:d=>l.current&&HI(c.current,d.name,s)&&WI(d,u.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),q.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),BI(o,n,u.current,!1)}var Rn=t=>typeof t=="string",qI=(t,e,n,r,i)=>Rn(t)?(r&&e.watch.add(t),M(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),M(n,s))):(r&&(e.watchAll=!0),n);function GI(t){const e=qg(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=q.useRef(r);a.current=r,Gg({disabled:s,subject:n._subjects.values,next:c=>{HI(a.current,c.name,o)&&u(vt(qI(a.current,n._names,c.values||n._formValues,!1,i)))}});const[l,u]=q.useState(n._getWatch(r,i));return q.useEffect(()=>n._removeUnmounted()),l}function D3(t){const e=qg(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=VI(i._names.array,n),a=GI({control:i,name:n,defaultValue:M(i._formValues,n,M(i._defaultValues,n,t.defaultValue)),exact:!0}),l=A3({control:i,name:n}),u=q.useRef(i.register(n,{...t.rules,value:a,...xn(t.disabled)?{disabled:t.disabled}:{}}));return q.useEffect(()=>{const c=i._options.shouldUnregister||s,d=(f,m)=>{const g=M(i._fields,f);g&&(g._f.mount=m)};if(d(n,!0),c){const f=vt(M(i._options.defaultValues,n));_e(i._defaultValues,n,f),Oe(M(i._formValues,n))&&_e(i._formValues,n,f)}return()=>{(o?c&&!i._state.action:c)?i.unregister(n):d(n,!1)}},[n,i,o,s]),q.useEffect(()=>{M(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:M(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...xn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:q.useCallback(c=>u.current.onChange({target:{value:$I(c),name:n},type:fc.CHANGE}),[n]),onBlur:q.useCallback(()=>u.current.onBlur({target:{value:M(i._formValues,n),name:n},type:fc.BLUR}),[n,i]),ref:c=>{const d=M(i._fields,n);d&&c&&(d._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:f=>c.setCustomValidity(f),reportValidity:()=>c.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!M(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!M(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!M(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!M(l.validatingFields,n)},error:{enumerable:!0,get:()=>M(l.errors,n)}})}}const GV=t=>t.render(D3(t));var KI=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},b0=t=>({isOnSubmit:!t||t===cn.onSubmit,isOnBlur:t===cn.onBlur,isOnChange:t===cn.onChange,isOnAll:t===cn.all,isOnTouch:t===cn.onTouched}),x0=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const zo=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=M(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;zo(a,e)}else We(a)&&zo(a,e)}}};var L3=(t,e,n)=>{const r=Ka(M(t,n));return _e(r,"root",e[n]),_e(t,n,r),t},Kg=t=>t.type==="file",xr=t=>typeof t=="function",hc=t=>{if(!Wg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},nu=t=>Rn(t),Yg=t=>t.type==="radio",pc=t=>t instanceof RegExp;const k0={value:!1,isValid:!1},R0={value:!0,isValid:!0};var YI=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Oe(t[0].attributes.value)?Oe(t[0].value)||t[0].value===""?R0:{value:t[0].value,isValid:!0}:R0:k0}return k0};const O0={isValid:!1,value:null};var QI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,O0):O0;function N0(t,e,n="validate"){if(nu(t)||Array.isArray(t)&&t.every(nu)||xn(t)&&!t)return{type:n,message:nu(t)?t:"",ref:e}}var Hi=t=>We(t)&&!pc(t)?t:{value:t,message:""},P0=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:m,name:g,valueAsNumber:v,mount:E,disabled:_}=t._f,h=M(e,g);if(!E||_)return{};const p=o?o[0]:s,y=H=>{r&&p.reportValidity&&(p.setCustomValidity(xn(H)?"":H||""),p.reportValidity())},S={},x=Yg(s),N=Ga(s),C=x||N,A=(v||Kg(s))&&Oe(s.value)&&Oe(h)||hc(s)&&s.value===""||h===""||Array.isArray(h)&&!h.length,F=KI.bind(null,g,n,S),K=(H,Q,U,z=Un.maxLength,ee=Un.minLength)=>{const T=H?Q:U;S[g]={type:H?z:ee,message:T,ref:s,...F(H?z:ee,T)}};if(i?!Array.isArray(h)||!h.length:a&&(!C&&(A||ft(h))||xn(h)&&!h||N&&!YI(o).isValid||x&&!QI(o).isValid)){const{value:H,message:Q}=nu(a)?{value:!!a,message:a}:Hi(a);if(H&&(S[g]={type:Un.required,message:Q,ref:p,...F(Un.required,Q)},!n))return y(Q),S}if(!A&&(!ft(c)||!ft(d))){let H,Q;const U=Hi(d),z=Hi(c);if(!ft(h)&&!isNaN(h)){const ee=s.valueAsNumber||h&&+h;ft(U.value)||(H=ee>U.value),ft(z.value)||(Q=ee<z.value)}else{const ee=s.valueAsDate||new Date(h),T=B=>new Date(new Date().toDateString()+" "+B),R=s.type=="time",$=s.type=="week";Rn(U.value)&&h&&(H=R?T(h)>T(U.value):$?h>U.value:ee>new Date(U.value)),Rn(z.value)&&h&&(Q=R?T(h)<T(z.value):$?h<z.value:ee<new Date(z.value))}if((H||Q)&&(K(!!H,U.message,z.message,Un.max,Un.min),!n))return y(S[g].message),S}if((l||u)&&!A&&(Rn(h)||i&&Array.isArray(h))){const H=Hi(l),Q=Hi(u),U=!ft(H.value)&&h.length>+H.value,z=!ft(Q.value)&&h.length<+Q.value;if((U||z)&&(K(U,H.message,Q.message),!n))return y(S[g].message),S}if(f&&!A&&Rn(h)){const{value:H,message:Q}=Hi(f);if(pc(H)&&!h.match(H)&&(S[g]={type:Un.pattern,message:Q,ref:s,...F(Un.pattern,Q)},!n))return y(Q),S}if(m){if(xr(m)){const H=await m(h,e),Q=N0(H,p);if(Q&&(S[g]={...Q,...F(Un.validate,Q.message)},!n))return y(Q.message),S}else if(We(m)){let H={};for(const Q in m){if(!Pt(H)&&!n)break;const U=N0(await m[Q](h,e),p,Q);U&&(H={...U,...F(Q,U.message)},y(U.message),n&&(S[g]=H))}if(!Pt(H)&&(S[g]={ref:p,...H},!n))return S}}return y(!0),S};function M3(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Oe(t)?r++:t[e[r++]];return t}function F3(t){for(const e in t)if(t.hasOwnProperty(e)&&!Oe(t[e]))return!1;return!0}function je(t,e){const n=Array.isArray(e)?e:Hg(e)?[e]:zI(e),r=n.length===1?t:M3(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(We(r)&&Pt(r)||Array.isArray(r)&&F3(r))&&je(t,n.slice(0,-1)),t}var bf=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},mc=t=>ft(t)||!jI(t);function hi(t,e){if(mc(t)||mc(e))return t===e;if(us(t)&&us(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(us(s)&&us(o)||We(s)&&We(o)||Array.isArray(s)&&Array.isArray(o)?!hi(s,o):s!==o)return!1}}return!0}var XI=t=>t.type==="select-multiple",U3=t=>Yg(t)||Ga(t),xf=t=>hc(t)&&t.isConnected,JI=t=>{for(const e in t)if(xr(t[e]))return!0;return!1};function gc(t,e={}){const n=Array.isArray(t);if(We(t)||n)for(const r in t)Array.isArray(t[r])||We(t[r])&&!JI(t[r])?(e[r]=Array.isArray(t[r])?[]:{},gc(t[r],e[r])):ft(t[r])||(e[r]=!0);return e}function ZI(t,e,n){const r=Array.isArray(t);if(We(t)||r)for(const i in t)Array.isArray(t[i])||We(t[i])&&!JI(t[i])?Oe(e)||mc(n[i])?n[i]=Array.isArray(t[i])?gc(t[i],[]):{...gc(t[i])}:ZI(t[i],ft(e)?{}:e[i],n[i]):n[i]=!hi(t[i],e[i]);return n}var bl=(t,e)=>ZI(t,e,gc(e)),eb=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Oe(t)?t:e?t===""?NaN:t&&+t:n&&Rn(t)?new Date(t):r?r(t):t;function kf(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Kg(e)?e.files:Yg(e)?QI(t.refs).value:XI(e)?[...e.selectedOptions].map(({value:n})=>n):Ga(e)?YI(t.refs).value:eb(Oe(e.value)?t.ref.value:e.value,t)}var j3=(t,e,n,r)=>{const i={};for(const s of t){const o=M(e,s);o&&_e(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},po=t=>Oe(t)?t:pc(t)?t.source:We(t)?pc(t.value)?t.value.source:t.value:t,$3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function A0(t,e,n){const r=M(t,n);if(r||Hg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=M(e,s),a=M(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var V3=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,z3=(t,e)=>!Ka(M(t,e)).length&&je(t,e);const B3={mode:cn.onSubmit,reValidateMode:cn.onChange,shouldFocusError:!0};function W3(t={}){let e={...B3,...t},n={submitCount:0,isDirty:!1,isLoading:xr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=We(e.defaultValues)||We(e.values)?vt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:vt(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:bf(),array:bf(),state:bf()},f=b0(e.mode),m=b0(e.reValidateMode),g=e.criteriaMode===cn.all,v=w=>I=>{clearTimeout(u),u=setTimeout(w,I)},E=async w=>{if(c.isValid||w){const I=e.resolver?Pt((await C()).errors):await F(r,!0);I!==n.isValid&&d.state.next({isValid:I})}},_=(w,I)=>{(c.isValidating||c.validatingFields)&&((w||Array.from(a.mount)).forEach(O=>{O&&(I?_e(n.validatingFields,O,I):je(n.validatingFields,O))}),d.state.next({validatingFields:n.validatingFields,isValidating:!Pt(n.validatingFields)}))},h=(w,I=[],O,V,j=!0,D=!0)=>{if(V&&O){if(o.action=!0,D&&Array.isArray(M(r,w))){const G=O(M(r,w),V.argA,V.argB);j&&_e(r,w,G)}if(D&&Array.isArray(M(n.errors,w))){const G=O(M(n.errors,w),V.argA,V.argB);j&&_e(n.errors,w,G),z3(n.errors,w)}if(c.touchedFields&&D&&Array.isArray(M(n.touchedFields,w))){const G=O(M(n.touchedFields,w),V.argA,V.argB);j&&_e(n.touchedFields,w,G)}c.dirtyFields&&(n.dirtyFields=bl(i,s)),d.state.next({name:w,isDirty:H(w,I),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _e(s,w,I)},p=(w,I)=>{_e(n.errors,w,I),d.state.next({errors:n.errors})},y=w=>{n.errors=w,d.state.next({errors:n.errors,isValid:!1})},S=(w,I,O,V)=>{const j=M(r,w);if(j){const D=M(s,w,Oe(O)?M(i,w):O);Oe(D)||V&&V.defaultChecked||I?_e(s,w,I?D:kf(j._f)):z(w,D),o.mount&&E()}},x=(w,I,O,V,j)=>{let D=!1,G=!1;const he={name:w},Fe=!!(M(r,w)&&M(r,w)._f.disabled);if(!O||V){c.isDirty&&(G=n.isDirty,n.isDirty=he.isDirty=H(),D=G!==he.isDirty);const Nt=Fe||hi(M(i,w),I);G=!!(!Fe&&M(n.dirtyFields,w)),Nt||Fe?je(n.dirtyFields,w):_e(n.dirtyFields,w,!0),he.dirtyFields=n.dirtyFields,D=D||c.dirtyFields&&G!==!Nt}if(O){const Nt=M(n.touchedFields,w);Nt||(_e(n.touchedFields,w,O),he.touchedFields=n.touchedFields,D=D||c.touchedFields&&Nt!==O)}return D&&j&&d.state.next(he),D?he:{}},N=(w,I,O,V)=>{const j=M(n.errors,w),D=c.isValid&&xn(I)&&n.isValid!==I;if(t.delayError&&O?(l=v(()=>p(w,O)),l(t.delayError)):(clearTimeout(u),l=null,O?_e(n.errors,w,O):je(n.errors,w)),(O?!hi(j,O):j)||!Pt(V)||D){const G={...V,...D&&xn(I)?{isValid:I}:{},errors:n.errors,name:w};n={...n,...G},d.state.next(G)}},C=async w=>{_(w,!0);const I=await e.resolver(s,e.context,j3(w||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(w),I},A=async w=>{const{errors:I}=await C(w);if(w)for(const O of w){const V=M(I,O);V?_e(n.errors,O,V):je(n.errors,O)}else n.errors=I;return I},F=async(w,I,O={valid:!0})=>{for(const V in w){const j=w[V];if(j){const{_f:D,...G}=j;if(D){const he=a.array.has(D.name);_([V],!0);const Fe=await P0(j,s,g,e.shouldUseNativeValidation&&!I,he);if(_([V]),Fe[D.name]&&(O.valid=!1,I))break;!I&&(M(Fe,D.name)?he?L3(n.errors,Fe,D.name):_e(n.errors,D.name,Fe[D.name]):je(n.errors,D.name))}G&&await F(G,I,O)}}return O.valid},K=()=>{for(const w of a.unMount){const I=M(r,w);I&&(I._f.refs?I._f.refs.every(O=>!xf(O)):!xf(I._f.ref))&&De(w)}a.unMount=new Set},H=(w,I)=>(w&&I&&_e(s,w,I),!hi(Y(),i)),Q=(w,I,O)=>qI(w,a,{...o.mount?s:Oe(I)?i:Rn(w)?{[w]:I}:I},O,I),U=w=>Ka(M(o.mount?s:i,w,t.shouldUnregister?M(i,w,[]):[])),z=(w,I,O={})=>{const V=M(r,w);let j=I;if(V){const D=V._f;D&&(!D.disabled&&_e(s,w,eb(I,D)),j=hc(D.ref)&&ft(I)?"":I,XI(D.ref)?[...D.ref.options].forEach(G=>G.selected=j.includes(G.value)):D.refs?Ga(D.ref)?D.refs.length>1?D.refs.forEach(G=>(!G.defaultChecked||!G.disabled)&&(G.checked=Array.isArray(j)?!!j.find(he=>he===G.value):j===G.value)):D.refs[0]&&(D.refs[0].checked=!!j):D.refs.forEach(G=>G.checked=G.value===j):Kg(D.ref)?D.ref.value="":(D.ref.value=j,D.ref.type||d.values.next({name:w,values:{...s}})))}(O.shouldDirty||O.shouldTouch)&&x(w,j,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&B(w)},ee=(w,I,O)=>{for(const V in I){const j=I[V],D=`${w}.${V}`,G=M(r,D);(a.array.has(w)||!mc(j)||G&&!G._f)&&!us(j)?ee(D,j,O):z(D,j,O)}},T=(w,I,O={})=>{const V=M(r,w),j=a.array.has(w),D=vt(I);_e(s,w,D),j?(d.array.next({name:w,values:{...s}}),(c.isDirty||c.dirtyFields)&&O.shouldDirty&&d.state.next({name:w,dirtyFields:bl(i,s),isDirty:H(w,D)})):V&&!V._f&&!ft(D)?ee(w,D,O):z(w,D,O),x0(w,a)&&d.state.next({...n}),d.values.next({name:o.mount?w:void 0,values:{...s}})},R=async w=>{o.mount=!0;const I=w.target;let O=I.name,V=!0;const j=M(r,O),D=()=>I.type?kf(j._f):$I(w),G=he=>{V=Number.isNaN(he)||he===M(s,O,he)};if(j){let he,Fe;const Nt=D(),zi=w.type===fc.BLUR||w.type===fc.FOCUS_OUT,Tb=!$3(j._f)&&!e.resolver&&!M(n.errors,O)&&!j._f.deps||V3(zi,M(n.touchedFields,O),n.isSubmitted,m,f),Cd=x0(O,a,zi);_e(s,O,Nt),zi?(j._f.onBlur&&j._f.onBlur(w),l&&l(0)):j._f.onChange&&j._f.onChange(w);const Td=x(O,Nt,zi,!1),Ib=!Pt(Td)||Cd;if(!zi&&d.values.next({name:O,type:w.type,values:{...s}}),Tb)return c.isValid&&E(),Ib&&d.state.next({name:O,...Cd?{}:Td});if(!zi&&Cd&&d.state.next({...n}),e.resolver){const{errors:l_}=await C([O]);if(G(Nt),V){const bb=A0(n.errors,r,O),u_=A0(l_,r,bb.name||O);he=u_.error,O=u_.name,Fe=Pt(l_)}}else _([O],!0),he=(await P0(j,s,g,e.shouldUseNativeValidation))[O],_([O]),G(Nt),V&&(he?Fe=!1:c.isValid&&(Fe=await F(r,!0)));V&&(j._f.deps&&B(j._f.deps),N(O,Fe,he,Td))}},$=(w,I)=>{if(M(n.errors,I)&&w.focus)return w.focus(),1},B=async(w,I={})=>{let O,V;const j=tu(w);if(e.resolver){const D=await A(Oe(w)?w:j);O=Pt(D),V=w?!j.some(G=>M(D,G)):O}else w?(V=(await Promise.all(j.map(async D=>{const G=M(r,D);return await F(G&&G._f?{[D]:G}:G)}))).every(Boolean),!(!V&&!n.isValid)&&E()):V=O=await F(r);return d.state.next({...!Rn(w)||c.isValid&&O!==n.isValid?{}:{name:w},...e.resolver||!w?{isValid:O}:{},errors:n.errors}),I.shouldFocus&&!V&&zo(r,$,w?j:a.mount),V},Y=w=>{const I={...o.mount?s:i};return Oe(w)?I:Rn(w)?M(I,w):w.map(O=>M(I,O))},te=(w,I)=>({invalid:!!M((I||n).errors,w),isDirty:!!M((I||n).dirtyFields,w),isTouched:!!M((I||n).touchedFields,w),isValidating:!!M((I||n).validatingFields,w),error:M((I||n).errors,w)}),me=w=>{w&&tu(w).forEach(I=>je(n.errors,I)),d.state.next({errors:w?n.errors:{}})},ge=(w,I,O)=>{const V=(M(r,w,{_f:{}})._f||{}).ref,j=M(n.errors,w)||{},{ref:D,message:G,type:he,...Fe}=j;_e(n.errors,w,{...Fe,...I,ref:V}),d.state.next({name:w,errors:n.errors,isValid:!1}),O&&O.shouldFocus&&V&&V.focus&&V.focus()},He=(w,I)=>xr(w)?d.values.subscribe({next:O=>w(Q(void 0,I),O)}):Q(w,I,!0),De=(w,I={})=>{for(const O of w?tu(w):a.mount)a.mount.delete(O),a.array.delete(O),I.keepValue||(je(r,O),je(s,O)),!I.keepError&&je(n.errors,O),!I.keepDirty&&je(n.dirtyFields,O),!I.keepTouched&&je(n.touchedFields,O),!I.keepIsValidating&&je(n.validatingFields,O),!e.shouldUnregister&&!I.keepDefaultValue&&je(i,O);d.values.next({values:{...s}}),d.state.next({...n,...I.keepDirty?{isDirty:H()}:{}}),!I.keepIsValid&&E()},lt=({disabled:w,name:I,field:O,fields:V,value:j})=>{if(xn(w)&&o.mount||w){const D=w?void 0:Oe(j)?kf(O?O._f:M(V,I)._f):j;_e(s,I,D),x(I,D,!1,!1,!0)}},Zs=(w,I={})=>{let O=M(r,w);const V=xn(I.disabled);return _e(r,w,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:w}},name:w,mount:!0,...I}}),a.mount.add(w),O?lt({field:O,disabled:I.disabled,name:w,value:I.value}):S(w,!0,I.value),{...V?{disabled:I.disabled}:{},...e.progressive?{required:!!I.required,min:po(I.min),max:po(I.max),minLength:po(I.minLength),maxLength:po(I.maxLength),pattern:po(I.pattern)}:{},name:w,onChange:R,onBlur:R,ref:j=>{if(j){Zs(w,I),O=M(r,w);const D=Oe(j.value)&&j.querySelectorAll&&j.querySelectorAll("input,select,textarea")[0]||j,G=U3(D),he=O._f.refs||[];if(G?he.find(Fe=>Fe===D):D===O._f.ref)return;_e(r,w,{_f:{...O._f,...G?{refs:[...he.filter(xf),D,...Array.isArray(M(i,w))?[{}]:[]],ref:{type:D.type,name:w}}:{ref:D}}}),S(w,!1,void 0,D)}else O=M(r,w,{}),O._f&&(O._f.mount=!1),(e.shouldUnregister||I.shouldUnregister)&&!(VI(a.array,w)&&o.action)&&a.unMount.add(w)}}},i_=()=>e.shouldFocusError&&zo(r,$,a.mount),Sb=w=>{xn(w)&&(d.state.next({disabled:w}),zo(r,(I,O)=>{const V=M(r,O);V&&(I.disabled=V._f.disabled||w,Array.isArray(V._f.refs)&&V._f.refs.forEach(j=>{j.disabled=V._f.disabled||w}))},0,!1))},s_=(w,I)=>async O=>{let V;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let j=vt(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:D,values:G}=await C();n.errors=D,j=G}else await F(r);if(je(n.errors,"root"),Pt(n.errors)){d.state.next({errors:{}});try{await w(j,O)}catch(D){V=D}}else I&&await I({...n.errors},O),i_(),setTimeout(i_);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pt(n.errors)&&!V,submitCount:n.submitCount+1,errors:n.errors}),V)throw V},Cb=(w,I={})=>{M(r,w)&&(Oe(I.defaultValue)?T(w,vt(M(i,w))):(T(w,I.defaultValue),_e(i,w,vt(I.defaultValue))),I.keepTouched||je(n.touchedFields,w),I.keepDirty||(je(n.dirtyFields,w),n.isDirty=I.defaultValue?H(w,vt(M(i,w))):H()),I.keepError||(je(n.errors,w),c.isValid&&E()),d.state.next({...n}))},o_=(w,I={})=>{const O=w?vt(w):i,V=vt(O),j=Pt(w),D=j?i:V;if(I.keepDefaultValues||(i=O),!I.keepValues){if(I.keepDirtyValues)for(const G of a.mount)M(n.dirtyFields,G)?_e(D,G,M(s,G)):T(G,M(D,G));else{if(Wg&&Oe(w))for(const G of a.mount){const he=M(r,G);if(he&&he._f){const Fe=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(hc(Fe)){const Nt=Fe.closest("form");if(Nt){Nt.reset();break}}}}r={}}s=t.shouldUnregister?I.keepDefaultValues?vt(i):{}:vt(D),d.array.next({values:{...D}}),d.values.next({values:{...D}})}a={mount:I.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!I.keepIsValid||!!I.keepDirtyValues,o.watch=!!t.shouldUnregister,d.state.next({submitCount:I.keepSubmitCount?n.submitCount:0,isDirty:j?!1:I.keepDirty?n.isDirty:!!(I.keepDefaultValues&&!hi(w,i)),isSubmitted:I.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:j?[]:I.keepDirtyValues?I.keepDefaultValues&&s?bl(i,s):n.dirtyFields:I.keepDefaultValues&&w?bl(i,w):{},touchedFields:I.keepTouched?n.touchedFields:{},errors:I.keepErrors?n.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},a_=(w,I)=>o_(xr(w)?w(s):w,I);return{control:{register:Zs,unregister:De,getFieldState:te,handleSubmit:s_,setError:ge,_executeSchema:C,_getWatch:Q,_getDirty:H,_updateValid:E,_removeUnmounted:K,_updateFieldArray:h,_updateDisabledField:lt,_getFieldArray:U,_reset:o_,_resetDefaultValues:()=>xr(e.defaultValues)&&e.defaultValues().then(w=>{a_(w,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:w=>{n={...n,...w}},_disableForm:Sb,_subjects:d,_proxyFormState:c,_setErrors:y,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(w){o=w},get _defaultValues(){return i},get _names(){return a},set _names(w){a=w},get _formState(){return n},set _formState(w){n=w},get _options(){return e},set _options(w){e={...e,...w}}},trigger:B,register:Zs,handleSubmit:s_,watch:He,setValue:T,getValues:Y,reset:a_,resetField:Cb,clearErrors:me,unregister:De,setError:ge,setFocus:(w,I={})=>{const O=M(r,w),V=O&&O._f;if(V){const j=V.refs?V.refs[0]:V.ref;j.focus&&(j.focus(),I.shouldSelect&&j.select())}},getFieldState:te}}function Qg(t={}){const e=q.useRef(),n=q.useRef(),[r,i]=q.useState({isDirty:!1,isValidating:!1,isLoading:xr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:xr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...W3(t),formState:r});const s=e.current.control;return s._options=t,Gg({subject:s._subjects.state,next:o=>{WI(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),q.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),q.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),q.useEffect(()=>{t.values&&!hi(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),q.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),q.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),q.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=BI(r,s),e.current}const H3=({togglePasswordVisibility:t,showPassword:e})=>b.jsx("button",{onClick:t,type:"button",className:"absolute right-4 top-1/2 h-5 w-5 -translate-y-1/2 transform cursor-pointer",children:e?b.jsx("svg",{className:"h-5 w-5 fill-transparent stroke-skin-base-text",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",children:b.jsx("use",{xlinkHref:`${lc}#icon-eye`})}):b.jsx("svg",{className:"fill:none h-5 w-5 fill-transparent stroke-skin-base-text",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",children:b.jsx("use",{xlinkHref:`${lc}#icon-eye-c`})})}),Xg=({register:t,required:e=!1,errors:n,showPassword:r=!1,togglePasswordVisibility:i=null,id:s,type:o,placeholder:a,labelClasses:l="",inputClasses:u="",errorClasses:c="",templateArea:d=""})=>{const f=n[s]&&"message"in n[s]?n[s].message:null;return b.jsxs("label",{style:{gridArea:d},className:`relative w-full ${l}`,htmlFor:s,children:[b.jsx("input",{className:ne("active:outline-skin-primary focus:outline-skin-primary w-full rounded-[12px]","border border-skin-grey border-opacity-20 px-[18px] py-[15px] leading-[125%]","placeholder:font-normal placeholder:text-skin-base hover:border-skin-primary","bg-skin-background-white focus:border-skin-primary active:border-skin-primary",` ${u}`),id:s,placeholder:a,type:o,...t(s,{required:e})}),f&&b.jsx("p",{className:`absolute text-center text-sm text-red-500 ${c}`,children:f}),s==="password"&&b.jsx(H3,{showPassword:r,togglePasswordVisibility:i})]})},Us=({type:t,primary:e=!0,onClick:n,className:r,children:i,text:s,templateArea:o=!1,disabled:a})=>{const l=o?{gridArea:"button"}:{};return b.jsxs("button",{style:l,type:t,onClick:n,disabled:a,className:ne("flex h-[52px] w-full min-w-[124px] items-center justify-center",`rounded-[30px] transition-all duration-300 disabled:opacity-60 ${r}`,{"bg-skin-background hover:bg-skin-background-white":e,"hover:text-skin-theme":e,"bg-skin-background-muted border hover:bg-skin-background":!e,"border-opacity-40 text-skin-inverted hover:bg-opacity-40":!e,"border-skin-inverted":!e}),children:[s,i]})};var D0=function(t,e,n){if(t&&"reportValidity"in t){var r=M(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},tb=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?D0(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return D0(o,i,t)})};for(var r in e.fields)n(r)},q3=function(t){return t instanceof Date},G3=function(t){return t==null},K3=function(t){return typeof t=="object"},Y3=function(t){return!G3(t)&&!Array.isArray(t)&&K3(t)&&!q3(t)},Q3=function(t){return/^\w*$/.test(t)},Rf=function(t,e,n){for(var r=-1,i=Q3(e)?[e]:function(c){return d=c.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(d)?d.filter(Boolean):[];var d}(e),s=i.length,o=s-1;++r<s;){var a=i[r],l=n;if(r!==o){var u=t[a];l=Y3(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},X3=function(t,e){e.shouldUseNativeValidation&&tb(t,e);var n={};for(var r in t){var i=M(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(J3(e.names||Object.keys(t),r)){var o=Object.assign({},M(n,r));Rf(o,"root",s),Rf(n,r,o)}else Rf(n,r,s)}return n},J3=function(t,e){return t.some(function(n){return n.startsWith(e+".")})};function Jg(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=(e.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:i}))).then(function(u){return s.shouldUseNativeValidation&&tb({},s),{values:n.raw?r:u,errors:{}}}))}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:X3((a=o,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(a.inner||[]).reduce(function(u,c){if(u[c.path]||(u[c.path]={message:c.message,type:c.type}),l){var d=u[c.path].types,f=d&&d[c.type];u[c.path]=KI(c.path,l,u,c.type,f?[].concat(f,c.message):c.message)}return u},{})),s)};var a,l}))}catch(o){return Promise.reject(o)}}}function $i(t){this._maxSize=t,this.clear()}$i.prototype.clear=function(){this._size=0,this._values=Object.create(null)};$i.prototype.get=function(t){return this._values[t]};$i.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Z3=/[^.^\]^[]+|(?=\[\]|\.\.)/g,nb=/^\d+$/,e4=/^\d/,t4=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,n4=/^\s*(['"]?)(.*?)(\1)\s*$/,Zg=512,L0=new $i(Zg),M0=new $i(Zg),F0=new $i(Zg),wi={Cache:$i,split:gp,normalizePath:Of,setter:function(t){var e=Of(t);return M0.get(t)||M0.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Of(t);return F0.get(t)||F0.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(e_(n)||nb.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){r4(Array.isArray(t)?t:gp(t),e,n)}};function Of(t){return L0.get(t)||L0.set(t,gp(t).map(function(e){return e.replace(n4,"$2")}))}function gp(t){return t.match(Z3)||[""]}function r4(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(o4(i)&&(i='"'+i+'"'),a=e_(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function e_(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function i4(t){return t.match(e4)&&!t.match(nb)}function s4(t){return t4.test(t)}function o4(t){return!e_(t)&&(i4(t)||s4(t))}const a4=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,wd=t=>t.match(a4)||[],Ed=t=>t[0].toUpperCase()+t.slice(1),t_=(t,e)=>wd(t).join(e).toLowerCase(),rb=t=>wd(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),l4=t=>Ed(rb(t)),u4=t=>t_(t,"_"),c4=t=>t_(t,"-"),d4=t=>Ed(t_(t," ")),f4=t=>wd(t).map(Ed).join(" ");var Nf={words:wd,upperFirst:Ed,camelCase:rb,pascalCase:l4,snakeCase:u4,kebabCase:c4,sentenceCase:d4,titleCase:f4},n_={exports:{}};n_.exports=function(t){return ib(h4(t),t)};n_.exports.array=ib;function ib(t,e){var n=t.length,r=new Array(n),i={},s=n,o=p4(e),a=m4(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,d){if(d.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var m=o.get(u)||new Set;if(m=Array.from(m),c=m.length){d.add(u);do{var g=m[--c];l(g,a.get(g),d)}while(c);d.delete(u)}r[--n]=u}}}function h4(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function p4(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function m4(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var g4=n_.exports;const _4=js(g4),y4=Object.prototype.toString,v4=Error.prototype.toString,w4=RegExp.prototype.toString,E4=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",S4=/^Symbol\((.*)\)(.*)$/;function C4(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function U0(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return C4(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return E4.call(t).replace(S4,"Symbol($1)");const r=y4.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+v4.call(t)+"]":r==="RegExp"?w4.call(t):null}function Vr(t,e){let n=U0(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=U0(this[r],e);return s!==null?s:i},2)}function sb(t){return t==null?[]:[].concat(t)}let ob,ab,lb,T4=/\$\{\s*(\w+)\s*\}/g;ob=Symbol.toStringTag;class j0{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ob]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],sb(e).forEach(s=>{if(St.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}ab=Symbol.hasInstance;lb=Symbol.toStringTag;class St extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(T4,(i,s)=>Vr(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new j0(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[lb]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,St)}static[ab](e){return j0[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let In={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Vr(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Vr(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Vr(n,!0)}\``+i}},yt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},I4={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},_p={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},b4={isValue:"${path} field must be ${value}"},yp={noUnknown:"${path} field has unspecified keys: ${unknown}"},x4={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},k4={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Vr(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Vr(n,!0)}\``}return St.formatError(In.notType,t)}};Object.assign(Object.create(null),{mixed:In,string:yt,number:I4,date:_p,object:yp,array:x4,boolean:b4,tuple:k4});const r_=t=>t&&t.__isYupSchema__;class _c{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new _c(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!r_(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const xl={context:"$",value:"."};class Vi{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===xl.context,this.isValue=this.key[0]===xl.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?xl.context:this.isValue?xl.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&wi.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Vi.prototype.__isYupRef=!0;const pi=t=>t==null;function qi(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:d,message:f,skipAbsent:m}=t;let{parent:g,context:v,abortEarly:E=o.spec.abortEarly,disableStackTrace:_=o.spec.disableStackTrace}=i;function h(K){return Vi.isRef(K)?K.getValue(n,g,v):K}function p(K={}){const H=Object.assign({value:n,originalValue:s,label:o.spec.label,path:K.path||r,spec:o.spec,disableStackTrace:K.disableStackTrace||_},d,K.params);for(const U of Object.keys(H))H[U]=h(H[U]);const Q=new St(St.formatError(K.message||f,H),n,H.path,K.type||u,H.disableStackTrace);return Q.params=H,Q}const y=E?a:l;let S={path:r,parent:g,type:u,from:i.from,createError:p,resolve:h,options:i,originalValue:s,schema:o};const x=K=>{St.isError(K)?y(K):K?l(null):y(p())},N=K=>{St.isError(K)?y(K):a(K)};if(m&&pi(n))return x(!0);let A;try{var F;if(A=c.call(S,n,S),typeof((F=A)==null?void 0:F.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${S.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(A).then(x,N)}}catch(K){N(K);return}x(A)}return e.OPTIONS=t,e}function R4(t,e,n,r=n){let i,s,o;return e?(wi.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",f=u?parseInt(c,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=d?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class yc extends Set{describe(){const e=[];for(const n of this.values())e.push(Vi.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new yc(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function cs(t,e=new Map){if(r_(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=cs(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,cs(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(cs(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=cs(i,e)}else throw Error(`Unable to clone ${t}`);return n}class wn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new yc,this._blacklist=new yc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(In.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=cs(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&pi(s))return s;let o=Vr(e),a=Vr(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=v=>{i||(i=!0,n(v,o))},d=v=>{i||(i=!0,r(v,o))},f=s.length,m=[];if(!f)return d([]);let g={value:o,originalValue:a,path:l,options:u,schema:this};for(let v=0;v<s.length;v++){const E=s[v];E(g,c,function(h){h&&(Array.isArray(h)?m.push(...h):m.push(h)),--f<=0&&d(m)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,f,m)=>this.resolve(c)._validate(u,c,f,m)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{St.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new St(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw St.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new St(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(St.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(St.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):cs(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=qi({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=qi({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=In.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=In.notNull){return this.nullability(!1,e)}required(e=In.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=In.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=qi(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=sb(e).map(s=>new Vi(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new _c(i,n):_c.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=qi({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=In.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=qi({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=In.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=qi({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(d=>d.name===l.name)===u)}}}wn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])wn.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=R4(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])wn.prototype[t]=wn.prototype.oneOf;for(const t of["not","nope"])wn.prototype[t]=wn.prototype.notOneOf;const O4=()=>!0;function ub(t){return new cb(t)}class cb extends wn{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:O4},e))}}ub.prototype=cb.prototype;const N4=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function P4(t){const e=vp(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function vp(t){var e,n;const r=N4.exec(t);return r?{year:jn(r[1]),month:jn(r[2],1)-1,day:jn(r[3],1),hour:jn(r[4]),minute:jn(r[5]),second:jn(r[6]),millisecond:r[7]?jn(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:jn(r[10]),minuteOffset:jn(r[11])}:null}function jn(t,e=0){return Number(t)||e}let A4=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,D4=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,L4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,M4="^\\d{4}-\\d{2}-\\d{2}",F4="\\d{2}:\\d{2}:\\d{2}",U4="(([+-]\\d{2}(:?\\d{2})?)|Z)",j4=new RegExp(`${M4}T${F4}(\\.\\d+)?${U4}$`),$4=t=>pi(t)||t===t.trim(),V4={}.toString();function Ei(){return new db}class db extends wn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===V4?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||In.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=yt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=yt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=yt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||yt.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=yt.email){return this.matches(A4,{name:"email",message:e,excludeEmptyString:!0})}url(e=yt.url){return this.matches(D4,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=yt.uuid){return this.matches(L4,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(j4,{name:"datetime",message:n||yt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||yt.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=vp(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||yt.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=vp(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=yt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:$4})}lowercase(e=yt.lowercase){return this.transform(n=>pi(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>pi(n)||n===n.toLowerCase()})}uppercase(e=yt.uppercase){return this.transform(n=>pi(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>pi(n)||n===n.toUpperCase()})}}Ei.prototype=db.prototype;let fb=new Date(""),z4=t=>Object.prototype.toString.call(t)==="[object Date]";function hb(){return new Ya}class Ya extends wn{constructor(){super({type:"date",check(e){return z4(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=P4(e),isNaN(e)?Ya.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Vi.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=_p.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=_p.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Ya.INVALID_DATE=fb;hb.prototype=Ya.prototype;hb.INVALID_DATE=fb;function B4(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=wi.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),Vi.isRef(a)&&a.isSibling?s(a.path,o):r_(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return _4.array(Array.from(r),n).reverse()}function $0(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function pb(t){return(e,n)=>$0(t,e)-$0(t,n)}const W4=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function ru(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=ru(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=ru(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(ru)}):"optional"in t?t.optional():t}const H4=(t,e)=>{const n=[...wi.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=wi.getter(wi.join(n),!0)(t);return!!(i&&r in i)};let V0=t=>Object.prototype.toString.call(t)==="[object Object]";function q4(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const G4=pb([]);function Sd(t){return new mb(t)}class mb extends wn{constructor(e){super({type:"object",check(n){return V0(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=G4,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const d of a){let f=s[d],m=d in i;if(f){let g,v=i[d];u.path=(n.path?`${n.path}.`:"")+d,f=f.resolve({value:v,context:n.context,parent:l});let E=f instanceof wn?f.spec:void 0,_=E==null?void 0:E.strict;if(E!=null&&E.strip){c=c||d in i;continue}g=!n.__validating||!_?f.cast(i[d],u):i[d],g!==void 0&&(l[d]=g)}else m&&!o&&(l[d]=i[d]);(m!==d in l||l[d]!==i[d])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!V0(u)){i(l,u);return}o=o||u;let c=[];for(let d of this._nodes){let f=this.fields[d];!f||Vi.isRef(f)||c.push(f.asNestedTest({options:n,key:d,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=B4(e,n),r._sortErrors=pb(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return ru(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=wi.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return H4(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(W4)}noUnknown(e=!0,n=yp.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=q4(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=yp.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Nf.camelCase)}snakeCase(){return this.transformKeys(Nf.snakeCase)}constantCase(){return this.transformKeys(e=>Nf.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Sd.prototype=mb.prototype;const K4=Sd().shape({updatedName:Ei().matches(/^[a-zA-Zа-яА-ЯґҐєЄіІїЇ0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(16,"Name cannot exceed 16 characters").nullable(),photoURL:ub().nullable()});var gb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z0=q.createContext&&q.createContext(gb),Y4=["attr","size","title"];function Q4(t,e){if(t==null)return{};var n=X4(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}function B0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B0(Object(n),!0).forEach(function(r){J4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J4(t,e,n){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z4(t){var e=eV(t,"string");return typeof e=="symbol"?e:e+""}function eV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _b(t){return t&&t.map((e,n)=>q.createElement(e.tag,wc({key:n},e.attr),_b(e.child)))}function Qa(t){return e=>q.createElement(tV,vc({attr:wc({},t.attr)},e),_b(t.child))}function tV(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Q4(t,Y4),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),q.createElement("svg",vc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:wc(wc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&q.createElement("title",null,s),t.children)};return z0!==void 0?q.createElement(z0.Consumer,null,n=>e(n)):e(gb)}function nV(t){return Qa({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function rV(t){return Qa({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}const iV=({register:t,handleAvatarChange:e,previewPhotoURL:n,photoURL:r,clearAva:i})=>b.jsxs("label",{className:ne("flex w-44 items-center justify-center rounded-xl border-2","relative mx-auto h-36 cursor-pointer border-transparent","transition-all hover:border-skin-primary hover:border-opacity-40","duration-300",{"bg-skin-background":!r,"bg-transparent":r}),htmlFor:"photoURL",children:[b.jsx("button",{className:"absolute -right-6 -top-6 z-20 mx-auto inline-block flex h-7 w-7",onClick:i,type:"button",children:b.jsx(rV,{size:20})}),b.jsx("input",{id:"photoURL",type:"file",accept:"image/*",style:{display:"none"},...t==null?void 0:t("photoURL"),name:"photoURL",onChange:e}),b.jsx(RI,{avaClass:"w-44 h-36 mx-auto  cursor-pointer rounded-[10px] hover:border-skin-primary object-cover",imageSrc:n}),b.jsx("span",{className:ne("absolute bottom-[-24px] rounded-[4px] bg-skin-background p-2","border border-transparent object-center text-skin-inverted"),children:b.jsx(nV,{})})]}),sV=()=>{const{name:t,photoURL:e,isLoading:n}=fr(),[r,i]=k.useState(e),s=Fi(),o=k.useMemo(()=>({updatedName:t,photoURL:e}),[t,e]),{register:a,handleSubmit:l,setValue:u,formState:{errors:c},control:d}=Qg({defaultValues:o,resolver:Jg(K4)}),f=GI({control:d}),[m,g]=k.useState(!1);k.useEffect(()=>{const h=f.updatedName!==o.updatedName||typeof f.photoURL=="string"&&f.photoURL!==o.photoURL||f.photoURL instanceof File;g(h)},[f,o]);const v=async h=>{const{updatedName:p,photoURL:y}=h;try{await s(eu({updatedName:p,photoURL:y}))}catch(S){console.error("Error updating user profile:",S)}},E=h=>{var y;const p=(y=h.target.files)==null?void 0:y[0];if(p){const S=URL.createObjectURL(p);i(S),u("photoURL",p)}else i(e)},_=()=>{i(""),u("photoURL","delete")};return b.jsxs("form",{className:"flex flex-col gap-8",onSubmit:l(v),children:[b.jsx(iV,{handleAvatarChange:E,register:a,previewPhotoURL:r,photoURL:e,clearAva:_})," ",(c==null?void 0:c.photoURL)&&b.jsx("p",{className:"inline-block h-2 text-center text-red-500",children:c.photoURL.message}),b.jsx(Xg,{required:!1,register:a,errors:c,id:"updatedName",type:"text",placeholder:t||"Update your name"},"updatedName"),b.jsx(Us,{className:ne("border border-transparent text-skin-inverted hover:border-opacity-40","mx-auto w-64 hover:border-skin-primary"),disabled:n||!m,text:`${n?"Loading...":"Send"}`,type:"submit"})]})},yb=()=>{const[t,e]=k.useState(!1),{name:n,photoURL:r,isLoggedIn:i}=fr(),s=()=>{e(a=>!a)},o=()=>{e(!1)};return i&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{onClick:s,className:ne("user-select-none max-w-92 relative flex cursor-pointer","flex-shrink-0 items-center gap-3 xs:mx-0 xl:mx-10"),children:[b.jsx(RI,{imageSrc:r&&r,border:"rounded-[6px] overflow-hidden",avaClass:"w-10 h-10 object-cover object-center flex-shrink-0"}),b.jsx("p",{className:"flex-shrink-0 text-base font-semibold leading-[111%] text-skin-inverted md:text-[18px]",children:n})]}),b.jsx(mp,{title:"Update user profile",text:"Set your avatar or change name here",isOpen:t,onClose:o,children:b.jsx(sV,{})})]})},oV=Sd().shape({name:Ei().required("Name is required").matches(/^[a-zA-Zа-яА-ЯґҐєЄіІїЇ0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:Ei().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',t=>(t.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',t=>{const e=t.indexOf("@");return t.indexOf(".",e)>e}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:Ei().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format").required("Password is required")}),aV=Sd().shape({email:Ei().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',t=>(t.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',t=>{const e=t.indexOf("@");return t.indexOf(".",e)>e}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:Ei().required("Password is required").min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")}),vb={validationLoginSchema:aV,validationRegisterSchema:oV},lV=[{id:"name",type:"text",placeholder:"Enter your name",required:!0},{id:"email",type:"email",placeholder:"Enter your email",required:!0},{id:"password",type:"password",placeholder:"Enter your password",required:!0}],uV=()=>{const{reset:t,register:e,handleSubmit:n,formState:{errors:r}}=Qg({resolver:Jg(vb.validationRegisterSchema)}),[i,s]=k.useState(!1),{isLoading:o}=fr(),a=Fi(),l=Fg(),u=()=>{s(!i)},c=d=>{a(Jl(d)),t(),l("/nannies"),a(ic(!1))};return b.jsxs("form",{className:"mt-2.5 flex flex-col gap-5",onSubmit:n(c),noValidate:!0,autoComplete:"off",children:[lV.map(({id:d,type:f,placeholder:m,required:g})=>b.jsx(Xg,{required:g,register:e,errors:r,id:d,type:d==="password"&&i?"text":f,placeholder:m,showPassword:i,togglePasswordVisibility:u},d)),b.jsx(Us,{className:ne("mt-10 cursor-pointer rounded-[30px] border border-transparent py-4 text-sm","font-bold text-skin-inverted transition-colors duration-300","hover:border-skin-primary hover:bg-opacity-40"),type:"submit",text:`${o?"Loading...":"Sign Up"}`})]})},cV=[{id:"email",type:"email",placeholder:"Enter your email",required:!0},{id:"password",type:"password",placeholder:"Enter your password",required:!0}],dV=()=>{const{register:t,handleSubmit:e,reset:n,formState:{errors:r}}=Qg({resolver:Jg(vb.validationLoginSchema)}),{isLoading:i}=fr(),s=Fi(),[o,a]=k.useState(!1),l=()=>{a(!o)},u=d=>{s(Zl(d)),n(),s(rc(!1))},c=()=>{s(rc(!1)),s(ic(!0))};return b.jsxs("form",{className:"xs:min-w-[260px]",onSubmit:e(u),noValidate:!0,autoComplete:"off",children:[b.jsx("div",{className:"flex flex-col gap-[18px]",children:cV.map(({id:d,type:f,placeholder:m,required:g})=>b.jsx(Xg,{required:g,register:t,errors:r,id:d,type:d==="password"&&o?"text":f,placeholder:m,showPassword:o,togglePasswordVisibility:l},d))}),b.jsxs("div",{className:"mt-2 flex gap-4",children:["Have no account?"," ",b.jsx("button",{onClick:c,type:"button",className:"text-skin-theme",children:"Registrate"})]}),b.jsx(Us,{className:ne("mt-10 cursor-pointer rounded-[30px] border border-transparent border-opacity-100","py-4 text-sm font-bold text-skin-inverted transition-all duration-300","hover:border-skin-primary hover:bg-opacity-40"),type:"submit",text:`${i?"Loading...":"Log In"}`})]})},fV=t=>t.modals.isLoginPopUpOpen,hV=t=>t.modals.isLoginModalOpen,pV=t=>t.modals.isRegistrationModalOpen,mV=t=>t.modals.isAppointmentOpen,gV=()=>{const t=qt(fV),e=qt(hV),n=qt(pV),r=qt(mV);return{isLoginPopUpOpen:t,isLoginModalOpen:e,isRegistrationModalOpen:n,isAppointmentOpen:r}},wb=()=>{const{isLoginModalOpen:t,isRegistrationModalOpen:e}=gV(),n=Fi(),i=Mn().pathname==="/",s=()=>{n(ic(!0))},o=()=>{n(ic(!1))},a=()=>{n(rc(!0))},l=()=>{n(rc(!1))};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex h-full w-full max-w-96 items-center gap-2 xs:flex-col md2:flex-row xl:ml-10",children:i&&b.jsxs(b.Fragment,{children:[b.jsx(Us,{text:"Log in",type:"button",onClick:a,primary:!1,className:"max-h-[48px] w-[124px] py-1 text-lg md:py-2"})," ",b.jsx(Us,{text:"Registration",type:"button",onClick:s,primary:!0,className:"max-h-[48px] w-[168px] px-12 py-1 text-lg md:px-10 md:py-2"})]})}),b.jsx(mp,{title:"Log In",text:"Welcome back! Please enter your credentials to access your account and continue your babysitter search.",onClose:l,isOpen:t,children:b.jsx(dV,{})}),b.jsx(mp,{title:"Registration",text:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information.",onClose:o,isOpen:e,children:b.jsx(uV,{})})]})};function _V(t){return Qa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(t)}const yV=({toggleNav:t})=>{const{isTablet:e,isDesktop:n}=ti();return b.jsx("button",{className:ne("ml-12 transition-colors duration-300 hover:text-skin-theme","hover:text-opacity-70 md:px-2 md:py-2"),onClick:t,type:"button",children:b.jsx(_V,{className:"pointer-events-none",size:n||e?40:32})})};function vV(t){return Qa({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"},child:[]}]})(t)}const wV=["Red","Blue","Green"],EV=({isThemePopUpOpen:t})=>{const e=Fi(),{theme:n}=fr(),r=i=>{const s=i.toLowerCase();e(mU(s))};return k.useEffect(()=>{n&&(document.body.classList.remove("theme-blue","theme-green"),document.body.classList.add(`theme-${n}`))},[n]),b.jsx("div",{className:ne("absolute right-0 top-20 z-40 flex h-32 w-28 flex-col justify-center p-4","gap-1.5 rounded-md border border-skin-primary bg-skin-background-white","text-sm text-skin-base shadow-lg transition-all duration-300 xl:left-1 xl:top-14",{"invisible scale-75 opacity-0":!t,"visible z-40 scale-100 opacity-100":t}),children:wV.map(i=>b.jsx("span",{className:ne("cursor-pointer py-1 transition-colors duration-300","ease-in-out hover:text-skin-theme"),onClick:()=>r(i),children:i},Em()))})},W0=()=>{const[t,e]=k.useState(!1),{isMobile:n,isTablet:r}=ti(),i=async()=>{e(s=>!s)};return b.jsxs("div",{onClick:i,className:"z-1 relative w-full cursor-pointer xl:max-w-[128px] xl:px-0",children:[b.jsxs("span",{className:ne("flex min-h-[48px] w-full transform select-none items-center justify-between","gap-1 rounded-full border border-skin-inverted border-opacity-40","bg-transparent px-16 py-3.5 text-lg font-medium text-skin-inverted","transition-all duration-300 hover:bg-skin-background-white","hover:text-skin-theme xl:mb-0 xl:px-6 xl:py-2.5 xl:text-base"),children:["Theme",b.jsx(vV,{size:18,className:`${t?"rotate-0":"-rotate-90"} transition-stroke transition-transform`})]}),b.jsx(EV,{isThemePopUpOpen:t})]})};function SV(t){return Qa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}const H0=({text:t,to:e})=>{const{isMobile:n,isTablet:r}=ti();return b.jsx("li",{className:"relative flex w-full items-center",children:b.jsx(Ug,{className:({isActive:i})=>` ${n||r?"flex w-full items-center rounded-full border-skin-primary px-12 py-4 text-xl hover:border-skin-inverted active:outline-double":"py-6 text-base"} px-2 font-normal leading-[125%] transition-all duration-300 focus:outline-white ${i?`${n||r?"custom-after-right":"flex items-center xl:custom-after-bottom"} `:""}`,to:e,children:t})})},CV=[{text:"Home",to:"/"},{text:"Nannies",to:"/nannies"},{text:"Favorites",to:"/favorites"}],q0=({onClose:t})=>{const{isDesktop:e}=ti(),{token:n,isLoggedIn:r}=fr(),i=n&&r;return b.jsxs(b.Fragment,{children:[!e&&b.jsx("button",{className:"absolute left-4 top-4 px-2 py-2 transition-all duration-300 hover:scale-110",onClick:t,type:"button",children:b.jsx(SV,{className:"pointer-events-none",size:32})}),b.jsx("ul",{className:ne("flex items-center justify-center gap-10 xs:w-[194px]","flex-col xl:flex-row"),children:CV.map(s=>s.text==="Favorites"?i&&b.jsx(H0,{text:s.text,to:s.to},s.to):b.jsx(H0,{text:s.text,to:s.to},s.to))})]})},Eb=({handleLogout:t,className:e})=>b.jsx(Us,{text:"Log out",type:"button",onClick:t,primary:!1,className:`${e} max-h-[48px] w-[200px] px-6 xs:text-lg xl:mt-0 xl:text-[16px]`}),TV=({isNavOpen:t,toggleNav:e})=>{const n=Mn(),r=Fi(),{isLoggedIn:i}=fr(),s=n.pathname==="/",{isTablet:o,isMobile:a,isDesktop:l}=ti(),u=()=>{r(jo())};return b.jsxs("div",{className:ne("xl:space-between z-50 flex items-center gap-10 transition-all duration-500","fixed xs:flex-col xs:justify-center xl:static xl:w-full xl:flex-row",{"bottom-0 right-0 top-0 bg-skin-background px-12 text-skin-inverted md:w-96":t&&(o||a),"-right-96 bottom-0 top-0 w-72":!t&&(o||a)}),children:[l&&b.jsx(q0,{isNavOpen:t,onClose:e}),b.jsxs("div",{className:ne("flex w-full flex-col items-center justify-end xs:max-w-[240px] xs:gap-10","xl:mr-4 xl:max-w-none xl:flex-row xl:gap-2"),children:[!l&&b.jsx(W0,{}),l&&s&&!i&&b.jsx(wb,{}),!l&&b.jsx(q0,{isNavOpen:t,onClose:e}),!l&&i&&b.jsx(Eb,{className:"min-h-[58px]",handleLogout:u}),l&&b.jsx(yb,{}),l&&b.jsx(W0,{})]})]})},IV=()=>{const[t,e]=k.useState(!1),{isLoggedIn:n}=fr(),r=Fi(),{isTablet:i,isMobile:s,isDesktop:o}=ti(),a=()=>{e(u=>!u)},l=()=>{r(jo())};return b.jsxs("div",{className:ne("relative flex w-full items-center xs:justify-center md:justify-end"),children:[b.jsxs("div",{className:"flex items-center",children:[!o&&n&&b.jsx(yb,{}),!n&&!o&&b.jsx(wb,{}),(i||s)&&b.jsx(yV,{toggleNav:a})]}),b.jsx(p$,{isNavOpen:t,onClose:a}),b.jsx(TV,{isNavOpen:t,toggleNav:a}),o&&n&&b.jsx(Eb,{className:"max-w-[134px]",handleLogout:l})]})},bV=()=>{const e=Mn().pathname==="/";return b.jsxs("header",{className:ne("flex min-h-[88px] items-center bg-skin-background text-skin-inverted","px-10 transition-colors duration-300 sm:py-0",{"absolute left-0 right-0 bg-transparent xl:pl-24 xl:pr-4":e,"top-0 z-50 border-b border-skin-inverted border-opacity-40":e,"bg-skin-background xs:px-2 md:px-12 xl:px-24":!e}),children:[b.jsx("div",{className:ne("absolute left-0 right-0 top-0 h-full w-full md:backdrop-blur-none",{"xs:backdrop-blur-sm":e,hidden:!e})}),b.jsxs("div",{className:ne("flex h-full w-full items-center justify-between xs:flex-col xs:py-2 md:flex-row md2:py-0 xl:gap-24"),children:[b.jsx(Lj,{}),e&&b.jsx("hr",{className:ne("z-50 mb-4 h-[1px] w-full border-skin-primary md:hidden","bg-skin-background text-skin-theme xs:block")}),b.jsx(IV,{})]})]})},xV=()=>{const e=Mn().pathname==="/";return b.jsxs(b.Fragment,{children:[!e&&b.jsx(bV,{}),b.jsxs("main",{children:[b.jsx(k.Suspense,{fallback:null,children:b.jsx(yj,{})}),b.jsx(cU,{autoClose:1500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnHover:!0,theme:"colored"})]})]})},kV=()=>b.jsx("div",{className:ne("mt-0 flex h-[100dvh] w-full select-none flex-col","items-center justify-center bg-skin-background"),children:b.jsxs("div",{className:ne("relative flex h-[400px] w-[600px] flex-col items-center","justify-center rounded-[60px] bg-transparent bg-opacity-20","pt-4 backdrop-blur-sm backdrop-filter"),children:[b.jsx("h1",{className:ne("font-montserrat mt-0 select-none p-0 text-center text-[100px]","font-extrabold text-skin-inverted md:text-[120px]"),children:"404"}),b.jsx("p",{className:"font-pixel mt-8 px-2 text-center text-lg text-skin-inverted",children:"Page not found"}),b.jsx(Ug,{className:ne("text-skin-inverted-red rounded-lg border border-white hover:border","bg-skin-muted-button px-4 py-2 text-center transition-colors","mt-4 duration-300 hover:bg-skin-background hover:text-skin-inverted"),to:"/",children:"Back to home page"})]})}),RV=({children:t,redirectTo:e="/"})=>{const{token:n,isLoggedIn:r,isLoading:i}=fr();return!i&&!r&&!n?b.jsx(_j,{to:e}):b.jsx(b.Fragment,{children:t})},OV=k.lazy(()=>Dg(()=>import("./HomePage-BYawiGE3.js"),[])),NV=k.lazy(()=>Dg(()=>import("./NanniesPage-BqqmR4FK.js"),__vite__mapDeps([0,1,2]))),PV=k.lazy(()=>Dg(()=>import("./Favorites-KOrLv-Q7.js"),__vite__mapDeps([3,1,2])));function AV(){return b.jsxs(wj,{children:[b.jsxs(Gi,{path:"/",element:b.jsx(xV,{}),children:[b.jsx(Gi,{index:!0,element:b.jsx(OV,{})}),b.jsx(Gi,{path:"/nannies",element:b.jsx(NV,{})}),b.jsx(Gi,{path:"/favorites",element:b.jsx(RV,{redirectTo:"/",children:b.jsx(PV,{})})})]}),b.jsx(Gi,{path:"/*",element:b.jsx(kV,{})})]})}Af.createRoot(document.getElementById("root")).render(b.jsx(q.StrictMode,{children:b.jsx(Sk,{store:Ag,children:b.jsx(kj,{basename:"/nannies",children:b.jsx(cS,{loading:null,persistor:kU,children:b.jsx(AV,{})})})})}));export{Fg as A,Us as B,GV as C,Mn as D,Sf as E,RI as F,Qa as G,bV as H,Xg as I,rc as J,mp as M,Ug as N,vV as R,qt as a,Jk as b,ne as c,lc as d,fr as e,BV as f,zV as g,$V as h,ti as i,b as j,VV as k,WV as l,pm as m,Em as n,Pf as o,q as p,UV as q,k as r,HV as s,Sd as t,Fi as u,Ei as v,hb as w,Qg as x,Jg as y,gV as z};
